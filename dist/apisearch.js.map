{"version":3,"sources":["webpack:///webpack/bootstrap e09521a0cd460c97ca13","webpack:///./src/Query/ItemUUID.js","webpack:///./src/Query/Filter.js","webpack:///./src/apisearch.js","webpack:///./src/Repository/HttpRepository.js","webpack:///./src/Query/Query.js","webpack:///./src/Query/Aggregation.js","webpack:///./src/Query/Coordinate.js","webpack:///./src/TypeChecker.js","webpack:///./src/Query/SortBy.js","webpack:///./src/Query/User.js","webpack:///./src/Geo/AbstractLocationRange.js"],"names":["ItemUUID","id","type","FILTER_IT_DOESNT_MATTER","FILTER_MUST_ALL","FILTER_MUST_ALL_WITH_LEVELS","FILTER_AT_LEAST_ONE","FILTER_EXCLUDE","FILTER_PROMOTE","FILTER_TYPE_FIELD","FILTER_TYPE_RANGE","FILTER_TYPE_DATE_RANGE","FILTER_TYPE_GEO","FILTER_TYPE_QUERY","Filter","field","values","applicationType","filterType","filterTerms","application_type","filter_type","filter_terms","indexOf","module","exports","apiKey","endpoint","TypeError","Apisearch","appId","query","QueryFactory","cache","callback","repository","then","response","catch","error","q","page","size","from","coordinate","queryText","uuid","createByUUIDs","uuids","ids","map","composedUUID","disableAggregations","disableSuggestions","filters","filter","item","pos","HttpRepository","secret","JSON","stringify","composedQuery","fetchData","Promise","resolve","reject","xhr","XMLHttpRequest","onreadystatechange","readyState","status","parse","responseText","open","send","QUERY_DEFAULT_FROM","QUERY_DEFAULT_PAGE","QUERY_DEFAULT_SIZE","QUERY_INFINITE_SIZE","Query","params","universe_filters","items_promoted","aggregations","aggregations_enabled","suggestions_enabled","highlight_enabled","filter_fields","user","lat","lon","sortBy","filterName","aggregate","aggregationSort","isArray","fieldPath","getFilterPathByField","length","aggregateBy","options","rangeType","aggregateByRange","filterByRange","filterUniverseByRange","locationRange","isObjectTypeOf","fields","sort","isDefined","Error","_geo_distance","order","unit","Object","keys","direction","limit","isInteger","itemUUID","constructor","name","forEach","promoteUUID","excludeUUIDs","AGGREGATION_SORT_BY_COUNT_ASC","AGGREGATION_SORT_BY_COUNT_DESC","AGGREGATION_SORT_BY_NAME_ASC","AGGREGATION_SORT_BY_NAME_DESC","AGGREGATION_NO_LIMIT","Aggregation","subgroup","Coordinate","latitude","longitude","TypeChecker","value","integer","bool","string","array","Array","givenObject","mustBe","SORT_BY_SCORE","SORT_BY_RANDOM","SORT_BY_ID_ASC","SORT_BY_ID_DESC","SORT_BY_TYPE_ASC","SORT_BY_TYPE_DESC","SORT_BY_LOCATION_KM_ASC","SORT_BY_LOCATION_MI_ASC","User","AbstractLocationRange"],"mappings":"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","file":"apisearch.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e09521a0cd460c97ca13","/**\n * ItemUUID class\n */\nexport default class ItemUUID {\n    constructor(id, type) {\n        this.id = id;\n        this.type = type;\n    }\n\n    composedUUID() {\n        return `${this.type}~${this.id}`;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Query/ItemUUID.js","/**\n * filter constants\n */\nexport const FILTER_IT_DOESNT_MATTER = 0;\nexport const FILTER_MUST_ALL = 4;\nexport const FILTER_MUST_ALL_WITH_LEVELS = 5;\nexport const FILTER_AT_LEAST_ONE = 8;\nexport const FILTER_EXCLUDE = 16;\nexport const FILTER_PROMOTE = 32;\nexport const FILTER_TYPE_FIELD = 'field';\nexport const FILTER_TYPE_RANGE = 'range';\nexport const FILTER_TYPE_DATE_RANGE = 'date_range';\nexport const FILTER_TYPE_GEO = 'geo';\nexport const FILTER_TYPE_QUERY = 'query';\n\n/**\n * Filter class\n */\nexport default class Filter {\n    constructor(\n        field,\n        values,\n        applicationType,\n        filterType,\n        filterTerms = []\n    ) {\n        this.field = field;\n        this.values = values;\n        this.application_type = applicationType;\n        this.filter_type = filterType;\n        this.filter_terms = filterTerms;\n\n        return this;\n    }\n\n    static getFilterPathByField(field) {\n        return (['id', 'type'].indexOf(field) > -1)\n            ? `uuid.${field}`\n            : `indexed_metadata.${field}`\n        ;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Query/Filter.js","import HttpRepository from \"./Repository/HttpRepository\";\nimport ItemUUID from \"./Query/ItemUUID\";\nimport Query, {\n    QUERY_DEFAULT_PAGE,\n    QUERY_DEFAULT_SIZE,\n    QUERY_INFINITE_SIZE\n} from \"./Query/Query\";\nimport Filter, {\n    FILTER_AT_LEAST_ONE,\n    FILTER_TYPE_FIELD\n} from \"./Query/Filter\";\n\n/**\n * Entry point for the Apisearch client\n *\n * @param repository\n * @param apiKey\n * @param endpoint\n * @returns {Apisearch}\n */\nmodule.exports = function(apiKey, endpoint) {\n    if (typeof apiKey === 'undefined') {\n       throw new TypeError(`ApiKey parameter must be defined.`)\n    }\n\n    return new Apisearch(\n        'apisearch-app-id',\n        apiKey,\n        endpoint\n    );\n};\n\n/**\n * Apisearch class\n */\nclass Apisearch {\n    constructor(appId, apiKey, endpoint) {\n        this.appId = appId;\n        this.apiKey = apiKey;\n        this.endpoint = endpoint || 'http://127.0.0.1:9002/app.php';\n        this.query = QueryFactory;\n        this.cache = {};\n    }\n\n    search(query, callback) {\n        let repository = new HttpRepository(\n            this.endpoint,\n            this.apiKey\n        );\n\n        return repository\n            .query(query)\n            .then(\n                response => callback(response, null)\n            )\n            .catch(\n                error => callback(null, error)\n            )\n        ;\n    }\n\n    createUUID(id, type) {\n        return new ItemUUID(\n            id,\n            type\n        );\n    };\n}\n\n/**\n * QueryFactory class\n */\nclass QueryFactory {\n    static create(\n        q,\n        page = QUERY_DEFAULT_PAGE,\n        size = QUERY_DEFAULT_SIZE\n    ) {\n        return new Query({\n            q,\n            from: (page - 1) * size,\n            page,\n            size\n        });\n    }\n\n    static createMatchAll() {\n        return new Query({\n            q: '',\n            page: QUERY_DEFAULT_PAGE,\n            size: QUERY_INFINITE_SIZE\n        });\n    }\n\n    static createLocated(\n        coordinate,\n        queryText,\n        page = QUERY_DEFAULT_PAGE,\n        size = QUERY_DEFAULT_SIZE\n    ) {\n        return new Query({\n            coordinate,\n            page,\n            size,\n            q: queryText\n        });\n    }\n\n    static createByUUID(uuid) {\n        return this.createByUUIDs([uuid]);\n    }\n\n    static createByUUIDs(uuids) {\n        let ids = uuids.map(uuid => uuid.composedUUID());\n        let query = new Query({\n            q: '',\n            page: QUERY_DEFAULT_PAGE,\n            size: QUERY_INFINITE_SIZE\n        });\n\n        query\n            .disableAggregations()\n            .disableSuggestions();\n\n        query.filters = {\n            ...query.filters,\n            ['_id']: new Filter(\n                '_id',\n                ids.filter(\n                    (item, pos) => ids.indexOf(item) === pos\n                ),\n                FILTER_AT_LEAST_ONE,\n                FILTER_TYPE_FIELD\n            )\n        };\n\n        return query;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/apisearch.js","/**\n * Repository class\n */\nexport default class HttpRepository {\n    /**\n     * Constructor\n     * @param endpoint\n     * @param secret\n     */\n    constructor(endpoint, secret) {\n        this.endpoint = endpoint;\n        this.secret = secret;\n    }\n\n    /**\n     * Make query against the server\n     * @param query\n     * @returns {Promise}\n     */\n    query(query) {\n        query = JSON.stringify(query);\n        let composedQuery = `${this.endpoint}?key=${this.secret}&query=${query}`;\n\n        return this.fetchData(composedQuery);\n    }\n\n    fetchData(composedQuery) {\n        return new Promise((resolve, reject) => {\n                let xhr = new XMLHttpRequest();\n                xhr.onreadystatechange = function () {\n                    if (this.readyState === 4) {\n                        if (this.status === 200) {\n                            return resolve(\n                                JSON.parse(this.responseText)\n                            )\n                        } else {\n                            return reject(`Request error.`)\n                        }\n                    }\n                };\n\n                xhr.open(\"GET\", composedQuery, true);\n                xhr.send();\n            }\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Repository/HttpRepository.js","import Aggregation from \"./Aggregation\";\nimport ItemUUID from \"./ItemUUID\";\nimport Coordinate from \"./Coordinate\";\nimport TypeChecker from \"../TypeChecker\";\nimport Filter, {\n    FILTER_AT_LEAST_ONE,\n    FILTER_EXCLUDE,\n    FILTER_IT_DOESNT_MATTER, FILTER_TYPE_DATE_RANGE,\n    FILTER_TYPE_FIELD, FILTER_TYPE_GEO, FILTER_TYPE_RANGE\n} from \"./Filter\";\nimport {\n    AGGREGATION_NO_LIMIT,\n    AGGREGATION_SORT_BY_COUNT_DESC\n} from \"./Aggregation\";\nimport {SORT_BY_SCORE} from \"./SortBy\";\nimport User from \"./User\";\nimport AbstractLocationRange from \"../Geo/AbstractLocationRange\";\n\n/**\n * Query constants\n */\nexport const QUERY_DEFAULT_FROM = 0;\nexport const QUERY_DEFAULT_PAGE = 1;\nexport const QUERY_DEFAULT_SIZE = 10;\nexport const QUERY_INFINITE_SIZE = 1000;\n\n/**\n * Query class\n */\nexport default class Query {\n    constructor(params) {\n        this.q = params.q;\n        this.universe_filters = params.universe_filters || [];\n        this.filters = params.filters || [];\n        this.items_promoted = params.items_promoted || [];\n        this.aggregations = params.aggregations || [];\n        this.page = params.aggregations || QUERY_DEFAULT_PAGE;\n        this.size = params.size || QUERY_DEFAULT_SIZE;\n        this.from = params.from || QUERY_DEFAULT_FROM;\n        this.aggregations_enabled = params.aggregations_enabled || true;\n        this.suggestions_enabled = params.suggestions_enabled || false;\n        this.highlight_enabled = params.highlight_enabled || false;\n        this.filter_fields = params.filter_fields || [];\n        this.user = params.user || null;\n        this.coordinate = (typeof params.coordinate !== 'undefined')\n            ? new Coordinate(\n                params.coordinate.lat,\n                params.coordinate.lon\n            ) : null\n        ;\n        this.sortBy(SORT_BY_SCORE);\n\n        return this;\n    }\n\n    filterBy(\n        filterName,\n        field,\n        values,\n        applicationType = FILTER_AT_LEAST_ONE,\n        aggregate = true,\n        aggregationSort = AGGREGATION_SORT_BY_COUNT_DESC\n    ) {\n        TypeChecker.isArray(values);\n        TypeChecker.isArray(aggregationSort);\n\n        let fieldPath = Filter.getFilterPathByField(field);\n        if (values.length !== 0) {\n            this.filters = {\n                ...this.filters,\n                [filterName]: new Filter(\n                    fieldPath,\n                    values,\n                    applicationType,\n                    FILTER_TYPE_FIELD\n                )\n            }\n        } else {\n            delete this.filters[field]\n        }\n\n        if (aggregate) {\n            this.aggregateBy(\n                filterName,\n                field,\n                applicationType,\n                aggregationSort\n            )\n        }\n\n        return this;\n    }\n\n    filterByTypes(\n        values,\n        aggregate = true,\n        aggregationSort = AGGREGATION_SORT_BY_COUNT_DESC\n    ) {\n        TypeChecker.isArray(values);\n\n        let fieldPath = Filter.getFilterPathByField('type');\n        if (values.length !== 0) {\n            this.filters = {\n                ...this.filters,\n                ['type']: new Filter(\n                    fieldPath,\n                    values,\n                    FILTER_AT_LEAST_ONE,\n                    FILTER_TYPE_FIELD\n                )\n            }\n        } else {\n            delete this.filters['type']\n        }\n\n        if (aggregate) {\n            this.aggregations = {\n                ...this.aggregations,\n                ['type']: new Aggregation(\n                    'type',\n                    fieldPath,\n                    FILTER_AT_LEAST_ONE,\n                    FILTER_TYPE_FIELD,\n                    [],\n                    aggregationSort\n                )\n            }\n        }\n\n        return this;\n    }\n\n    filterByIds(values) {\n        TypeChecker.isArray(values);\n\n        let fieldPath = Filter.getFilterPathByField('id');\n        if (values.length !== 0) {\n            this.filters = {\n                ...this.filters,\n                ['id']: new Filter(\n                    fieldPath,\n                    values,\n                    FILTER_AT_LEAST_ONE,\n                    FILTER_TYPE_FIELD\n                )\n            }\n        } else {\n            delete this.filters['id']\n        }\n\n        return this;\n    }\n\n    filterByRange(\n        filterName,\n        field,\n        options,\n        values,\n        applicationType = FILTER_AT_LEAST_ONE,\n        rangeType = FILTER_TYPE_RANGE,\n        aggregate = true,\n        aggregationSort = AGGREGATION_SORT_BY_COUNT_DESC\n    ) {\n        TypeChecker.isArray(options);\n        TypeChecker.isArray(values);\n\n        let fieldPath = Filter.getFilterPathByField(field);\n        if (values.length !== 0) {\n            this.filters = {\n                ...this.filters,\n                [filterName]: new Filter(\n                    fieldPath,\n                    values,\n                    applicationType,\n                    rangeType\n                )\n            }\n        } else {\n            delete this.filters[filterName]\n        }\n\n        if (aggregate) {\n            this.aggregateByRange(\n                filterName,\n                fieldPath,\n                options,\n                applicationType,\n                rangeType,\n                aggregationSort\n            )\n        }\n\n        return this;\n    }\n\n    filterByDateRange(\n        filterName,\n        field,\n        options,\n        values,\n        applicationType = FILTER_AT_LEAST_ONE,\n        aggregate = true,\n        aggregationSort = AGGREGATION_SORT_BY_COUNT_DESC\n    ) {\n        return this.filterByRange(\n            filterName,\n            field,\n            options,\n            values,\n            applicationType,\n            FILTER_TYPE_DATE_RANGE,\n            aggregate,\n            aggregationSort\n        );\n    }\n\n    filterUniverseBy(\n        field,\n        values,\n        applicationType = FILTER_AT_LEAST_ONE\n    ) {\n        TypeChecker.isArray(values);\n\n        let fieldPath = Filter.getFilterPathByField(field);\n        if (values.length !== 0) {\n            this.universe_filters = {\n                ...this.universe_filters,\n                [field]: new Filter(\n                    fieldPath,\n                    values,\n                    applicationType,\n                    FILTER_TYPE_FIELD\n                )\n            }\n        } else {\n            delete this.universe_filters[field]\n        }\n\n        return this;\n    }\n\n    filterUniverseByTypes(values) {\n        TypeChecker.isArray(values);\n\n        let fieldPath = Filter.getFilterPathByField('type');\n        if (values.length !== 0) {\n            this.universe_filters = {\n                ...this.universe_filters,\n                ['type']: new Filter(\n                    fieldPath,\n                    values,\n                    FILTER_AT_LEAST_ONE,\n                    FILTER_TYPE_FIELD\n                )\n            }\n        } else {\n            delete this.universe_filters['type']\n        }\n\n        return this;\n    }\n\n    filterUniverseByIds(values) {\n        TypeChecker.isArray(values);\n\n        let fieldPath = Filter.getFilterPathByField('id');\n        if (values.length !== 0) {\n            this.universe_filters = {\n                ...this.universe_filters,\n                ['id']: new Filter(\n                    fieldPath,\n                    values,\n                    FILTER_AT_LEAST_ONE,\n                    FILTER_TYPE_FIELD\n                )\n            }\n        } else {\n            delete this.universe_filters['id']\n        }\n\n        return this;\n    }\n\n    filterUniverseByRange(\n        field,\n        values,\n        applicationType = FILTER_AT_LEAST_ONE,\n        rangeType = FILTER_TYPE_RANGE\n    ) {\n        TypeChecker.isArray(values);\n\n        let fieldPath = Filter.getFilterPathByField(field);\n        if (values.length !== 0) {\n            this.universe_filters = {\n                ...this.universe_filters,\n                [field]: new Filter(\n                    fieldPath,\n                    values,\n                    applicationType,\n                    rangeType\n                )\n            }\n        } else {\n            delete this.universe_filters[field]\n        }\n\n        return this;\n    }\n\n    filterUniverseByDateRange(\n        field,\n        values,\n        applicationType = FILTER_AT_LEAST_ONE\n    ) {\n        return this.filterUniverseByRange(\n            field,\n            values,\n            applicationType,\n            FILTER_TYPE_DATE_RANGE\n        );\n    }\n\n    filterUniverseByLocation(locationRange) {\n        TypeChecker.isObjectTypeOf(locationRange, AbstractLocationRange);\n\n        this.universe_filters = {\n            ...this.universe_filters,\n            ['coordinate']: new Filter(\n                'coordinate',\n                locationRange,\n                FILTER_AT_LEAST_ONE,\n                FILTER_TYPE_GEO\n            )\n        };\n\n        return this;\n    }\n\n    setFilterFields(fields) {\n        TypeChecker.isArray(fields);\n\n        if (fields.length === 0) {\n            this.filter_fields = [...fields];\n\n            return this;\n        }\n\n        fields.map(field => {\n            this.filter_fields = [\n                ...this.filter_fields,\n                field\n            ]\n        });\n\n        return this;\n    }\n\n    sortBy(sort) {\n        TypeChecker.isDefined(sort);\n\n        if (typeof sort['_geo_distance'] !== 'undefined') {\n            if (this.coordinate instanceof Coordinate === false) {\n                throw new Error(`\n                    In order to be able to sort by coordinates, you need to \n                    create a Query by using apisearch.query.createLocated(...) \n                    instead of apisearch.query.create(...)\n                `);\n            }\n            this.sort = {\n                ['_geo_distance']: {\n                    ['coordinate']: this.coordinate,\n                    ['order']: sort._geo_distance.order,\n                    ['unit']: sort._geo_distance.unit\n                }\n            };\n        } else {\n            Object.keys(sort).map(field => {\n                let direction = sort[field].order;\n                this.sort = {\n                    [field]: {\n                        ['order']: direction\n                    }\n                };\n            });\n        }\n\n        return this;\n    }\n\n    aggregateBy(\n        filterName,\n        field,\n        applicationType,\n        aggregationSort = AGGREGATION_SORT_BY_COUNT_DESC,\n        limit = AGGREGATION_NO_LIMIT\n    ) {\n        TypeChecker.isDefined(applicationType);\n        TypeChecker.isInteger(applicationType);\n\n        this.aggregations = {\n            ...this.aggregations,\n            [filterName]: new Aggregation(\n                filterName,\n                Filter.getFilterPathByField(field),\n                applicationType,\n                FILTER_TYPE_FIELD,\n                [],\n                aggregationSort,\n                limit\n            )\n        };\n\n        return this;\n    }\n\n    aggregateByRange(\n        filterName,\n        field,\n        options,\n        applicationType,\n        rangeType = FILTER_TYPE_RANGE,\n        aggregationSort = AGGREGATION_SORT_BY_COUNT_DESC,\n        limit = AGGREGATION_NO_LIMIT\n    ) {\n        TypeChecker.isArray(options);\n\n        if (options.length === 0) {\n            return this;\n        }\n\n        this.aggregations = {\n            ...this.aggregations,\n            [filterName]: new Aggregation(\n                filterName,\n                Filter.getFilterPathByField(field),\n                applicationType,\n                rangeType,\n                aggregationSort,\n                limit\n            )\n        };\n\n        return this;\n    }\n\n    aggregateByDateRange(\n        filterName,\n        field,\n        options,\n        applicationType,\n        aggregationSort = AGGREGATION_SORT_BY_COUNT_DESC,\n        limit = AGGREGATION_NO_LIMIT\n    ) {\n        TypeChecker.isArray(options);\n\n        if (options.length === 0) {\n            return this;\n        }\n\n        this.aggregations = {\n            ...this.aggregations,\n            [filterName]: new Aggregation(\n                filterName,\n                Filter.getFilterPathByField(field),\n                applicationType,\n                FILTER_TYPE_DATE_RANGE,\n                aggregationSort,\n                limit\n            )\n        };\n\n        return this;\n    }\n\n    enableAggregations() {\n        this.aggregations_enabled = true;\n        return this;\n    }\n\n    disableAggregations() {\n        this.aggregations_enabled = false;\n        return this;\n    }\n\n    enableSuggestions() {\n        this.suggestions_enabled = true;\n        return this;\n    }\n\n    disableSuggestions() {\n        this.suggestions_enabled = false;\n        return this;\n    }\n\n    enableHighlights() {\n        this.highlight_enabled = true;\n        return this;\n    }\n\n    disableHighlights() {\n        this.highlight_enabled = false;\n        return this;\n    }\n\n    promoteUUID(itemUUID) {\n        if (itemUUID instanceof ItemUUID === false) {\n            throw new Error(`Excluded item must be type \"ItemUUID\", \"${itemUUID.constructor.name}\" given.`);\n        }\n        this.items_promoted = [\n            ...this.items_promoted,\n            itemUUID\n        ];\n\n        return this;\n    }\n\n    promoteUUIDs(uuids) {\n        [...uuids].forEach(uuid => this.promoteUUID(uuid));\n\n        return this;\n    }\n\n    excludeUUID(itemUUID) {\n        TypeChecker.isObjectTypeOf(itemUUID, ItemUUID);\n        this.excludeUUIDs([itemUUID]);\n\n        return this;\n    }\n\n    excludeUUIDs(uuids) {\n        this.filters = {\n            ...this.filters,\n            ['excluded_ids']: new Filter(\n                '_id',\n                [...uuids].map(uuid => uuid.composedUUID()),\n                FILTER_EXCLUDE,\n                FILTER_TYPE_FIELD\n            )\n        };\n\n        return this;\n    }\n\n    byUser(user) {\n        TypeChecker.isObjectTypeOf(user, User);\n        this.user = user;\n\n        return this;\n    }\n\n    anonymously() {\n        this.user = null;\n\n        return null;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Query/Query.js","/**\n * Aggregation constants\n */\nexport const AGGREGATION_SORT_BY_COUNT_ASC = ['_count', 'asc'];\nexport const AGGREGATION_SORT_BY_COUNT_DESC = ['_count', 'desc'];\nexport const AGGREGATION_SORT_BY_NAME_ASC = ['_term', 'asc'];\nexport const AGGREGATION_SORT_BY_NAME_DESC = ['_term', 'desc'];\nexport const AGGREGATION_NO_LIMIT = 0;\n\n/**\n * Aggregation class\n */\nexport default class Aggregation {\n    constructor(\n        name,\n        field,\n        applicationType,\n        filterType,\n        subgroup,\n        sort,\n        limit\n    ) {\n        this.name = name;\n        this.field = field;\n        this.applicationType = applicationType;\n        this.filterType = filterType;\n        this.subgroup = subgroup;\n        this.sort = sort || AGGREGATION_SORT_BY_COUNT_DESC;\n        this.limit = limit || AGGREGATION_NO_LIMIT;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Query/Aggregation.js","/**\n * Coordinate Type cast\n * @param coordinate\n */\n\n\nexport default class Coordinate {\n    constructor(latitude, longitude) {\n        if (\n            typeof latitude === 'undefined' ||\n            typeof latitude === 'undefined'\n        ) {\n            throw new Error(`Not valid coordinates object type given.`);\n        }\n\n        this.lat = latitude;\n        this.lon = longitude;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Query/Coordinate.js","/**\n * Typechecking\n */\nexport default class TypeChecker {\n    static isDefined(value) {\n        if (typeof value === 'undefined') {\n            throw new TypeError(`Method parameter must be defined.`);\n        }\n    }\n\n    static isInteger(integer) {\n        if (typeof integer !== 'number') {\n            throw new TypeError(`\n                \"${integer}\" must be type of Integer, \n                \"${integer.constructor.name}\" given.\n            `);\n        }\n    }\n\n    static isBool(bool) {\n        if (typeof bool !== 'boolean') {\n            throw new TypeError(`\n                \"${bool}\" must be type of Boolean, \n                \"${bool.constructor.name}\" given.\n            `);\n        }\n    }\n\n    static isString(string) {\n        if (typeof string !== 'string') {\n            throw new TypeError(`\n                \"${string}\" must be type of String, \n                \"${string.constructor.name}\" given.\n            `);\n        }\n    }\n\n    static isArray(array) {\n        if (array instanceof Array === false) {\n            throw new TypeError(`\n                \"${array}\" must be type of Array, \n                \"${array.constructor.name}\" given.\n            `);\n        }\n    }\n\n    static isObjectTypeOf(\n        givenObject,\n        mustBe\n    ) {\n        if (givenObject instanceof mustBe !== true) {\n            throw new TypeError(`\n                \"${givenObject.constructor.name}\" must be type ${mustBe.name}, \n                \"${givenObject.constructor.name}\" given.\n            `);\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/TypeChecker.js","/**\n export * Sort by constants\n */\n\nexport const SORT_BY_SCORE = {\n    '_score': {\n        'order': 'asc'\n    }\n};\nexport const SORT_BY_RANDOM = {\n    'random': {\n        'order': 'asc'\n    }\n};\nexport const SORT_BY_ID_ASC = {\n    'uuid.id': {\n        'order': 'asc'\n    }\n};\nexport const SORT_BY_ID_DESC = {\n    'uuid.id': {\n        'order': 'desc'\n    }\n};\nexport const SORT_BY_TYPE_ASC = {\n    'uuid.type': {\n        'order': 'asc'\n    }\n};\nexport const SORT_BY_TYPE_DESC = {\n    'uuid.type': {\n        'order': 'desc'\n    }\n};\nexport const SORT_BY_LOCATION_KM_ASC = {\n    '_geo_distance': {\n        'order': 'asc',\n        'unit': 'km'\n    }\n};\nexport const SORT_BY_LOCATION_MI_ASC = {\n    '_geo_distance': {\n        'order': 'asc',\n        'unit': 'mi'\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/Query/SortBy.js","/**\n * User class\n */\nexport default class User {\n    constructor(id) {\n        this.id = id;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Query/User.js","/**\n * Abstract Location Range class\n */\nexport default class AbstractLocationRange {}\n\n\n// WEBPACK FOOTER //\n// ./src/Geo/AbstractLocationRange.js"],"sourceRoot":""}