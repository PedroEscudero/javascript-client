{"version":3,"sources":["webpack:///webpack/bootstrap d57e765df3dcebbdbd2b","webpack:///./src/Coordinate.js","webpack:///./src/ItemUUID.js","webpack:///./src/apisearch.js","webpack:///./src/Query.js","webpack:///./src/Filter.js","webpack:///./src/Aggregation.js","webpack:///./src/Repository.js"],"names":["checkCoordinateTypes","coordinate","Error","lat","lon","ItemUUID","id","type","cache","client","repository","endpoint","secret","search","query","callback","then","response","createUUID","create","q","page","size","from","createMatchAll","createLocated","queryText","createByUUID","uuid","createByUUIDs","uuids","ids","map","composedUUID","disableAggregations","disableSuggestions","filters","filter","item","pos","indexOf","module","exports","QUERY_DEFAULT_FROM","QUERY_DEFAULT_PAGE","QUERY_DEFAULT_SIZE","QUERY_INFINITE_SIZE","Query","params","universe_filters","items_promoted","aggregations","aggregations_enabled","suggestions_enabled","highlight_enabled","filter_fields","user","filterName","field","values","applicationType","aggregate","aggregationSort","fieldPath","getFilterPathByField","length","aggregateBy","limit","sort","Coordinate","direction","Array","$this","itemUUID","constructor","name","forEach","promoteUUID","excludeUUIDs","FILTER_IT_DOESNT_MATTER","FILTER_MUST_ALL","FILTER_MUST_ALL_WITH_LEVELS","FILTER_AT_LEAST_ONE","FILTER_EXCLUDE","FILTER_PROMOTE","FILTER_TYPE_FIELD","FILTER_TYPE_RANGE","FILTER_TYPE_DATE_RANGE","FILTER_TYPE_GEO","FILTER_TYPE_QUERY","Filter","filterType","filterTerms","application_type","filter_type","filter_terms","AGGREGATION_SORT_BY_COUNT_ASC","AGGREGATION_SORT_BY_COUNT_DESC","AGGREGATION_SORT_BY_NAME_ASC","AGGREGATION_SORT_BY_NAME_DESC","AGGREGATION_NO_LIMIT","Aggregation","subgroup","HttpRepository","JSON","stringify","composedQuery","fetchData","Promise","xhr","XMLHttpRequest","onreadystatechange","readyState","status","resolve","parse","responseText","open","send"],"mappings":"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","file":"apisearch.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 54);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d57e765df3dcebbdbd2b","/**\n * Coordinate Type cast\n * @param coordinate\n */\nexport const checkCoordinateTypes = (coordinate) => {\n    if (typeof coordinate === 'undefined') {\n        return coordinate;\n    }\n    if (typeof coordinate !== 'object') {\n        throw new Error(`Coordinates must be typo of object, \"${typeof coordinate}\" given.`);\n    }\n    if (\n        typeof coordinate.lat !== 'undefined' &&\n        typeof coordinate.lon !== 'undefined'\n    ) {\n        return coordinate;\n    }\n\n    throw new Error('Not valid coordinates object type given.');\n};\n\n\n// WEBPACK FOOTER //\n// ./src/Coordinate.js","/**\n * ItemUUID class\n */\nexport default class ItemUUID {\n    constructor(id, type) {\n        this.id = id;\n        this.type = type;\n    }\n\n    composedUUID() {\n        return `${this.type}~${this.id}`;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/ItemUUID.js","/**\n * Apisearch entry point\n */\nimport Query, {\n    QUERY_DEFAULT_PAGE,\n    QUERY_DEFAULT_SIZE,\n    QUERY_INFINITE_SIZE\n} from \"./Query\";\nimport HttpRepository from \"./Repository\";\nimport ItemUUID from \"./ItemUUID\";\nimport Filter, {FILTER_AT_LEAST_ONE, FILTER_TYPE_FIELD} from \"./Filter\";\n\nconst cache = {};\n\nconst client = function(repository, endpoint, secret) {\n    this.repository = repository;\n    this.endpoint = endpoint;\n    this.secret = secret;\n};\n\nconst search = function(query, callback) {\n    let repository = new HttpRepository(\n        this.endpoint,\n        this.secret\n    );\n\n    return repository\n        .query(query)\n        .then(\n            response => callback(response)\n        )\n    ;\n};\n\nconst createUUID = function(id, type) {\n    return new ItemUUID(\n        id,\n        type\n    );\n};\n\nconst query =  {\n    create(\n        q,\n        page = QUERY_DEFAULT_PAGE,\n        size = QUERY_DEFAULT_SIZE\n    ) {\n        return new Query({\n            q,\n            from: (page - 1) * size,\n            page,\n            size\n        });\n    },\n    createMatchAll() {\n        return new Query({\n            q: '',\n            page: QUERY_DEFAULT_PAGE,\n            size: QUERY_INFINITE_SIZE\n        });\n    },\n    createLocated(\n        coordinate,\n        queryText,\n        page = QUERY_DEFAULT_PAGE,\n        size = QUERY_DEFAULT_SIZE\n    ) {\n        return new Query({\n            coordinate,\n            page,\n            size,\n            q: queryText\n        });\n    },\n    createByUUID(uuid) {\n        return this.createByUUIDs([uuid]);\n    },\n    createByUUIDs(uuids) {\n        let ids = uuids.map(uuid => uuid.composedUUID());\n        let query = new Query({\n            q: '',\n            page: QUERY_DEFAULT_PAGE,\n            size: QUERY_INFINITE_SIZE\n        });\n\n        query\n            .disableAggregations()\n            .disableSuggestions();\n\n        query.filters = {\n            ...query.filters,\n            ['_id']: new Filter(\n                '_id',\n                ids.filter(\n                    (item, pos) => ids.indexOf(item) === pos\n                ),\n                FILTER_AT_LEAST_ONE,\n                FILTER_TYPE_FIELD\n            )\n        };\n\n        return query;\n    }\n};\n\nmodule.exports = {\n    cache,\n    client,\n    search,\n    createUUID,\n    query\n};\n\n\n// WEBPACK FOOTER //\n// ./src/apisearch.js","import Aggregation from \"./Aggregation\";\nimport Filter, {\n    FILTER_AT_LEAST_ONE,\n    FILTER_EXCLUDE,\n    FILTER_IT_DOESNT_MATTER,\n    FILTER_TYPE_FIELD\n} from \"./Filter\";\nimport {\n    AGGREGATION_NO_LIMIT,\n    AGGREGATION_SORT_BY_COUNT_DESC\n} from \"./Aggregation\";\nimport {checkCoordinateTypes} from \"./Coordinate\";\nimport ItemUUID from \"./ItemUUID\";\n\n/**\n * Query constants\n */\nexport const QUERY_DEFAULT_FROM = 0;\nexport const QUERY_DEFAULT_PAGE = 1;\nexport const QUERY_DEFAULT_SIZE = 10;\nexport const QUERY_INFINITE_SIZE = 1000;\n\n/**\n * Query class\n */\nexport default class Query {\n    constructor(params) {\n        this.q = params.q;\n        this.universe_filters = params.universe_filters || [];\n        this.filters = params.filters || [];\n        this.items_promoted = params.items_promoted || [];\n        this.aggregations = params.aggregations || [];\n        this.page = params.aggregations || QUERY_DEFAULT_PAGE;\n        this.size = params.size || QUERY_DEFAULT_SIZE;\n        this.from = params.from || QUERY_DEFAULT_FROM;\n        this.aggregations_enabled = params.aggregations_enabled || true;\n        this.suggestions_enabled = params.suggestions_enabled || false;\n        this.highlight_enabled = params.highlight_enabled || false;\n        this.filter_fields = params.filter_fields || [];\n        this.user = params.user;\n        this.coordinate = checkCoordinateTypes(params.coordinate);\n        this.coordinate = params.coordinate;\n\n        return this;\n    }\n\n    filterBy(\n        filterName,\n        field,\n        values,\n        applicationType = FILTER_AT_LEAST_ONE,\n        aggregate = true,\n        aggregationSort = AGGREGATION_SORT_BY_COUNT_DESC\n    ) {\n        if (typeof values !== 'object') {\n            throw new Error(`values must be type of \"array\", \"${typeof values}\" given.`);\n        }\n        if (typeof aggregationSort !== 'object') {\n            throw new Error(`values must be type of \"array\", \"${typeof aggregationSort}\" given.`);\n        }\n\n        let fieldPath = Filter.getFilterPathByField(field);\n        if (values.length !== 0) {\n            this.filters = {\n                ...this.filters,\n                [filterName]: new Filter(\n                    fieldPath,\n                    values,\n                    applicationType,\n                    FILTER_TYPE_FIELD\n                )\n            }\n        } else {\n            delete this.filters[field]\n        }\n\n        if (aggregate) {\n            this.aggregateBy(\n                filterName,\n                field,\n                applicationType,\n                aggregationSort\n            )\n        }\n\n        return this;\n    }\n\n    filterUniverseBy(\n        field,\n        values,\n        applicationType = FILTER_AT_LEAST_ONE\n    ) {\n        if (typeof values !== 'object') {\n            throw new Error(`values must be type of \"array\", \"${typeof values}\" given.`);\n        }\n\n        let fieldPath = Filter.getFilterPathByField(field);\n        if (values.length !== 0) {\n            this.universe_filters = {\n                ...this.universe_filters,\n                [field]: new Filter(\n                    fieldPath,\n                    values,\n                    applicationType,\n                    FILTER_TYPE_FIELD\n                )\n            }\n        } else {\n            delete this.universe_filters[field]\n        }\n\n        return this;\n    }\n\n    aggregateBy(\n        filterName,\n        field,\n        applicationType,\n        aggregationSort = AGGREGATION_SORT_BY_COUNT_DESC,\n        limit = AGGREGATION_NO_LIMIT\n    ) {\n        this.aggregations = {\n            ...this.aggregations,\n            [filterName]: new Aggregation(\n                filterName,\n                Filter.getFilterPathByField(field),\n                applicationType,\n                FILTER_TYPE_FIELD,\n                [],\n                aggregationSort,\n                limit\n            )\n        };\n\n        return this;\n    }\n\n    sortBy(sort) {\n        if (typeof sort['_geo_distance'] !== 'undefined') {\n            if (this.coordinate instanceof Coordinate) {\n                throw new Error(`\n                    In order to be able to sort by coordinates, you need to \n                    create a Query by using apisearch.query.createLocated() \n                    instead of apisearch.query.create()\n                `);\n            }\n            this.sort = {\n                ...this.sort,\n                ['_geo_distance']: {\n                    ['coordinate']: this.coordinate\n                }\n            };\n        }\n\n        sort.map((field, direction) => {\n            if (direction instanceof Array) {\n                this.sort = {\n                    ...this.sort,\n                    [field]: {\n                        ['order']: direction\n                    }\n                };\n            }\n        });\n        \n        return $this;\n    }\n\n    enableAggregations() {\n        this.aggregations_enabled = true;\n        return this;\n    }\n\n    disableAggregations() {\n        this.aggregations_enabled = false;\n        return this;\n    }\n\n    enableSuggestions() {\n        this.suggestions_enabled = true;\n        return this;\n    }\n\n    disableSuggestions() {\n        this.suggestions_enabled = false;\n        return this;\n    }\n\n    enableHighlights() {\n        this.highlight_enabled = true;\n        return this;\n    }\n\n    disableHighlights() {\n        this.highlight_enabled = false;\n        return this;\n    }\n\n    promoteUUID(itemUUID) {\n        if (!itemUUID instanceof ItemUUID) {\n            throw new Error(`Excluded item must be type \"ItemUUID\", \"${itemUUID.constructor.name}\" given.`);\n        }\n        this.items_promoted = [\n            ...this.items_promoted,\n            itemUUID\n        ];\n\n        return this;\n    }\n\n    promoteUUIDs(uuids) {\n        [...uuids].forEach(uuid => this.promoteUUID(uuid));\n\n        return this;\n    }\n\n    excludeUUID(itemUUID) {\n        if (!itemUUID instanceof ItemUUID) {\n            throw new Error(`Excluded item must be type \"ItemUUID\", \"${itemUUID.constructor.name}\" given.`);\n        }\n        this.excludeUUIDs([itemUUID]);\n\n        return this;\n    }\n\n    excludeUUIDs(uuids) {\n        this.filters = {\n            ...this.filters,\n            ['excluded_ids']: new Filter(\n                '_id',\n                [...uuids].map(uuid => uuid.composedUUID()),\n                FILTER_EXCLUDE,\n                FILTER_TYPE_FIELD\n            )\n        };\n\n        return this;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Query.js","/**\n * filter constants\n */\nexport const FILTER_IT_DOESNT_MATTER = 0;\nexport const FILTER_MUST_ALL = 4;\nexport const FILTER_MUST_ALL_WITH_LEVELS = 5;\nexport const FILTER_AT_LEAST_ONE = 8;\nexport const FILTER_EXCLUDE = 16;\nexport const FILTER_PROMOTE = 32;\nexport const FILTER_TYPE_FIELD = 'field';\nexport const FILTER_TYPE_RANGE = 'range';\nexport const FILTER_TYPE_DATE_RANGE = 'date_range';\nexport const FILTER_TYPE_GEO = 'geo';\nexport const FILTER_TYPE_QUERY = 'query';\n\n/**\n * Filter class\n */\nexport default class Filter {\n    constructor(\n        field,\n        values,\n        applicationType,\n        filterType,\n        filterTerms = []\n    ) {\n        this.field = field;\n        this.values = values;\n        this.application_type = applicationType;\n        this.filter_type = filterType;\n        this.filter_terms = filterTerms;\n\n        return this;\n    }\n\n    static getFilterPathByField(field) {\n        return (['id', 'type'].indexOf(field) > -1)\n            ? `uuid.${field}`\n            : `indexed_metadata.${field}`\n        ;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Filter.js","/**\n * Aggregation constants\n */\nexport const AGGREGATION_SORT_BY_COUNT_ASC = ['_count', 'asc'];\nexport const AGGREGATION_SORT_BY_COUNT_DESC = ['_count', 'desc'];\nexport const AGGREGATION_SORT_BY_NAME_ASC = ['_term', 'asc'];\nexport const AGGREGATION_SORT_BY_NAME_DESC = ['_term', 'desc'];\nexport const AGGREGATION_NO_LIMIT = 0;\n\n/**\n * Aggregation class\n */\nexport default class Aggregation {\n    constructor(\n        name,\n        field,\n        applicationType,\n        filterType,\n        subgroup,\n        sort = AGGREGATION_SORT_BY_COUNT_DESC,\n        limit = AGGREGATION_NO_LIMIT\n    ) {\n        this.name = name;\n        this.field = field;\n        this.applicationType = applicationType;\n        this.filterType = filterType;\n        this.subgroup = subgroup;\n        this.sort = sort;\n        this.limit = limit;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Aggregation.js","/**\n * Repository class\n */\nexport default class HttpRepository {\n    /**\n     * Constructor\n     * @param endpoint\n     * @param secret\n     */\n    constructor(endpoint, secret) {\n        this.endpoint = endpoint;\n        this.secret = secret;\n    }\n\n    /**\n     * Make query against the server\n     * @param query\n     * @returns {Promise}\n     */\n    query(query) {\n        query = JSON.stringify(query);\n        let composedQuery = `${this.endpoint}?key=${this.secret}&query=${query}`;\n\n        return this.fetchData(composedQuery);\n    }\n\n    fetchData(composedQuery) {\n        return new Promise(resolve => {\n            let xhr = new XMLHttpRequest();\n            xhr.onreadystatechange = function() {\n                if (this.readyState === 4 && this.status === 200) {\n                    return resolve(\n                        JSON.parse(this.responseText)\n                    );\n                }\n            };\n            xhr.open(\"GET\", composedQuery, true);\n            xhr.send();\n        })\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Repository.js"],"sourceRoot":""}