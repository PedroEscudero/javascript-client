{"version":3,"sources":["webpack:///apisearch.min.js","webpack:///webpack/bootstrap 7a4c933934878d6756e2","webpack:///./src/Query/Coordinate.js","webpack:///./src/Geo/AbstractLocationRange.js","webpack:///./src/TypeChecker.js","webpack:///./src/Query/ItemUUID.js","webpack:///./src/Query/Filter.js","webpack:///./src/apisearch.js","webpack:///./src/Repository/HttpRepository.js","webpack:///./src/Cache/MemoryCache.js","webpack:///./src/Factory/SecureObjectFactory.js","webpack:///./src/Geo/CoordinateAndDistance.js","webpack:///./src/Geo/Square.js","webpack:///./src/Geo/Polygon.js","webpack:///./src/Factory/QueryFactory.js","webpack:///./src/Query/Query.js","webpack:///./src/Query/Aggregation.js","webpack:///./src/Query/User.js","webpack:///./src/Query/SortBy.js"],"names":["apisearch","modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","value","Coordinate","latitude","longitude","this","Error","lat","lon","default","AbstractLocationRange","constructor","toFilterObject","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","TypeChecker","integer","bool","string","array","Array","givenObject","mustBe","ItemUUID","id","type","Filter","FILTER_IT_DOESNT_MATTER","FILTER_MUST_ALL","FILTER_MUST_ALL_WITH_LEVELS","FILTER_AT_LEAST_ONE","FILTER_EXCLUDE","FILTER_PROMOTE","FILTER_TYPE_FIELD","FILTER_TYPE_RANGE","FILTER_TYPE_DATE_RANGE","FILTER_TYPE_GEO","FILTER_TYPE_QUERY","field","values","applicationType","filterType","filterTerms","arguments","undefined","application_type","filter_type","filter_terms","indexOf","_interopRequireDefault","obj","_HttpRepository","_HttpRepository2","_SecureObjectFactory","_SecureObjectFactory2","_QueryFactory","_QueryFactory2","apiKey","endpoint","Apisearch","appId","options","query","createObject","repository","cache","callback","then","response","catch","error","_MemoryCache","_MemoryCache2","HttpRepository","secret","encodeURI","JSON","stringify","composedQuery","cachedResponse","Promise","resolve","fetchData","self","reject","xhr","XMLHttpRequest","onreadystatechange","readyState","status","parsedResponse","parse","responseText","set","open","send","_defineProperty","_extends","assign","source","MemoryCache","size","_ItemUUID","_ItemUUID2","_Coordinate","_Coordinate2","_CoordinateAndDistance","_CoordinateAndDistance2","_Square","_Square2","_Polygon","_Polygon2","SecureObjectFactory","coordinate","distance","topLeftCoordinate","bottomRightCoordinate","_len","coordinates","_key","Function","bind","apply","concat","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","_AbstractLocationRange","_AbstractLocationRange2","_TypeChecker","_TypeChecker2","CoordinateAndDistance","_AbstractLocationRang","_ret","_this","getPrototypeOf","isObjectTypeOf","isString","data","Square","0","1","Polygon","map","_Query","_Query2","_Filter","_Filter2","QueryFactory","q","page","QUERY_DEFAULT_PAGE","QUERY_DEFAULT_SIZE","from","queryText","uuid","createByUUIDs","uuids","ids","composedUUID","disableAggregations","disableSuggestions","filters","filter","item","pos","_toConsumableArray","arr","isArray","arr2","QUERY_INFINITE_SIZE","QUERY_DEFAULT_FROM","_Aggregation","_Aggregation2","_User","_User2","_SortBy","Query","params","universe_filters","items_promoted","aggregations","aggregations_enabled","suggestions_enabled","highlight_enabled","filter_fields","user","sortBy","SORT_BY_SCORE","filterName","aggregate","aggregationSort","AGGREGATION_SORT_BY_COUNT_DESC","fieldPath","getFilterPathByField","aggregateBy","rangeType","aggregateByRange","filterByRange","filterUniverseByRange","locationRange","fields","sort","_this2","isDefined","_geo_distance","order","unit","keys","direction","limit","AGGREGATION_NO_LIMIT","isInteger","itemUUID","_this3","forEach","promoteUUID","excludeUUIDs","_len2","_key2","AGGREGATION_SORT_BY_COUNT_ASC","AGGREGATION_SORT_BY_NAME_ASC","AGGREGATION_SORT_BY_NAME_DESC","Aggregation","subgroup","User","_score","SORT_BY_RANDOM","random","SORT_BY_ID_ASC","uuid.id","SORT_BY_ID_DESC","SORT_BY_TYPE_ASC","uuid.type","SORT_BY_TYPE_DESC","SORT_BY_LOCATION_KM_ASC","SORT_BY_LOCATION_MI_ASC"],"mappings":"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","file":"apisearch.min.js","sourcesContent":["var apisearch =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 5);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Coordinate Type cast\n * @param coordinate\n */\n\nvar Coordinate = function Coordinate(latitude, longitude) {\n    _classCallCheck(this, Coordinate);\n\n    if (typeof latitude === 'undefined' || typeof latitude === 'undefined') {\n        throw new Error('Not valid coordinates object type given.');\n    }\n\n    this.lat = latitude;\n    this.lon = longitude;\n};\n\nexports.default = Coordinate;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Abstract Location Range class\n */\nvar AbstractLocationRange = function AbstractLocationRange() {\n    _classCallCheck(this, AbstractLocationRange);\n\n    if (this.constructor.name === AbstractLocationRange) {\n        throw TypeError('You can\\'t instantiate an Abstract class');\n    }\n\n    if (typeof this.toFilterObject === 'undefined') {\n        throw new TypeError('toFilterObject() method must be implemented.');\n    }\n};\n\nexports.default = AbstractLocationRange;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Typechecking\n */\nvar TypeChecker = function () {\n    function TypeChecker() {\n        _classCallCheck(this, TypeChecker);\n    }\n\n    _createClass(TypeChecker, null, [{\n        key: 'isDefined',\n        value: function isDefined(value) {\n            if (typeof value === 'undefined') {\n                throw new TypeError('Method parameter must be defined.');\n            }\n        }\n    }, {\n        key: 'isInteger',\n        value: function isInteger(integer) {\n            if (typeof integer !== 'number') {\n                throw new TypeError('\\n                \"' + integer + '\" must be type of Integer, \\n                \"' + integer.constructor.name + '\" given.\\n            ');\n            }\n        }\n    }, {\n        key: 'isBool',\n        value: function isBool(bool) {\n            if (typeof bool !== 'boolean') {\n                throw new TypeError('\\n                \"' + bool + '\" must be type of Boolean, \\n                \"' + bool.constructor.name + '\" given.\\n            ');\n            }\n        }\n    }, {\n        key: 'isString',\n        value: function isString(string) {\n            if (typeof string !== 'string') {\n                throw new TypeError('\\n                \"' + string + '\" must be type of String, \\n                \"' + string.constructor.name + '\" given.\\n            ');\n            }\n        }\n    }, {\n        key: 'isArray',\n        value: function isArray(array) {\n            if (array instanceof Array === false) {\n                throw new TypeError('\\n                \"' + array + '\" must be type of Array, \\n                \"' + array.constructor.name + '\" given.\\n            ');\n            }\n        }\n    }, {\n        key: 'isObjectTypeOf',\n        value: function isObjectTypeOf(givenObject, mustBe) {\n            if (givenObject instanceof mustBe !== true) {\n                throw new TypeError('\\n                \"' + givenObject.constructor.name + '\" must be type ' + mustBe.name + ', \\n                \"' + givenObject.constructor.name + '\" given.\\n            ');\n            }\n        }\n    }]);\n\n    return TypeChecker;\n}();\n\nexports.default = TypeChecker;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * ItemUUID class\n */\nvar ItemUUID = function () {\n    function ItemUUID(id, type) {\n        _classCallCheck(this, ItemUUID);\n\n        this.id = id;\n        this.type = type;\n    }\n\n    _createClass(ItemUUID, [{\n        key: \"composedUUID\",\n        value: function composedUUID() {\n            return this.type + \"~\" + this.id;\n        }\n    }]);\n\n    return ItemUUID;\n}();\n\nexports.default = ItemUUID;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * filter constants\n */\nvar FILTER_IT_DOESNT_MATTER = exports.FILTER_IT_DOESNT_MATTER = 0;\nvar FILTER_MUST_ALL = exports.FILTER_MUST_ALL = 4;\nvar FILTER_MUST_ALL_WITH_LEVELS = exports.FILTER_MUST_ALL_WITH_LEVELS = 5;\nvar FILTER_AT_LEAST_ONE = exports.FILTER_AT_LEAST_ONE = 8;\nvar FILTER_EXCLUDE = exports.FILTER_EXCLUDE = 16;\nvar FILTER_PROMOTE = exports.FILTER_PROMOTE = 32;\nvar FILTER_TYPE_FIELD = exports.FILTER_TYPE_FIELD = 'field';\nvar FILTER_TYPE_RANGE = exports.FILTER_TYPE_RANGE = 'range';\nvar FILTER_TYPE_DATE_RANGE = exports.FILTER_TYPE_DATE_RANGE = 'date_range';\nvar FILTER_TYPE_GEO = exports.FILTER_TYPE_GEO = 'geo';\nvar FILTER_TYPE_QUERY = exports.FILTER_TYPE_QUERY = 'query';\n\n/**\n * Filter class\n */\n\nvar Filter = function () {\n    function Filter(field, values, applicationType, filterType) {\n        var filterTerms = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n\n        _classCallCheck(this, Filter);\n\n        this.field = field;\n        this.values = values;\n        this.application_type = applicationType;\n        this.filter_type = filterType;\n        this.filter_terms = filterTerms;\n\n        return this;\n    }\n\n    _createClass(Filter, null, [{\n        key: 'getFilterPathByField',\n        value: function getFilterPathByField(field) {\n            return ['id', 'type'].indexOf(field) > -1 ? 'uuid.' + field : 'indexed_metadata.' + field;\n        }\n    }]);\n\n    return Filter;\n}();\n\nexports.default = Filter;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _HttpRepository = __webpack_require__(6);\n\nvar _HttpRepository2 = _interopRequireDefault(_HttpRepository);\n\nvar _SecureObjectFactory = __webpack_require__(8);\n\nvar _SecureObjectFactory2 = _interopRequireDefault(_SecureObjectFactory);\n\nvar _QueryFactory = __webpack_require__(12);\n\nvar _QueryFactory2 = _interopRequireDefault(_QueryFactory);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Entry point for the Apisearch client\n *\n * @param apiKey\n * @param endpoint\n *\n * @returns {Apisearch}\n */\nmodule.exports = function (apiKey, endpoint) {\n    if (typeof apiKey === 'undefined') {\n        throw new TypeError(\"ApiKey parameter must be defined.\");\n    }\n\n    return new Apisearch('apisearch-app-id', apiKey, endpoint);\n};\n\n/**\n * Apisearch class\n */\n\nvar Apisearch = function () {\n    function Apisearch(appId, apiKey) {\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n        _classCallCheck(this, Apisearch);\n\n        this.appId = appId;\n        this.apiKey = apiKey;\n        this.endpoint = options.endpoint || 'http://127.0.0.1:9002/app.php';\n\n        this.query = _QueryFactory2.default;\n        this.createObject = _SecureObjectFactory2.default;\n\n        this.repository = new _HttpRepository2.default(this.endpoint, this.apiKey, options.cache || true);\n    }\n\n    _createClass(Apisearch, [{\n        key: \"search\",\n        value: function search(query, callback) {\n            return this.repository.query(query).then(function (response) {\n                return callback(response, null);\n            }).catch(function (error) {\n                return callback(null, error);\n            });\n        }\n    }]);\n\n    return Apisearch;\n}();\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * Repository class\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\n\nvar _MemoryCache = __webpack_require__(7);\n\nvar _MemoryCache2 = _interopRequireDefault(_MemoryCache);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar HttpRepository = function () {\n    /**\n     * Constructor\n     * @param endpoint\n     * @param secret\n     * @param cache\n     */\n    function HttpRepository(endpoint, secret, cache) {\n        _classCallCheck(this, HttpRepository);\n\n        this.endpoint = endpoint;\n        this.secret = secret;\n        this.cache = cache ? new _MemoryCache2.default() : null;\n    }\n\n    /**\n     * Make query against the server\n     * @param query\n     * @returns {Promise}\n     */\n\n\n    _createClass(HttpRepository, [{\n        key: \"query\",\n        value: function query(_query) {\n            _query = encodeURI(JSON.stringify(_query));\n            var composedQuery = this.endpoint + \"?key=\" + this.secret + \"&query=\" + _query;\n\n            // check if query exists in cache store\n            // return promise with the cached value if key exists\n            // if not exists, fetch data with XMLHttpRequest\n            if (this.cache !== null) {\n                var cachedResponse = this.cache.get(composedQuery);\n                if (cachedResponse) {\n                    return new Promise(function (resolve) {\n                        return resolve(cachedResponse);\n                    });\n                }\n            }\n\n            return this.fetchData(composedQuery);\n        }\n    }, {\n        key: \"fetchData\",\n        value: function fetchData(composedQuery) {\n            var self = this;\n            return new Promise(function (resolve, reject) {\n                var xhr = new XMLHttpRequest();\n                xhr.onreadystatechange = function () {\n                    if (this.readyState === 4) {\n                        if (this.status === 200) {\n                            var parsedResponse = JSON.parse(this.responseText);\n\n                            // check if cache is enabled\n                            // set the composedQuery as a cache key\n                            // and the valid response as a cache value\n                            if (this.cache !== null) {\n                                self.cache.set(composedQuery, parsedResponse);\n                            }\n\n                            return resolve(parsedResponse);\n                        } else {\n                            return reject(\"Request error.\");\n                        }\n                    }\n                };\n\n                xhr.open(\"GET\", composedQuery, true);\n                xhr.send();\n            });\n        }\n    }]);\n\n    return HttpRepository;\n}();\n\nexports.default = HttpRepository;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Cache class\n */\nvar MemoryCache = function () {\n    function MemoryCache() {\n        _classCallCheck(this, MemoryCache);\n\n        this.cache = {};\n        this.size = 0;\n\n        return this;\n    }\n\n    _createClass(MemoryCache, [{\n        key: \"set\",\n        value: function set(key, value) {\n            this.cache = _extends({}, this.cache, _defineProperty({}, key, value));\n            this.size = this.size + 1;\n\n            return this;\n        }\n    }, {\n        key: \"get\",\n        value: function get(key) {\n            return this.cache[key];\n        }\n    }, {\n        key: \"clear\",\n        value: function clear() {\n            this.cache = {};\n            this.size = 0;\n        }\n    }]);\n\n    return MemoryCache;\n}();\n\nexports.default = MemoryCache;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _ItemUUID = __webpack_require__(3);\n\nvar _ItemUUID2 = _interopRequireDefault(_ItemUUID);\n\nvar _Coordinate = __webpack_require__(0);\n\nvar _Coordinate2 = _interopRequireDefault(_Coordinate);\n\nvar _CoordinateAndDistance = __webpack_require__(9);\n\nvar _CoordinateAndDistance2 = _interopRequireDefault(_CoordinateAndDistance);\n\nvar _Square = __webpack_require__(10);\n\nvar _Square2 = _interopRequireDefault(_Square);\n\nvar _Polygon = __webpack_require__(11);\n\nvar _Polygon2 = _interopRequireDefault(_Polygon);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * SecureObjectFactory class.\n */\nvar SecureObjectFactory = function () {\n    function SecureObjectFactory() {\n        _classCallCheck(this, SecureObjectFactory);\n    }\n\n    _createClass(SecureObjectFactory, null, [{\n        key: \"uuid\",\n        value: function uuid(id, type) {\n            return new _ItemUUID2.default(id, type);\n        }\n    }, {\n        key: \"coordinate\",\n        value: function coordinate(lat, lon) {\n            return new _Coordinate2.default(lat, lon);\n        }\n    }, {\n        key: \"coordinateAndDistance\",\n        value: function coordinateAndDistance(coordinate, distance) {\n            return new _CoordinateAndDistance2.default(coordinate, distance);\n        }\n    }, {\n        key: \"square\",\n        value: function square(topLeftCoordinate, bottomRightCoordinate) {\n            return new _Square2.default(topLeftCoordinate, bottomRightCoordinate);\n        }\n    }, {\n        key: \"polygon\",\n        value: function polygon() {\n            for (var _len = arguments.length, coordinates = Array(_len), _key = 0; _key < _len; _key++) {\n                coordinates[_key] = arguments[_key];\n            }\n\n            return new (Function.prototype.bind.apply(_Polygon2.default, [null].concat(coordinates)))();\n        }\n    }]);\n\n    return SecureObjectFactory;\n}();\n\nexports.default = SecureObjectFactory;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _AbstractLocationRange = __webpack_require__(1);\n\nvar _AbstractLocationRange2 = _interopRequireDefault(_AbstractLocationRange);\n\nvar _Coordinate = __webpack_require__(0);\n\nvar _Coordinate2 = _interopRequireDefault(_Coordinate);\n\nvar _TypeChecker = __webpack_require__(2);\n\nvar _TypeChecker2 = _interopRequireDefault(_TypeChecker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CoordinateAndDistance = function (_AbstractLocationRang) {\n    _inherits(CoordinateAndDistance, _AbstractLocationRang);\n\n    function CoordinateAndDistance(coordinate, distance) {\n        var _ret;\n\n        _classCallCheck(this, CoordinateAndDistance);\n\n        var _this = _possibleConstructorReturn(this, (CoordinateAndDistance.__proto__ || Object.getPrototypeOf(CoordinateAndDistance)).call(this));\n\n        _TypeChecker2.default.isObjectTypeOf(coordinate, _Coordinate2.default);\n        _TypeChecker2.default.isString(distance);\n\n        _this.coordinate = coordinate;\n        _this.distance = distance;\n\n        return _ret = _this, _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(CoordinateAndDistance, [{\n        key: \"toFilterObject\",\n        value: function toFilterObject() {\n            return {\n                type: this.constructor.name,\n                data: {\n                    coordinate: this.coordinate,\n                    distance: this.distance\n                }\n            };\n        }\n    }]);\n\n    return CoordinateAndDistance;\n}(_AbstractLocationRange2.default);\n\nexports.default = CoordinateAndDistance;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _AbstractLocationRange = __webpack_require__(1);\n\nvar _AbstractLocationRange2 = _interopRequireDefault(_AbstractLocationRange);\n\nvar _Coordinate = __webpack_require__(0);\n\nvar _Coordinate2 = _interopRequireDefault(_Coordinate);\n\nvar _TypeChecker = __webpack_require__(2);\n\nvar _TypeChecker2 = _interopRequireDefault(_TypeChecker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Square = function (_AbstractLocationRang) {\n    _inherits(Square, _AbstractLocationRang);\n\n    function Square(topLeftCoordinate, bottomRightCoordinate) {\n        var _ret;\n\n        _classCallCheck(this, Square);\n\n        _TypeChecker2.default.isObjectTypeOf(topLeftCoordinate, _Coordinate2.default);\n        _TypeChecker2.default.isObjectTypeOf(bottomRightCoordinate, _Coordinate2.default);\n\n        var _this = _possibleConstructorReturn(this, (Square.__proto__ || Object.getPrototypeOf(Square)).call(this));\n\n        _this.topLeftCoordinate = topLeftCoordinate;\n        _this.bottomRightCoordinate = bottomRightCoordinate;\n\n        return _ret = _this, _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(Square, [{\n        key: \"toFilterObject\",\n        value: function toFilterObject() {\n            return {\n                type: this.constructor.name,\n                data: {\n                    0: this.topLeftCoordinate,\n                    1: this.bottomRightCoordinate\n                }\n            };\n        }\n    }]);\n\n    return Square;\n}(_AbstractLocationRange2.default);\n\nexports.default = Square;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _AbstractLocationRange = __webpack_require__(1);\n\nvar _AbstractLocationRange2 = _interopRequireDefault(_AbstractLocationRange);\n\nvar _Coordinate = __webpack_require__(0);\n\nvar _Coordinate2 = _interopRequireDefault(_Coordinate);\n\nvar _TypeChecker = __webpack_require__(2);\n\nvar _TypeChecker2 = _interopRequireDefault(_TypeChecker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Polygon = function (_AbstractLocationRang) {\n    _inherits(Polygon, _AbstractLocationRang);\n\n    function Polygon() {\n        var _ret;\n\n        _classCallCheck(this, Polygon);\n\n        var _this = _possibleConstructorReturn(this, (Polygon.__proto__ || Object.getPrototypeOf(Polygon)).call(this));\n\n        for (var _len = arguments.length, coordinates = Array(_len), _key = 0; _key < _len; _key++) {\n            coordinates[_key] = arguments[_key];\n        }\n\n        if (coordinates.length < 3) {\n            throw new Error(\"A polygon needs more than two coordinates.\");\n        }\n\n        _this.coordinates = coordinates.map(function (coordinate) {\n            _TypeChecker2.default.isObjectTypeOf(coordinate, _Coordinate2.default);\n\n            return coordinate;\n        });\n\n        return _ret = _this, _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(Polygon, [{\n        key: \"toFilterObject\",\n        value: function toFilterObject() {\n            return {\n                type: this.constructor.name,\n                data: this.coordinates\n            };\n        }\n    }]);\n\n    return Polygon;\n}(_AbstractLocationRange2.default);\n\nexports.default = Polygon;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Query = __webpack_require__(13);\n\nvar _Query2 = _interopRequireDefault(_Query);\n\nvar _Filter = __webpack_require__(4);\n\nvar _Filter2 = _interopRequireDefault(_Filter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * QueryFactory class\n */\nvar QueryFactory = function () {\n    function QueryFactory() {\n        _classCallCheck(this, QueryFactory);\n    }\n\n    _createClass(QueryFactory, null, [{\n        key: \"create\",\n        value: function create(q) {\n            var page = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _Query.QUERY_DEFAULT_PAGE;\n            var size = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _Query.QUERY_DEFAULT_SIZE;\n\n            return new _Query2.default({\n                q: q,\n                from: (page - 1) * size,\n                page: page,\n                size: size\n            });\n        }\n    }, {\n        key: \"createMatchAll\",\n        value: function createMatchAll() {\n            return new _Query2.default({\n                q: '',\n                page: _Query.QUERY_DEFAULT_PAGE,\n                size: _Query.QUERY_INFINITE_SIZE\n            });\n        }\n    }, {\n        key: \"createLocated\",\n        value: function createLocated(coordinate, queryText) {\n            var page = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _Query.QUERY_DEFAULT_PAGE;\n            var size = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : _Query.QUERY_DEFAULT_SIZE;\n\n            return new _Query2.default({\n                coordinate: coordinate,\n                page: page,\n                size: size,\n                q: queryText\n            });\n        }\n    }, {\n        key: \"createByUUID\",\n        value: function createByUUID(uuid) {\n            return this.createByUUIDs(uuid);\n        }\n    }, {\n        key: \"createByUUIDs\",\n        value: function createByUUIDs() {\n            for (var _len = arguments.length, uuids = Array(_len), _key = 0; _key < _len; _key++) {\n                uuids[_key] = arguments[_key];\n            }\n\n            var ids = uuids.map(function (uuid) {\n                return uuid.composedUUID();\n            });\n            var query = new _Query2.default({\n                q: '',\n                page: _Query.QUERY_DEFAULT_PAGE,\n                size: _Query.QUERY_INFINITE_SIZE\n            });\n\n            query.disableAggregations().disableSuggestions();\n\n            query.filters = _extends({}, query.filters, _defineProperty({}, '_id', new _Filter2.default('_id', ids.filter(function (item, pos) {\n                return ids.indexOf(item) === pos;\n            }), _Filter.FILTER_AT_LEAST_ONE, _Filter.FILTER_TYPE_FIELD)));\n\n            return query;\n        }\n    }]);\n\n    return QueryFactory;\n}();\n\nexports.default = QueryFactory;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.QUERY_INFINITE_SIZE = exports.QUERY_DEFAULT_SIZE = exports.QUERY_DEFAULT_PAGE = exports.QUERY_DEFAULT_FROM = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Aggregation = __webpack_require__(14);\n\nvar _Aggregation2 = _interopRequireDefault(_Aggregation);\n\nvar _ItemUUID = __webpack_require__(3);\n\nvar _ItemUUID2 = _interopRequireDefault(_ItemUUID);\n\nvar _Coordinate = __webpack_require__(0);\n\nvar _Coordinate2 = _interopRequireDefault(_Coordinate);\n\nvar _TypeChecker = __webpack_require__(2);\n\nvar _TypeChecker2 = _interopRequireDefault(_TypeChecker);\n\nvar _User = __webpack_require__(15);\n\nvar _User2 = _interopRequireDefault(_User);\n\nvar _AbstractLocationRange = __webpack_require__(1);\n\nvar _AbstractLocationRange2 = _interopRequireDefault(_AbstractLocationRange);\n\nvar _Filter = __webpack_require__(4);\n\nvar _Filter2 = _interopRequireDefault(_Filter);\n\nvar _SortBy = __webpack_require__(16);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Query constants\n */\nvar QUERY_DEFAULT_FROM = exports.QUERY_DEFAULT_FROM = 0;\nvar QUERY_DEFAULT_PAGE = exports.QUERY_DEFAULT_PAGE = 1;\nvar QUERY_DEFAULT_SIZE = exports.QUERY_DEFAULT_SIZE = 10;\nvar QUERY_INFINITE_SIZE = exports.QUERY_INFINITE_SIZE = 1000;\n\n/**\n * Query class\n */\n\nvar Query = function () {\n    function Query(params) {\n        _classCallCheck(this, Query);\n\n        this.q = params.q;\n        this.universe_filters = params.universe_filters || [];\n        this.filters = params.filters || [];\n        this.items_promoted = params.items_promoted || [];\n        this.aggregations = params.aggregations || [];\n        this.page = params.aggregations || QUERY_DEFAULT_PAGE;\n        this.size = params.size || QUERY_DEFAULT_SIZE;\n        this.from = params.from || QUERY_DEFAULT_FROM;\n        this.aggregations_enabled = params.aggregations_enabled || true;\n        this.suggestions_enabled = params.suggestions_enabled || false;\n        this.highlight_enabled = params.highlight_enabled || false;\n        this.filter_fields = params.filter_fields || [];\n        this.user = params.user || null;\n        this.coordinate = typeof params.coordinate !== 'undefined' ? new _Coordinate2.default(params.coordinate.lat, params.coordinate.lon) : null;\n        this.sortBy(_SortBy.SORT_BY_SCORE);\n\n        return this;\n    }\n\n    _createClass(Query, [{\n        key: \"filterBy\",\n        value: function filterBy(filterName, field, values) {\n            var applicationType = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : _Filter.FILTER_AT_LEAST_ONE;\n            var aggregate = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n            var aggregationSort = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : _Aggregation.AGGREGATION_SORT_BY_COUNT_DESC;\n\n            _TypeChecker2.default.isArray(values);\n            _TypeChecker2.default.isArray(aggregationSort);\n\n            var fieldPath = _Filter2.default.getFilterPathByField(field);\n            if (values.length !== 0) {\n                this.filters = _extends({}, this.filters, _defineProperty({}, filterName, new _Filter2.default(fieldPath, values, applicationType, _Filter.FILTER_TYPE_FIELD)));\n            } else {\n                delete this.filters[field];\n            }\n\n            if (aggregate) {\n                this.aggregateBy(filterName, field, applicationType, aggregationSort);\n            }\n\n            return this;\n        }\n    }, {\n        key: \"filterByTypes\",\n        value: function filterByTypes(values) {\n            var aggregate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n            var aggregationSort = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _Aggregation.AGGREGATION_SORT_BY_COUNT_DESC;\n\n            _TypeChecker2.default.isArray(values);\n\n            var fieldPath = _Filter2.default.getFilterPathByField('type');\n            if (values.length !== 0) {\n                this.filters = _extends({}, this.filters, _defineProperty({}, 'type', new _Filter2.default(fieldPath, values, _Filter.FILTER_AT_LEAST_ONE, _Filter.FILTER_TYPE_FIELD)));\n            } else {\n                delete this.filters['type'];\n            }\n\n            if (aggregate) {\n                this.aggregations = _extends({}, this.aggregations, _defineProperty({}, 'type', new _Aggregation2.default('type', fieldPath, _Filter.FILTER_AT_LEAST_ONE, _Filter.FILTER_TYPE_FIELD, [], aggregationSort)));\n            }\n\n            return this;\n        }\n    }, {\n        key: \"filterByIds\",\n        value: function filterByIds(values) {\n            _TypeChecker2.default.isArray(values);\n\n            var fieldPath = _Filter2.default.getFilterPathByField('id');\n            if (values.length !== 0) {\n                this.filters = _extends({}, this.filters, _defineProperty({}, 'id', new _Filter2.default(fieldPath, values, _Filter.FILTER_AT_LEAST_ONE, _Filter.FILTER_TYPE_FIELD)));\n            } else {\n                delete this.filters['id'];\n            }\n\n            return this;\n        }\n    }, {\n        key: \"filterByRange\",\n        value: function filterByRange(filterName, field, options, values) {\n            var applicationType = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _Filter.FILTER_AT_LEAST_ONE;\n            var rangeType = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : _Filter.FILTER_TYPE_RANGE;\n            var aggregate = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : true;\n            var aggregationSort = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : _Aggregation.AGGREGATION_SORT_BY_COUNT_DESC;\n\n            _TypeChecker2.default.isArray(options);\n            _TypeChecker2.default.isArray(values);\n\n            var fieldPath = _Filter2.default.getFilterPathByField(field);\n            if (values.length !== 0) {\n                this.filters = _extends({}, this.filters, _defineProperty({}, filterName, new _Filter2.default(fieldPath, values, applicationType, rangeType)));\n            } else {\n                delete this.filters[filterName];\n            }\n\n            if (aggregate) {\n                this.aggregateByRange(filterName, fieldPath, options, applicationType, rangeType, aggregationSort);\n            }\n\n            return this;\n        }\n    }, {\n        key: \"filterByDateRange\",\n        value: function filterByDateRange(filterName, field, options, values) {\n            var applicationType = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _Filter.FILTER_AT_LEAST_ONE;\n            var aggregate = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n            var aggregationSort = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : _Aggregation.AGGREGATION_SORT_BY_COUNT_DESC;\n\n            return this.filterByRange(filterName, field, options, values, applicationType, _Filter.FILTER_TYPE_DATE_RANGE, aggregate, aggregationSort);\n        }\n    }, {\n        key: \"filterUniverseBy\",\n        value: function filterUniverseBy(field, values) {\n            var applicationType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _Filter.FILTER_AT_LEAST_ONE;\n\n            _TypeChecker2.default.isArray(values);\n\n            var fieldPath = _Filter2.default.getFilterPathByField(field);\n            if (values.length !== 0) {\n                this.universe_filters = _extends({}, this.universe_filters, _defineProperty({}, field, new _Filter2.default(fieldPath, values, applicationType, _Filter.FILTER_TYPE_FIELD)));\n            } else {\n                delete this.universe_filters[field];\n            }\n\n            return this;\n        }\n    }, {\n        key: \"filterUniverseByTypes\",\n        value: function filterUniverseByTypes(values) {\n            _TypeChecker2.default.isArray(values);\n\n            var fieldPath = _Filter2.default.getFilterPathByField('type');\n            if (values.length !== 0) {\n                this.universe_filters = _extends({}, this.universe_filters, _defineProperty({}, 'type', new _Filter2.default(fieldPath, values, _Filter.FILTER_AT_LEAST_ONE, _Filter.FILTER_TYPE_FIELD)));\n            } else {\n                delete this.universe_filters['type'];\n            }\n\n            return this;\n        }\n    }, {\n        key: \"filterUniverseByIds\",\n        value: function filterUniverseByIds(values) {\n            _TypeChecker2.default.isArray(values);\n\n            var fieldPath = _Filter2.default.getFilterPathByField('id');\n            if (values.length !== 0) {\n                this.universe_filters = _extends({}, this.universe_filters, _defineProperty({}, 'id', new _Filter2.default(fieldPath, values, _Filter.FILTER_AT_LEAST_ONE, _Filter.FILTER_TYPE_FIELD)));\n            } else {\n                delete this.universe_filters['id'];\n            }\n\n            return this;\n        }\n    }, {\n        key: \"filterUniverseByRange\",\n        value: function filterUniverseByRange(field, values) {\n            var applicationType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _Filter.FILTER_AT_LEAST_ONE;\n            var rangeType = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : _Filter.FILTER_TYPE_RANGE;\n\n            _TypeChecker2.default.isArray(values);\n\n            var fieldPath = _Filter2.default.getFilterPathByField(field);\n            if (values.length !== 0) {\n                this.universe_filters = _extends({}, this.universe_filters, _defineProperty({}, field, new _Filter2.default(fieldPath, values, applicationType, rangeType)));\n            } else {\n                delete this.universe_filters[field];\n            }\n\n            return this;\n        }\n    }, {\n        key: \"filterUniverseByDateRange\",\n        value: function filterUniverseByDateRange(field, values) {\n            var applicationType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _Filter.FILTER_AT_LEAST_ONE;\n\n            return this.filterUniverseByRange(field, values, applicationType, _Filter.FILTER_TYPE_DATE_RANGE);\n        }\n    }, {\n        key: \"filterUniverseByLocation\",\n        value: function filterUniverseByLocation(locationRange) {\n            _TypeChecker2.default.isObjectTypeOf(locationRange, _AbstractLocationRange2.default);\n\n            this.universe_filters = _extends({}, this.universe_filters, _defineProperty({}, 'coordinate', new _Filter2.default('coordinate', locationRange.toFilterObject(), _Filter.FILTER_AT_LEAST_ONE, _Filter.FILTER_TYPE_GEO)));\n\n            return this;\n        }\n    }, {\n        key: \"setFilterFields\",\n        value: function setFilterFields(fields) {\n            var _this = this;\n\n            _TypeChecker2.default.isArray(fields);\n\n            if (fields.length === 0) {\n                this.filter_fields = [].concat(_toConsumableArray(fields));\n\n                return this;\n            }\n\n            fields.map(function (field) {\n                _this.filter_fields = [].concat(_toConsumableArray(_this.filter_fields), [field]);\n            });\n\n            return this;\n        }\n    }, {\n        key: \"sortBy\",\n        value: function sortBy(sort) {\n            var _this2 = this;\n\n            _TypeChecker2.default.isDefined(sort);\n\n            if (typeof sort['_geo_distance'] !== 'undefined') {\n                var _geo_distance;\n\n                if (this.coordinate instanceof _Coordinate2.default === false) {\n                    throw new Error(\"\\n                    In order to be able to sort by coordinates, you need to \\n                    create a Query by using apisearch.query.createLocated(...) \\n                    instead of apisearch.query.create(...)\\n                \");\n                }\n                this.sort = _defineProperty({}, '_geo_distance', (_geo_distance = {}, _defineProperty(_geo_distance, 'coordinate', this.coordinate), _defineProperty(_geo_distance, 'order', sort._geo_distance.order), _defineProperty(_geo_distance, 'unit', sort._geo_distance.unit), _geo_distance));\n            } else {\n                Object.keys(sort).map(function (field) {\n                    var direction = sort[field].order;\n                    _this2.sort = _defineProperty({}, field, _defineProperty({}, 'order', direction));\n                });\n            }\n\n            return this;\n        }\n    }, {\n        key: \"aggregateBy\",\n        value: function aggregateBy(filterName, field, applicationType) {\n            var aggregationSort = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : _Aggregation.AGGREGATION_SORT_BY_COUNT_DESC;\n            var limit = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _Aggregation.AGGREGATION_NO_LIMIT;\n\n            _TypeChecker2.default.isDefined(applicationType);\n            _TypeChecker2.default.isInteger(applicationType);\n\n            this.aggregations = _extends({}, this.aggregations, _defineProperty({}, filterName, new _Aggregation2.default(filterName, _Filter2.default.getFilterPathByField(field), applicationType, _Filter.FILTER_TYPE_FIELD, [], aggregationSort, limit)));\n\n            return this;\n        }\n    }, {\n        key: \"aggregateByRange\",\n        value: function aggregateByRange(filterName, field, options, applicationType) {\n            var rangeType = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _Filter.FILTER_TYPE_RANGE;\n            var aggregationSort = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : _Aggregation.AGGREGATION_SORT_BY_COUNT_DESC;\n            var limit = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : _Aggregation.AGGREGATION_NO_LIMIT;\n\n            _TypeChecker2.default.isArray(options);\n\n            if (options.length === 0) {\n                return this;\n            }\n\n            this.aggregations = _extends({}, this.aggregations, _defineProperty({}, filterName, new _Aggregation2.default(filterName, _Filter2.default.getFilterPathByField(field), applicationType, rangeType, aggregationSort, limit)));\n\n            return this;\n        }\n    }, {\n        key: \"aggregateByDateRange\",\n        value: function aggregateByDateRange(filterName, field, options, applicationType) {\n            var aggregationSort = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _Aggregation.AGGREGATION_SORT_BY_COUNT_DESC;\n            var limit = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : _Aggregation.AGGREGATION_NO_LIMIT;\n\n            _TypeChecker2.default.isArray(options);\n\n            if (options.length === 0) {\n                return this;\n            }\n\n            this.aggregations = _extends({}, this.aggregations, _defineProperty({}, filterName, new _Aggregation2.default(filterName, _Filter2.default.getFilterPathByField(field), applicationType, _Filter.FILTER_TYPE_DATE_RANGE, aggregationSort, limit)));\n\n            return this;\n        }\n    }, {\n        key: \"enableAggregations\",\n        value: function enableAggregations() {\n            this.aggregations_enabled = true;\n            return this;\n        }\n    }, {\n        key: \"disableAggregations\",\n        value: function disableAggregations() {\n            this.aggregations_enabled = false;\n            return this;\n        }\n    }, {\n        key: \"enableSuggestions\",\n        value: function enableSuggestions() {\n            this.suggestions_enabled = true;\n            return this;\n        }\n    }, {\n        key: \"disableSuggestions\",\n        value: function disableSuggestions() {\n            this.suggestions_enabled = false;\n            return this;\n        }\n    }, {\n        key: \"enableHighlights\",\n        value: function enableHighlights() {\n            this.highlight_enabled = true;\n            return this;\n        }\n    }, {\n        key: \"disableHighlights\",\n        value: function disableHighlights() {\n            this.highlight_enabled = false;\n            return this;\n        }\n    }, {\n        key: \"promoteUUID\",\n        value: function promoteUUID(itemUUID) {\n            if (itemUUID instanceof _ItemUUID2.default === false) {\n                throw new Error(\"Excluded item must be type \\\"ItemUUID\\\", \\\"\" + itemUUID.constructor.name + \"\\\" given.\");\n            }\n            this.items_promoted = [].concat(_toConsumableArray(this.items_promoted), [itemUUID]);\n\n            return this;\n        }\n    }, {\n        key: \"promoteUUIDs\",\n        value: function promoteUUIDs() {\n            var _this3 = this;\n\n            for (var _len = arguments.length, uuids = Array(_len), _key = 0; _key < _len; _key++) {\n                uuids[_key] = arguments[_key];\n            }\n\n            uuids.forEach(function (uuid) {\n                return _this3.promoteUUID(uuid);\n            });\n\n            return this;\n        }\n    }, {\n        key: \"excludeUUID\",\n        value: function excludeUUID(itemUUID) {\n            _TypeChecker2.default.isObjectTypeOf(itemUUID, _ItemUUID2.default);\n            this.excludeUUIDs(itemUUID);\n\n            return this;\n        }\n    }, {\n        key: \"excludeUUIDs\",\n        value: function excludeUUIDs() {\n            for (var _len2 = arguments.length, uuids = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                uuids[_key2] = arguments[_key2];\n            }\n\n            this.filters = _extends({}, this.filters, _defineProperty({}, 'excluded_ids', new _Filter2.default('_id', uuids.map(function (uuid) {\n                return uuid.composedUUID();\n            }), _Filter.FILTER_EXCLUDE, _Filter.FILTER_TYPE_FIELD)));\n\n            return this;\n        }\n    }, {\n        key: \"byUser\",\n        value: function byUser(user) {\n            _TypeChecker2.default.isObjectTypeOf(user, _User2.default);\n            this.user = user;\n\n            return this;\n        }\n    }, {\n        key: \"anonymously\",\n        value: function anonymously() {\n            this.user = null;\n\n            return null;\n        }\n    }]);\n\n    return Query;\n}();\n\nexports.default = Query;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Aggregation constants\n */\nvar AGGREGATION_SORT_BY_COUNT_ASC = exports.AGGREGATION_SORT_BY_COUNT_ASC = ['_count', 'asc'];\nvar AGGREGATION_SORT_BY_COUNT_DESC = exports.AGGREGATION_SORT_BY_COUNT_DESC = ['_count', 'desc'];\nvar AGGREGATION_SORT_BY_NAME_ASC = exports.AGGREGATION_SORT_BY_NAME_ASC = ['_term', 'asc'];\nvar AGGREGATION_SORT_BY_NAME_DESC = exports.AGGREGATION_SORT_BY_NAME_DESC = ['_term', 'desc'];\nvar AGGREGATION_NO_LIMIT = exports.AGGREGATION_NO_LIMIT = 0;\n\n/**\n * Aggregation class\n */\n\nvar Aggregation = function Aggregation(name, field, applicationType, filterType, subgroup, sort, limit) {\n    _classCallCheck(this, Aggregation);\n\n    this.name = name;\n    this.field = field;\n    this.applicationType = applicationType;\n    this.filterType = filterType;\n    this.subgroup = subgroup;\n    this.sort = sort || AGGREGATION_SORT_BY_COUNT_DESC;\n    this.limit = limit || AGGREGATION_NO_LIMIT;\n};\n\nexports.default = Aggregation;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * User class\n */\nvar User = function User(id) {\n    _classCallCheck(this, User);\n\n    this.id = id;\n};\n\nexports.default = User;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n/**\n export * Sort by constants\n */\n\nvar SORT_BY_SCORE = exports.SORT_BY_SCORE = {\n    '_score': {\n        'order': 'asc'\n    }\n};\nvar SORT_BY_RANDOM = exports.SORT_BY_RANDOM = {\n    'random': {\n        'order': 'asc'\n    }\n};\nvar SORT_BY_ID_ASC = exports.SORT_BY_ID_ASC = {\n    'uuid.id': {\n        'order': 'asc'\n    }\n};\nvar SORT_BY_ID_DESC = exports.SORT_BY_ID_DESC = {\n    'uuid.id': {\n        'order': 'desc'\n    }\n};\nvar SORT_BY_TYPE_ASC = exports.SORT_BY_TYPE_ASC = {\n    'uuid.type': {\n        'order': 'asc'\n    }\n};\nvar SORT_BY_TYPE_DESC = exports.SORT_BY_TYPE_DESC = {\n    'uuid.type': {\n        'order': 'desc'\n    }\n};\nvar SORT_BY_LOCATION_KM_ASC = exports.SORT_BY_LOCATION_KM_ASC = {\n    '_geo_distance': {\n        'order': 'asc',\n        'unit': 'km'\n    }\n};\nvar SORT_BY_LOCATION_MI_ASC = exports.SORT_BY_LOCATION_MI_ASC = {\n    '_geo_distance': {\n        'order': 'asc',\n        'unit': 'mi'\n    }\n};\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// apisearch.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7a4c933934878d6756e2","/**\n * Coordinate Type cast\n * @param coordinate\n */\n\n\nexport default class Coordinate {\n    constructor(latitude, longitude) {\n        if (\n            typeof latitude === 'undefined' ||\n            typeof latitude === 'undefined'\n        ) {\n            throw new Error(`Not valid coordinates object type given.`);\n        }\n\n        this.lat = latitude;\n        this.lon = longitude;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Query/Coordinate.js","/**\n * Abstract Location Range class\n */\nexport default class AbstractLocationRange {\n    constructor() {\n        if (this.constructor.name === AbstractLocationRange) {\n            throw TypeError(`You can't instantiate an Abstract class`);\n        }\n\n        if (typeof this.toFilterObject === 'undefined') {\n            throw new TypeError(`toFilterObject() method must be implemented.`);\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Geo/AbstractLocationRange.js","/**\n * Typechecking\n */\nexport default class TypeChecker {\n    static isDefined(value) {\n        if (typeof value === 'undefined') {\n            throw new TypeError(`Method parameter must be defined.`);\n        }\n    }\n\n    static isInteger(integer) {\n        if (typeof integer !== 'number') {\n            throw new TypeError(`\n                \"${integer}\" must be type of Integer, \n                \"${integer.constructor.name}\" given.\n            `);\n        }\n    }\n\n    static isBool(bool) {\n        if (typeof bool !== 'boolean') {\n            throw new TypeError(`\n                \"${bool}\" must be type of Boolean, \n                \"${bool.constructor.name}\" given.\n            `);\n        }\n    }\n\n    static isString(string) {\n        if (typeof string !== 'string') {\n            throw new TypeError(`\n                \"${string}\" must be type of String, \n                \"${string.constructor.name}\" given.\n            `);\n        }\n    }\n\n    static isArray(array) {\n        if (array instanceof Array === false) {\n            throw new TypeError(`\n                \"${array}\" must be type of Array, \n                \"${array.constructor.name}\" given.\n            `);\n        }\n    }\n\n    static isObjectTypeOf(\n        givenObject,\n        mustBe\n    ) {\n        if (givenObject instanceof mustBe !== true) {\n            throw new TypeError(`\n                \"${givenObject.constructor.name}\" must be type ${mustBe.name}, \n                \"${givenObject.constructor.name}\" given.\n            `);\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/TypeChecker.js","/**\n * ItemUUID class\n */\nexport default class ItemUUID {\n    constructor(id, type) {\n        this.id = id;\n        this.type = type;\n    }\n\n    composedUUID() {\n        return `${this.type}~${this.id}`;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Query/ItemUUID.js","/**\n * filter constants\n */\nexport const FILTER_IT_DOESNT_MATTER = 0;\nexport const FILTER_MUST_ALL = 4;\nexport const FILTER_MUST_ALL_WITH_LEVELS = 5;\nexport const FILTER_AT_LEAST_ONE = 8;\nexport const FILTER_EXCLUDE = 16;\nexport const FILTER_PROMOTE = 32;\nexport const FILTER_TYPE_FIELD = 'field';\nexport const FILTER_TYPE_RANGE = 'range';\nexport const FILTER_TYPE_DATE_RANGE = 'date_range';\nexport const FILTER_TYPE_GEO = 'geo';\nexport const FILTER_TYPE_QUERY = 'query';\n\n/**\n * Filter class\n */\nexport default class Filter {\n    constructor(\n        field,\n        values,\n        applicationType,\n        filterType,\n        filterTerms = []\n    ) {\n        this.field = field;\n        this.values = values;\n        this.application_type = applicationType;\n        this.filter_type = filterType;\n        this.filter_terms = filterTerms;\n\n        return this;\n    }\n\n    static getFilterPathByField(field) {\n        return (['id', 'type'].indexOf(field) > -1)\n            ? `uuid.${field}`\n            : `indexed_metadata.${field}`\n        ;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Query/Filter.js","import HttpRepository from \"./Repository/HttpRepository\";\nimport SecureObjectFactory from \"./Factory/SecureObjectFactory\";\nimport QueryFactory from \"./Factory/QueryFactory\";\n\n/**\n * Entry point for the Apisearch client\n *\n * @param apiKey\n * @param endpoint\n *\n * @returns {Apisearch}\n */\nmodule.exports = function(apiKey, endpoint) {\n    if (typeof apiKey === 'undefined') {\n       throw new TypeError(`ApiKey parameter must be defined.`)\n    }\n\n    return new Apisearch(\n        'apisearch-app-id',\n        apiKey,\n        endpoint\n    );\n};\n\n/**\n * Apisearch class\n */\nclass Apisearch {\n    constructor(appId, apiKey, options = {}) {\n        this.appId = appId;\n        this.apiKey = apiKey;\n        this.endpoint = options.endpoint || 'http://127.0.0.1:9002/app.php';\n\n        this.query = QueryFactory;\n        this.createObject = SecureObjectFactory;\n\n        this.repository = new HttpRepository(\n            this.endpoint,\n            this.apiKey,\n            options.cache || true\n        );\n    }\n\n    search(query, callback) {\n        return this.repository\n            .query(query)\n            .then(\n                response => callback(response, null)\n            )\n            .catch(\n                error => callback(null, error)\n            )\n        ;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/apisearch.js","/**\n * Repository class\n */\nimport MemoryCache from \"../Cache/MemoryCache\";\n\nexport default class HttpRepository {\n    /**\n     * Constructor\n     * @param endpoint\n     * @param secret\n     * @param cache\n     */\n    constructor(endpoint, secret, cache) {\n        this.endpoint = endpoint;\n        this.secret = secret;\n        this.cache = cache ? new MemoryCache() : null;\n    }\n\n    /**\n     * Make query against the server\n     * @param query\n     * @returns {Promise}\n     */\n    query(query) {\n        query = encodeURI(\n            JSON.stringify(query)\n        );\n        let composedQuery = `${this.endpoint}?key=${this.secret}&query=${query}`;\n\n        // check if query exists in cache store\n        // return promise with the cached value if key exists\n        // if not exists, fetch data with XMLHttpRequest\n        if (this.cache !== null) {\n            let cachedResponse = this.cache.get(composedQuery);\n            if (cachedResponse) {\n                return new Promise(resolve => resolve(cachedResponse));\n            }\n        }\n\n        return this.fetchData(composedQuery);\n    }\n\n    fetchData(composedQuery) {\n        let self = this;\n        return new Promise((resolve, reject) => {\n                let xhr = new XMLHttpRequest();\n                xhr.onreadystatechange = function () {\n                    if (this.readyState === 4) {\n                        if (this.status === 200) {\n                            let parsedResponse = JSON.parse(this.responseText);\n\n                            // check if cache is enabled\n                            // set the composedQuery as a cache key\n                            // and the valid response as a cache value\n                            if (this.cache !== null) {\n                                self.cache.set(\n                                    composedQuery,\n                                    parsedResponse\n                                );\n                            }\n\n                            return resolve(parsedResponse);\n                        } else {\n                            return reject(`Request error.`)\n                        }\n                    }\n                };\n\n                xhr.open(\"GET\", composedQuery, true);\n                xhr.send();\n            }\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Repository/HttpRepository.js","/**\n * Cache class\n */\nexport default class MemoryCache {\n    constructor() {\n        this.cache = {};\n        this.size = 0;\n\n        return this;\n    }\n\n    set(key, value) {\n        this.cache = {\n            ...this.cache,\n            [key]: value\n        };\n        this.size = this.size + 1;\n\n        return this;\n    }\n\n    get(key) {\n        return this.cache[key];\n    }\n\n    clear() {\n        this.cache = {};\n        this.size = 0;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Cache/MemoryCache.js","import ItemUUID from \"../Query/ItemUUID\";\nimport Coordinate from \"../Query/Coordinate\";\nimport CoordinateAndDistance from \"../Geo/CoordinateAndDistance\";\nimport Square from \"../Geo/Square\";\nimport Polygon from \"../Geo/Polygon\";\n\n/**\n * SecureObjectFactory class.\n */\nexport default class SecureObjectFactory {\n    static uuid(id, type) {\n        return new ItemUUID(\n            id,\n            type\n        );\n    };\n\n    static coordinate(lat, lon) {\n        return new Coordinate(\n            lat,\n            lon\n        )\n    }\n\n    static coordinateAndDistance(\n        coordinate,\n        distance\n    ) {\n        return new CoordinateAndDistance(\n            coordinate,\n            distance\n        )\n    }\n\n    static square(\n        topLeftCoordinate,\n        bottomRightCoordinate\n    ) {\n        return new Square(\n            topLeftCoordinate,\n            bottomRightCoordinate\n        )\n    }\n\n    static polygon(...coordinates) {\n        return new Polygon(...coordinates);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Factory/SecureObjectFactory.js","import AbstractLocationRange from \"./AbstractLocationRange\";\nimport Coordinate from \"../Query/Coordinate\";\nimport TypeChecker from \"../TypeChecker\";\n\nexport default class CoordinateAndDistance extends AbstractLocationRange {\n    constructor(\n        coordinate,\n        distance\n    ) {\n        super();\n\n        TypeChecker.isObjectTypeOf(coordinate, Coordinate);\n        TypeChecker.isString(distance);\n\n        this.coordinate = coordinate;\n        this.distance = distance;\n\n        return this;\n    }\n\n    toFilterObject() {\n        return {\n            type: this.constructor.name,\n            data: {\n                coordinate: this.coordinate,\n                distance: this.distance\n            }\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Geo/CoordinateAndDistance.js","import AbstractLocationRange from \"./AbstractLocationRange\";\nimport Coordinate from \"../Query/Coordinate\";\nimport TypeChecker from \"../TypeChecker\";\n\nexport default class Square extends AbstractLocationRange {\n    constructor(\n        topLeftCoordinate,\n        bottomRightCoordinate\n    ) {\n        TypeChecker.isObjectTypeOf(topLeftCoordinate, Coordinate);\n        TypeChecker.isObjectTypeOf(bottomRightCoordinate, Coordinate);\n\n        super();\n\n        this.topLeftCoordinate = topLeftCoordinate;\n        this.bottomRightCoordinate = bottomRightCoordinate;\n\n        return this;\n    }\n\n    toFilterObject() {\n        return {\n            type: this.constructor.name,\n            data: {\n                0: this.topLeftCoordinate,\n                1: this.bottomRightCoordinate\n            }\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Geo/Square.js","import AbstractLocationRange from \"./AbstractLocationRange\";\nimport Coordinate from \"../Query/Coordinate\";\nimport TypeChecker from \"../TypeChecker\";\n\nexport default class Polygon extends AbstractLocationRange {\n    constructor(...coordinates) {\n        super();\n\n        if (coordinates.length < 3) {\n            throw new Error(`A polygon needs more than two coordinates.`);\n        }\n\n        this.coordinates = coordinates.map(coordinate => {\n            TypeChecker.isObjectTypeOf(coordinate, Coordinate);\n\n            return coordinate;\n        });\n\n        return this;\n    }\n\n    toFilterObject() {\n        return {\n            type: this.constructor.name,\n            data: this.coordinates\n        }\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Geo/Polygon.js","import Query, {\n    QUERY_DEFAULT_PAGE,\n    QUERY_DEFAULT_SIZE,\n    QUERY_INFINITE_SIZE\n} from \"../Query/Query\";\n\nimport Filter, {\n    FILTER_AT_LEAST_ONE,\n    FILTER_TYPE_FIELD\n} from \"../Query/Filter\";\n\n\n/**\n * QueryFactory class\n */\nexport default class QueryFactory {\n    static create(\n        q,\n        page = QUERY_DEFAULT_PAGE,\n        size = QUERY_DEFAULT_SIZE\n    ) {\n        return new Query({\n            q,\n            from: (page - 1) * size,\n            page,\n            size\n        });\n    }\n\n    static createMatchAll() {\n        return new Query({\n            q: '',\n            page: QUERY_DEFAULT_PAGE,\n            size: QUERY_INFINITE_SIZE\n        });\n    }\n\n    static createLocated(\n        coordinate,\n        queryText,\n        page = QUERY_DEFAULT_PAGE,\n        size = QUERY_DEFAULT_SIZE\n    ) {\n        return new Query({\n            coordinate,\n            page,\n            size,\n            q: queryText\n        });\n    }\n\n    static createByUUID(uuid) {\n        return this.createByUUIDs(uuid);\n    }\n\n    static createByUUIDs(...uuids) {\n        let ids = uuids.map(uuid => uuid.composedUUID());\n        let query = new Query({\n            q: '',\n            page: QUERY_DEFAULT_PAGE,\n            size: QUERY_INFINITE_SIZE\n        });\n\n        query\n            .disableAggregations()\n            .disableSuggestions();\n\n        query.filters = {\n            ...query.filters,\n            ['_id']: new Filter(\n                '_id',\n                ids.filter(\n                    (item, pos) => ids.indexOf(item) === pos\n                ),\n                FILTER_AT_LEAST_ONE,\n                FILTER_TYPE_FIELD\n            )\n        };\n\n        return query;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Factory/QueryFactory.js","import Aggregation from \"./Aggregation\";\nimport ItemUUID from \"./ItemUUID\";\nimport Coordinate from \"./Coordinate\";\nimport TypeChecker from \"../TypeChecker\";\nimport User from \"./User\";\nimport AbstractLocationRange from \"../Geo/AbstractLocationRange\";\nimport Filter, {\n    FILTER_AT_LEAST_ONE,\n    FILTER_EXCLUDE,\n    FILTER_TYPE_DATE_RANGE,\n    FILTER_TYPE_FIELD,\n    FILTER_TYPE_GEO,\n    FILTER_TYPE_RANGE\n} from \"./Filter\";\nimport {\n    AGGREGATION_NO_LIMIT,\n    AGGREGATION_SORT_BY_COUNT_DESC\n} from \"./Aggregation\";\nimport {\n    SORT_BY_SCORE\n} from \"./SortBy\";\n\n/**\n * Query constants\n */\nexport const QUERY_DEFAULT_FROM = 0;\nexport const QUERY_DEFAULT_PAGE = 1;\nexport const QUERY_DEFAULT_SIZE = 10;\nexport const QUERY_INFINITE_SIZE = 1000;\n\n/**\n * Query class\n */\nexport default class Query {\n    constructor(params) {\n        this.q = params.q;\n        this.universe_filters = params.universe_filters || [];\n        this.filters = params.filters || [];\n        this.items_promoted = params.items_promoted || [];\n        this.aggregations = params.aggregations || [];\n        this.page = params.aggregations || QUERY_DEFAULT_PAGE;\n        this.size = params.size || QUERY_DEFAULT_SIZE;\n        this.from = params.from || QUERY_DEFAULT_FROM;\n        this.aggregations_enabled = params.aggregations_enabled || true;\n        this.suggestions_enabled = params.suggestions_enabled || false;\n        this.highlight_enabled = params.highlight_enabled || false;\n        this.filter_fields = params.filter_fields || [];\n        this.user = params.user || null;\n        this.coordinate = (typeof params.coordinate !== 'undefined')\n            ? new Coordinate(\n                params.coordinate.lat,\n                params.coordinate.lon\n            ) : null\n        ;\n        this.sortBy(SORT_BY_SCORE);\n\n        return this;\n    }\n\n    filterBy(\n        filterName,\n        field,\n        values,\n        applicationType = FILTER_AT_LEAST_ONE,\n        aggregate = true,\n        aggregationSort = AGGREGATION_SORT_BY_COUNT_DESC\n    ) {\n        TypeChecker.isArray(values);\n        TypeChecker.isArray(aggregationSort);\n\n        let fieldPath = Filter.getFilterPathByField(field);\n        if (values.length !== 0) {\n            this.filters = {\n                ...this.filters,\n                [filterName]: new Filter(\n                    fieldPath,\n                    values,\n                    applicationType,\n                    FILTER_TYPE_FIELD\n                )\n            }\n        } else {\n            delete this.filters[field]\n        }\n\n        if (aggregate) {\n            this.aggregateBy(\n                filterName,\n                field,\n                applicationType,\n                aggregationSort\n            )\n        }\n\n        return this;\n    }\n\n    filterByTypes(\n        values,\n        aggregate = true,\n        aggregationSort = AGGREGATION_SORT_BY_COUNT_DESC\n    ) {\n        TypeChecker.isArray(values);\n\n        let fieldPath = Filter.getFilterPathByField('type');\n        if (values.length !== 0) {\n            this.filters = {\n                ...this.filters,\n                ['type']: new Filter(\n                    fieldPath,\n                    values,\n                    FILTER_AT_LEAST_ONE,\n                    FILTER_TYPE_FIELD\n                )\n            }\n        } else {\n            delete this.filters['type']\n        }\n\n        if (aggregate) {\n            this.aggregations = {\n                ...this.aggregations,\n                ['type']: new Aggregation(\n                    'type',\n                    fieldPath,\n                    FILTER_AT_LEAST_ONE,\n                    FILTER_TYPE_FIELD,\n                    [],\n                    aggregationSort\n                )\n            }\n        }\n\n        return this;\n    }\n\n    filterByIds(values) {\n        TypeChecker.isArray(values);\n\n        let fieldPath = Filter.getFilterPathByField('id');\n        if (values.length !== 0) {\n            this.filters = {\n                ...this.filters,\n                ['id']: new Filter(\n                    fieldPath,\n                    values,\n                    FILTER_AT_LEAST_ONE,\n                    FILTER_TYPE_FIELD\n                )\n            }\n        } else {\n            delete this.filters['id']\n        }\n\n        return this;\n    }\n\n    filterByRange(\n        filterName,\n        field,\n        options,\n        values,\n        applicationType = FILTER_AT_LEAST_ONE,\n        rangeType = FILTER_TYPE_RANGE,\n        aggregate = true,\n        aggregationSort = AGGREGATION_SORT_BY_COUNT_DESC\n    ) {\n        TypeChecker.isArray(options);\n        TypeChecker.isArray(values);\n\n        let fieldPath = Filter.getFilterPathByField(field);\n        if (values.length !== 0) {\n            this.filters = {\n                ...this.filters,\n                [filterName]: new Filter(\n                    fieldPath,\n                    values,\n                    applicationType,\n                    rangeType\n                )\n            }\n        } else {\n            delete this.filters[filterName]\n        }\n\n        if (aggregate) {\n            this.aggregateByRange(\n                filterName,\n                fieldPath,\n                options,\n                applicationType,\n                rangeType,\n                aggregationSort\n            )\n        }\n\n        return this;\n    }\n\n    filterByDateRange(\n        filterName,\n        field,\n        options,\n        values,\n        applicationType = FILTER_AT_LEAST_ONE,\n        aggregate = true,\n        aggregationSort = AGGREGATION_SORT_BY_COUNT_DESC\n    ) {\n        return this.filterByRange(\n            filterName,\n            field,\n            options,\n            values,\n            applicationType,\n            FILTER_TYPE_DATE_RANGE,\n            aggregate,\n            aggregationSort\n        );\n    }\n\n    filterUniverseBy(\n        field,\n        values,\n        applicationType = FILTER_AT_LEAST_ONE\n    ) {\n        TypeChecker.isArray(values);\n\n        let fieldPath = Filter.getFilterPathByField(field);\n        if (values.length !== 0) {\n            this.universe_filters = {\n                ...this.universe_filters,\n                [field]: new Filter(\n                    fieldPath,\n                    values,\n                    applicationType,\n                    FILTER_TYPE_FIELD\n                )\n            }\n        } else {\n            delete this.universe_filters[field]\n        }\n\n        return this;\n    }\n\n    filterUniverseByTypes(values) {\n        TypeChecker.isArray(values);\n\n        let fieldPath = Filter.getFilterPathByField('type');\n        if (values.length !== 0) {\n            this.universe_filters = {\n                ...this.universe_filters,\n                ['type']: new Filter(\n                    fieldPath,\n                    values,\n                    FILTER_AT_LEAST_ONE,\n                    FILTER_TYPE_FIELD\n                )\n            }\n        } else {\n            delete this.universe_filters['type']\n        }\n\n        return this;\n    }\n\n    filterUniverseByIds(values) {\n        TypeChecker.isArray(values);\n\n        let fieldPath = Filter.getFilterPathByField('id');\n        if (values.length !== 0) {\n            this.universe_filters = {\n                ...this.universe_filters,\n                ['id']: new Filter(\n                    fieldPath,\n                    values,\n                    FILTER_AT_LEAST_ONE,\n                    FILTER_TYPE_FIELD\n                )\n            }\n        } else {\n            delete this.universe_filters['id']\n        }\n\n        return this;\n    }\n\n    filterUniverseByRange(\n        field,\n        values,\n        applicationType = FILTER_AT_LEAST_ONE,\n        rangeType = FILTER_TYPE_RANGE\n    ) {\n        TypeChecker.isArray(values);\n\n        let fieldPath = Filter.getFilterPathByField(field);\n        if (values.length !== 0) {\n            this.universe_filters = {\n                ...this.universe_filters,\n                [field]: new Filter(\n                    fieldPath,\n                    values,\n                    applicationType,\n                    rangeType\n                )\n            }\n        } else {\n            delete this.universe_filters[field]\n        }\n\n        return this;\n    }\n\n    filterUniverseByDateRange(\n        field,\n        values,\n        applicationType = FILTER_AT_LEAST_ONE\n    ) {\n        return this.filterUniverseByRange(\n            field,\n            values,\n            applicationType,\n            FILTER_TYPE_DATE_RANGE\n        );\n    }\n\n    filterUniverseByLocation(locationRange) {\n        TypeChecker.isObjectTypeOf(locationRange, AbstractLocationRange);\n\n        this.universe_filters = {\n            ...this.universe_filters,\n            ['coordinate']: new Filter(\n                'coordinate',\n                locationRange.toFilterObject(),\n                FILTER_AT_LEAST_ONE,\n                FILTER_TYPE_GEO\n            )\n        };\n\n        return this;\n    }\n\n    setFilterFields(fields) {\n        TypeChecker.isArray(fields);\n\n        if (fields.length === 0) {\n            this.filter_fields = [...fields];\n\n            return this;\n        }\n\n        fields.map(field => {\n            this.filter_fields = [\n                ...this.filter_fields,\n                field\n            ]\n        });\n\n        return this;\n    }\n\n    sortBy(sort) {\n        TypeChecker.isDefined(sort);\n\n        if (typeof sort['_geo_distance'] !== 'undefined') {\n            if (this.coordinate instanceof Coordinate === false) {\n                throw new Error(`\n                    In order to be able to sort by coordinates, you need to \n                    create a Query by using apisearch.query.createLocated(...) \n                    instead of apisearch.query.create(...)\n                `);\n            }\n            this.sort = {\n                ['_geo_distance']: {\n                    ['coordinate']: this.coordinate,\n                    ['order']: sort._geo_distance.order,\n                    ['unit']: sort._geo_distance.unit\n                }\n            };\n        } else {\n            Object.keys(sort).map(field => {\n                let direction = sort[field].order;\n                this.sort = {\n                    [field]: {\n                        ['order']: direction\n                    }\n                };\n            });\n        }\n\n        return this;\n    }\n\n    aggregateBy(\n        filterName,\n        field,\n        applicationType,\n        aggregationSort = AGGREGATION_SORT_BY_COUNT_DESC,\n        limit = AGGREGATION_NO_LIMIT\n    ) {\n        TypeChecker.isDefined(applicationType);\n        TypeChecker.isInteger(applicationType);\n\n        this.aggregations = {\n            ...this.aggregations,\n            [filterName]: new Aggregation(\n                filterName,\n                Filter.getFilterPathByField(field),\n                applicationType,\n                FILTER_TYPE_FIELD,\n                [],\n                aggregationSort,\n                limit\n            )\n        };\n\n        return this;\n    }\n\n    aggregateByRange(\n        filterName,\n        field,\n        options,\n        applicationType,\n        rangeType = FILTER_TYPE_RANGE,\n        aggregationSort = AGGREGATION_SORT_BY_COUNT_DESC,\n        limit = AGGREGATION_NO_LIMIT\n    ) {\n        TypeChecker.isArray(options);\n\n        if (options.length === 0) {\n            return this;\n        }\n\n        this.aggregations = {\n            ...this.aggregations,\n            [filterName]: new Aggregation(\n                filterName,\n                Filter.getFilterPathByField(field),\n                applicationType,\n                rangeType,\n                aggregationSort,\n                limit\n            )\n        };\n\n        return this;\n    }\n\n    aggregateByDateRange(\n        filterName,\n        field,\n        options,\n        applicationType,\n        aggregationSort = AGGREGATION_SORT_BY_COUNT_DESC,\n        limit = AGGREGATION_NO_LIMIT\n    ) {\n        TypeChecker.isArray(options);\n\n        if (options.length === 0) {\n            return this;\n        }\n\n        this.aggregations = {\n            ...this.aggregations,\n            [filterName]: new Aggregation(\n                filterName,\n                Filter.getFilterPathByField(field),\n                applicationType,\n                FILTER_TYPE_DATE_RANGE,\n                aggregationSort,\n                limit\n            )\n        };\n\n        return this;\n    }\n\n    enableAggregations() {\n        this.aggregations_enabled = true;\n        return this;\n    }\n\n    disableAggregations() {\n        this.aggregations_enabled = false;\n        return this;\n    }\n\n    enableSuggestions() {\n        this.suggestions_enabled = true;\n        return this;\n    }\n\n    disableSuggestions() {\n        this.suggestions_enabled = false;\n        return this;\n    }\n\n    enableHighlights() {\n        this.highlight_enabled = true;\n        return this;\n    }\n\n    disableHighlights() {\n        this.highlight_enabled = false;\n        return this;\n    }\n\n    promoteUUID(itemUUID) {\n        if (itemUUID instanceof ItemUUID === false) {\n            throw new Error(`Excluded item must be type \"ItemUUID\", \"${itemUUID.constructor.name}\" given.`);\n        }\n        this.items_promoted = [\n            ...this.items_promoted,\n            itemUUID\n        ];\n\n        return this;\n    }\n\n    promoteUUIDs(...uuids) {\n        uuids.forEach(uuid => this.promoteUUID(uuid));\n\n        return this;\n    }\n\n    excludeUUID(itemUUID) {\n        TypeChecker.isObjectTypeOf(itemUUID, ItemUUID);\n        this.excludeUUIDs(itemUUID);\n\n        return this;\n    }\n\n    excludeUUIDs(...uuids) {\n        this.filters = {\n            ...this.filters,\n            ['excluded_ids']: new Filter(\n                '_id',\n                uuids.map(uuid => uuid.composedUUID()),\n                FILTER_EXCLUDE,\n                FILTER_TYPE_FIELD\n            )\n        };\n\n        return this;\n    }\n\n    byUser(user) {\n        TypeChecker.isObjectTypeOf(user, User);\n        this.user = user;\n\n        return this;\n    }\n\n    anonymously() {\n        this.user = null;\n\n        return null;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Query/Query.js","/**\n * Aggregation constants\n */\nexport const AGGREGATION_SORT_BY_COUNT_ASC = ['_count', 'asc'];\nexport const AGGREGATION_SORT_BY_COUNT_DESC = ['_count', 'desc'];\nexport const AGGREGATION_SORT_BY_NAME_ASC = ['_term', 'asc'];\nexport const AGGREGATION_SORT_BY_NAME_DESC = ['_term', 'desc'];\nexport const AGGREGATION_NO_LIMIT = 0;\n\n/**\n * Aggregation class\n */\nexport default class Aggregation {\n    constructor(\n        name,\n        field,\n        applicationType,\n        filterType,\n        subgroup,\n        sort,\n        limit\n    ) {\n        this.name = name;\n        this.field = field;\n        this.applicationType = applicationType;\n        this.filterType = filterType;\n        this.subgroup = subgroup;\n        this.sort = sort || AGGREGATION_SORT_BY_COUNT_DESC;\n        this.limit = limit || AGGREGATION_NO_LIMIT;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Query/Aggregation.js","/**\n * User class\n */\nexport default class User {\n    constructor(id) {\n        this.id = id;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Query/User.js","/**\n export * Sort by constants\n */\n\nexport const SORT_BY_SCORE = {\n    '_score': {\n        'order': 'asc'\n    }\n};\nexport const SORT_BY_RANDOM = {\n    'random': {\n        'order': 'asc'\n    }\n};\nexport const SORT_BY_ID_ASC = {\n    'uuid.id': {\n        'order': 'asc'\n    }\n};\nexport const SORT_BY_ID_DESC = {\n    'uuid.id': {\n        'order': 'desc'\n    }\n};\nexport const SORT_BY_TYPE_ASC = {\n    'uuid.type': {\n        'order': 'asc'\n    }\n};\nexport const SORT_BY_TYPE_DESC = {\n    'uuid.type': {\n        'order': 'desc'\n    }\n};\nexport const SORT_BY_LOCATION_KM_ASC = {\n    '_geo_distance': {\n        'order': 'asc',\n        'unit': 'km'\n    }\n};\nexport const SORT_BY_LOCATION_MI_ASC = {\n    '_geo_distance': {\n        'order': 'asc',\n        'unit': 'mi'\n    }\n};\n\n\n// WEBPACK FOOTER //\n// ./src/Query/SortBy.js"],"sourceRoot":""}