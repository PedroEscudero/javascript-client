{"version":3,"sources":["webpack:///apisearch.min.js","webpack:///webpack/bootstrap 830eaa5bbb4bc2934889","webpack:///./src/Query/Coordinate.js","webpack:///./src/Geo/AbstractLocationRange.js","webpack:///./src/TypeChecker.js","webpack:///./src/Query/Filter.js","webpack:///./src/Query/ItemUUID.js","webpack:///./src/Query/Query.js","webpack:///./src/Query/Aggregation.js","webpack:///./src/apisearch.js","webpack:///./src/Repository/HttpRepository.js","webpack:///./src/Cache/MemoryCache.js","webpack:///./src/Factory/SecureObjectFactory.js","webpack:///./src/Geo/CoordinateAndDistance.js","webpack:///./src/Geo/Square.js","webpack:///./src/Geo/Polygon.js","webpack:///./src/Factory/QueryFactory.js","webpack:///./src/Query/User.js","webpack:///./src/Query/SortBy.js"],"names":["apisearch","modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","Coordinate","latitude","longitude","this","Error","lat","lon","AbstractLocationRange","constructor","toFilterObject","_createClass","defineProperties","target","props","length","descriptor","writable","key","protoProps","staticProps","TypeChecker","value","integer","bool","string","array","Array","givenObject","mustBe","Filter","field","values","applicationType","filterType","filterTerms","arguments","undefined","application_type","filter_type","filter_terms","indexOf","FILTER_IT_DOESNT_MATTER","FILTER_MUST_ALL","FILTER_MUST_ALL_WITH_LEVELS","FILTER_AT_LEAST_ONE","FILTER_EXCLUDE","FILTER_PROMOTE","FILTER_TYPE_FIELD","FILTER_TYPE_RANGE","FILTER_TYPE_DATE_RANGE","FILTER_TYPE_GEO","FILTER_TYPE_QUERY","ItemUUID","id","type","_toConsumableArray","arr","isArray","arr2","from","_defineProperty","obj","_extends","assign","source","User","Aggregation","SORT_BY_SCORE","_require","_require2","AGGREGATION_NO_LIMIT","AGGREGATION_SORT_BY_COUNT_DESC","QUERY_DEFAULT_FROM","QUERY_DEFAULT_PAGE","QUERY_DEFAULT_SIZE","Query","params","q","universe_filters","filters","items_promoted","aggregations","page","size","aggregations_enabled","suggestions_enabled","highlight_enabled","filter_fields","user","coordinate","sortBy","filterName","aggregate","aggregationSort","fieldPath","getFilterPathByField","aggregateBy","options","rangeType","aggregateByRange","filterByRange","filterUniverseByRange","locationRange","isObjectTypeOf","fields","_this","concat","map","sort","_this2","isDefined","_geo_distance","order","unit","keys","direction","limit","isInteger","itemUUID","_this3","_len","uuids","_key","forEach","uuid","promoteUUID","excludeUUIDs","_len2","_key2","composedUUID","QUERY_INFINITE_SIZE","AGGREGATION_SORT_BY_COUNT_ASC","AGGREGATION_SORT_BY_NAME_ASC","AGGREGATION_SORT_BY_NAME_DESC","subgroup","HttpRepository","SecureObjectFactory","QueryFactory","apiKey","endpoint","Apisearch","appId","query","createObject","repository","cache","callback","then","response","catch","error","MemoryCache","secret","encodeURI","JSON","stringify","composedQuery","cachedResponse","Promise","resolve","fetchData","self","reject","xhr","XMLHttpRequest","onreadystatechange","readyState","status","parsedResponse","parse","responseText","set","open","send","CoordinateAndDistance","Square","Polygon","distance","topLeftCoordinate","bottomRightCoordinate","coordinates","Function","bind","apply","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","_AbstractLocationRang","_ret","getPrototypeOf","isString","data","0","1","queryText","createByUUIDs","ids","disableAggregations","disableSuggestions","filter","item","pos","_score","SORT_BY_RANDOM","random","SORT_BY_ID_ASC","uuid.id","SORT_BY_ID_DESC","SORT_BY_TYPE_ASC","uuid.type","SORT_BY_TYPE_DESC","SORT_BY_LOCATION_KM_ASC","SORT_BY_LOCATION_MI_ASC"],"mappings":"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","file":"apisearch.min.js","sourcesContent":["var apisearch =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 7);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Coordinate Type cast\n * @param coordinate\n */\nvar Coordinate = function Coordinate(latitude, longitude) {\n    _classCallCheck(this, Coordinate);\n\n    if (typeof latitude === 'undefined' || typeof latitude === 'undefined') {\n        throw new Error('Not valid coordinates object type given.');\n    }\n\n    this.lat = latitude;\n    this.lon = longitude;\n};\n\nmodule.exports.Coordinate = Coordinate;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Abstract Location Range class\n */\nvar AbstractLocationRange = function AbstractLocationRange() {\n    _classCallCheck(this, AbstractLocationRange);\n\n    if (this.constructor.name === AbstractLocationRange) {\n        throw TypeError('You can\\'t instantiate an Abstract class');\n    }\n\n    if (typeof this.toFilterObject === 'undefined') {\n        throw new TypeError('toFilterObject() method must be implemented.');\n    }\n};\n\nmodule.exports.AbstractLocationRange = AbstractLocationRange;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Typechecking\n */\nvar TypeChecker = function () {\n    function TypeChecker() {\n        _classCallCheck(this, TypeChecker);\n    }\n\n    _createClass(TypeChecker, null, [{\n        key: 'isDefined',\n        value: function isDefined(value) {\n            if (typeof value === 'undefined') {\n                throw new TypeError('Method parameter must be defined.');\n            }\n        }\n    }, {\n        key: 'isInteger',\n        value: function isInteger(integer) {\n            if (typeof integer !== 'number') {\n                throw new TypeError('\\n                \"' + integer + '\" must be type of Integer, \\n                \"' + integer.constructor.name + '\" given.\\n            ');\n            }\n        }\n    }, {\n        key: 'isBool',\n        value: function isBool(bool) {\n            if (typeof bool !== 'boolean') {\n                throw new TypeError('\\n                \"' + bool + '\" must be type of Boolean, \\n                \"' + bool.constructor.name + '\" given.\\n            ');\n            }\n        }\n    }, {\n        key: 'isString',\n        value: function isString(string) {\n            if (typeof string !== 'string') {\n                throw new TypeError('\\n                \"' + string + '\" must be type of String, \\n                \"' + string.constructor.name + '\" given.\\n            ');\n            }\n        }\n    }, {\n        key: 'isArray',\n        value: function isArray(array) {\n            if (array instanceof Array === false) {\n                throw new TypeError('\\n                \"' + array + '\" must be type of Array, \\n                \"' + array.constructor.name + '\" given.\\n            ');\n            }\n        }\n    }, {\n        key: 'isObjectTypeOf',\n        value: function isObjectTypeOf(givenObject, mustBe) {\n            if (givenObject instanceof mustBe !== true) {\n                throw new TypeError('\\n                \"' + givenObject.constructor.name + '\" must be type ' + mustBe.name + ', \\n                \"' + givenObject.constructor.name + '\" given.\\n            ');\n            }\n        }\n    }]);\n\n    return TypeChecker;\n}();\n\nmodule.exports.TypeChecker = TypeChecker;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * filter constants\n */\nvar FILTER_IT_DOESNT_MATTER = 0;\nvar FILTER_MUST_ALL = 4;\nvar FILTER_MUST_ALL_WITH_LEVELS = 5;\nvar FILTER_AT_LEAST_ONE = 8;\nvar FILTER_EXCLUDE = 16;\nvar FILTER_PROMOTE = 32;\nvar FILTER_TYPE_FIELD = 'field';\nvar FILTER_TYPE_RANGE = 'range';\nvar FILTER_TYPE_DATE_RANGE = 'date_range';\nvar FILTER_TYPE_GEO = 'geo';\nvar FILTER_TYPE_QUERY = 'query';\n\n/**\n * Filter class\n */\n\nvar Filter = function () {\n    function Filter(field, values, applicationType, filterType) {\n        var filterTerms = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n\n        _classCallCheck(this, Filter);\n\n        this.field = field;\n        this.values = values;\n        this.application_type = applicationType;\n        this.filter_type = filterType;\n        this.filter_terms = filterTerms;\n\n        return this;\n    }\n\n    _createClass(Filter, null, [{\n        key: 'getFilterPathByField',\n        value: function getFilterPathByField(field) {\n            return ['id', 'type'].indexOf(field) > -1 ? 'uuid.' + field : 'indexed_metadata.' + field;\n        }\n    }]);\n\n    return Filter;\n}();\n\nmodule.exports = {\n    FILTER_IT_DOESNT_MATTER: FILTER_IT_DOESNT_MATTER,\n    FILTER_MUST_ALL: FILTER_MUST_ALL,\n    FILTER_MUST_ALL_WITH_LEVELS: FILTER_MUST_ALL_WITH_LEVELS,\n    FILTER_AT_LEAST_ONE: FILTER_AT_LEAST_ONE,\n    FILTER_EXCLUDE: FILTER_EXCLUDE,\n    FILTER_PROMOTE: FILTER_PROMOTE,\n    FILTER_TYPE_FIELD: FILTER_TYPE_FIELD,\n    FILTER_TYPE_RANGE: FILTER_TYPE_RANGE,\n    FILTER_TYPE_DATE_RANGE: FILTER_TYPE_DATE_RANGE,\n    FILTER_TYPE_GEO: FILTER_TYPE_GEO,\n    FILTER_TYPE_QUERY: FILTER_TYPE_QUERY\n};\nmodule.exports.Filter = Filter;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * ItemUUID class\n */\nvar ItemUUID = function () {\n    function ItemUUID(id, type) {\n        _classCallCheck(this, ItemUUID);\n\n        this.id = id;\n        this.type = type;\n    }\n\n    _createClass(ItemUUID, [{\n        key: \"composedUUID\",\n        value: function composedUUID() {\n            return this.type + \"~\" + this.id;\n        }\n    }]);\n\n    return ItemUUID;\n}();\n\nmodule.exports.ItemUUID = ItemUUID;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ItemUUID = __webpack_require__(4).ItemUUID;\nvar Coordinate = __webpack_require__(0).Coordinate;\nvar TypeChecker = __webpack_require__(2).TypeChecker;\nvar User = __webpack_require__(15).User;\nvar Aggregation = __webpack_require__(6).Aggregation;\nvar Filter = __webpack_require__(3).Filter;\nvar AbstractLocationRange = __webpack_require__(1).AbstractLocationRange;\n\nvar SORT_BY_SCORE = __webpack_require__(16).SORT_BY_SCORE;\n\nvar _require = __webpack_require__(3),\n    FILTER_AT_LEAST_ONE = _require.FILTER_AT_LEAST_ONE,\n    FILTER_EXCLUDE = _require.FILTER_EXCLUDE,\n    FILTER_TYPE_DATE_RANGE = _require.FILTER_TYPE_DATE_RANGE,\n    FILTER_TYPE_FIELD = _require.FILTER_TYPE_FIELD,\n    FILTER_TYPE_GEO = _require.FILTER_TYPE_GEO,\n    FILTER_TYPE_RANGE = _require.FILTER_TYPE_RANGE;\n\nvar _require2 = __webpack_require__(6),\n    AGGREGATION_NO_LIMIT = _require2.AGGREGATION_NO_LIMIT,\n    AGGREGATION_SORT_BY_COUNT_DESC = _require2.AGGREGATION_SORT_BY_COUNT_DESC;\n\n/**\n * Query constants\n */\n\n\nvar QUERY_DEFAULT_FROM = 0;\nvar QUERY_DEFAULT_PAGE = 1;\nvar QUERY_DEFAULT_SIZE = 10;\nvar QUERY_INFINITE_SIZE = 1000;\n\n/**\n * Query class\n */\n\nvar Query = function () {\n    function Query(params) {\n        _classCallCheck(this, Query);\n\n        this.q = params.q;\n        this.universe_filters = params.universe_filters || [];\n        this.filters = params.filters || [];\n        this.items_promoted = params.items_promoted || [];\n        this.aggregations = params.aggregations || [];\n        this.page = params.aggregations || QUERY_DEFAULT_PAGE;\n        this.size = params.size || QUERY_DEFAULT_SIZE;\n        this.from = params.from || QUERY_DEFAULT_FROM;\n        this.aggregations_enabled = params.aggregations_enabled || true;\n        this.suggestions_enabled = params.suggestions_enabled || false;\n        this.highlight_enabled = params.highlight_enabled || false;\n        this.filter_fields = params.filter_fields || [];\n        this.user = params.user || null;\n        this.coordinate = typeof params.coordinate !== 'undefined' ? new Coordinate(params.coordinate.lat, params.coordinate.lon) : null;\n        this.sortBy(SORT_BY_SCORE);\n\n        return this;\n    }\n\n    _createClass(Query, [{\n        key: \"filterBy\",\n        value: function filterBy(filterName, field, values) {\n            var applicationType = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : FILTER_AT_LEAST_ONE;\n            var aggregate = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n            var aggregationSort = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : AGGREGATION_SORT_BY_COUNT_DESC;\n\n            TypeChecker.isArray(values);\n            TypeChecker.isArray(aggregationSort);\n\n            var fieldPath = Filter.getFilterPathByField(field);\n            if (values.length !== 0) {\n                this.filters = _extends({}, this.filters, _defineProperty({}, filterName, new Filter(fieldPath, values, applicationType, FILTER_TYPE_FIELD)));\n            } else {\n                delete this.filters[field];\n            }\n\n            if (aggregate) {\n                this.aggregateBy(filterName, field, applicationType, aggregationSort);\n            }\n\n            return this;\n        }\n    }, {\n        key: \"filterByTypes\",\n        value: function filterByTypes(values) {\n            var aggregate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n            var aggregationSort = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : AGGREGATION_SORT_BY_COUNT_DESC;\n\n            TypeChecker.isArray(values);\n\n            var fieldPath = Filter.getFilterPathByField('type');\n            if (values.length !== 0) {\n                this.filters = _extends({}, this.filters, _defineProperty({}, 'type', new Filter(fieldPath, values, FILTER_AT_LEAST_ONE, FILTER_TYPE_FIELD)));\n            } else {\n                delete this.filters['type'];\n            }\n\n            if (aggregate) {\n                this.aggregations = _extends({}, this.aggregations, _defineProperty({}, 'type', new Aggregation('type', fieldPath, FILTER_AT_LEAST_ONE, FILTER_TYPE_FIELD, [], aggregationSort)));\n            }\n\n            return this;\n        }\n    }, {\n        key: \"filterByIds\",\n        value: function filterByIds(values) {\n            TypeChecker.isArray(values);\n\n            var fieldPath = Filter.getFilterPathByField('id');\n            if (values.length !== 0) {\n                this.filters = _extends({}, this.filters, _defineProperty({}, 'id', new Filter(fieldPath, values, FILTER_AT_LEAST_ONE, FILTER_TYPE_FIELD)));\n            } else {\n                delete this.filters['id'];\n            }\n\n            return this;\n        }\n    }, {\n        key: \"filterByRange\",\n        value: function filterByRange(filterName, field, options, values) {\n            var applicationType = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : FILTER_AT_LEAST_ONE;\n            var rangeType = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : FILTER_TYPE_RANGE;\n            var aggregate = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : true;\n            var aggregationSort = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : AGGREGATION_SORT_BY_COUNT_DESC;\n\n            TypeChecker.isArray(options);\n            TypeChecker.isArray(values);\n\n            var fieldPath = Filter.getFilterPathByField(field);\n            if (values.length !== 0) {\n                this.filters = _extends({}, this.filters, _defineProperty({}, filterName, new Filter(fieldPath, values, applicationType, rangeType)));\n            } else {\n                delete this.filters[filterName];\n            }\n\n            if (aggregate) {\n                this.aggregateByRange(filterName, fieldPath, options, applicationType, rangeType, aggregationSort);\n            }\n\n            return this;\n        }\n    }, {\n        key: \"filterByDateRange\",\n        value: function filterByDateRange(filterName, field, options, values) {\n            var applicationType = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : FILTER_AT_LEAST_ONE;\n            var aggregate = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n            var aggregationSort = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : AGGREGATION_SORT_BY_COUNT_DESC;\n\n            return this.filterByRange(filterName, field, options, values, applicationType, FILTER_TYPE_DATE_RANGE, aggregate, aggregationSort);\n        }\n    }, {\n        key: \"filterUniverseBy\",\n        value: function filterUniverseBy(field, values) {\n            var applicationType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : FILTER_AT_LEAST_ONE;\n\n            TypeChecker.isArray(values);\n\n            var fieldPath = Filter.getFilterPathByField(field);\n            if (values.length !== 0) {\n                this.universe_filters = _extends({}, this.universe_filters, _defineProperty({}, field, new Filter(fieldPath, values, applicationType, FILTER_TYPE_FIELD)));\n            } else {\n                delete this.universe_filters[field];\n            }\n\n            return this;\n        }\n    }, {\n        key: \"filterUniverseByTypes\",\n        value: function filterUniverseByTypes(values) {\n            TypeChecker.isArray(values);\n\n            var fieldPath = Filter.getFilterPathByField('type');\n            if (values.length !== 0) {\n                this.universe_filters = _extends({}, this.universe_filters, _defineProperty({}, 'type', new Filter(fieldPath, values, FILTER_AT_LEAST_ONE, FILTER_TYPE_FIELD)));\n            } else {\n                delete this.universe_filters['type'];\n            }\n\n            return this;\n        }\n    }, {\n        key: \"filterUniverseByIds\",\n        value: function filterUniverseByIds(values) {\n            TypeChecker.isArray(values);\n\n            var fieldPath = Filter.getFilterPathByField('id');\n            if (values.length !== 0) {\n                this.universe_filters = _extends({}, this.universe_filters, _defineProperty({}, 'id', new Filter(fieldPath, values, FILTER_AT_LEAST_ONE, FILTER_TYPE_FIELD)));\n            } else {\n                delete this.universe_filters['id'];\n            }\n\n            return this;\n        }\n    }, {\n        key: \"filterUniverseByRange\",\n        value: function filterUniverseByRange(field, values) {\n            var applicationType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : FILTER_AT_LEAST_ONE;\n            var rangeType = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : FILTER_TYPE_RANGE;\n\n            TypeChecker.isArray(values);\n\n            var fieldPath = Filter.getFilterPathByField(field);\n            if (values.length !== 0) {\n                this.universe_filters = _extends({}, this.universe_filters, _defineProperty({}, field, new Filter(fieldPath, values, applicationType, rangeType)));\n            } else {\n                delete this.universe_filters[field];\n            }\n\n            return this;\n        }\n    }, {\n        key: \"filterUniverseByDateRange\",\n        value: function filterUniverseByDateRange(field, values) {\n            var applicationType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : FILTER_AT_LEAST_ONE;\n\n            return this.filterUniverseByRange(field, values, applicationType, FILTER_TYPE_DATE_RANGE);\n        }\n    }, {\n        key: \"filterUniverseByLocation\",\n        value: function filterUniverseByLocation(locationRange) {\n            TypeChecker.isObjectTypeOf(locationRange, AbstractLocationRange);\n\n            this.universe_filters = _extends({}, this.universe_filters, _defineProperty({}, 'coordinate', new Filter('coordinate', locationRange.toFilterObject(), FILTER_AT_LEAST_ONE, FILTER_TYPE_GEO)));\n\n            return this;\n        }\n    }, {\n        key: \"setFilterFields\",\n        value: function setFilterFields(fields) {\n            var _this = this;\n\n            TypeChecker.isArray(fields);\n\n            if (fields.length === 0) {\n                this.filter_fields = [].concat(_toConsumableArray(fields));\n\n                return this;\n            }\n\n            fields.map(function (field) {\n                _this.filter_fields = [].concat(_toConsumableArray(_this.filter_fields), [field]);\n            });\n\n            return this;\n        }\n    }, {\n        key: \"sortBy\",\n        value: function sortBy(sort) {\n            var _this2 = this;\n\n            TypeChecker.isDefined(sort);\n\n            if (typeof sort['_geo_distance'] !== 'undefined') {\n                var _geo_distance;\n\n                if (this.coordinate instanceof Coordinate === false) {\n                    throw new Error(\"\\n                    In order to be able to sort by coordinates, you need to \\n                    create a Query by using apisearch.query.createLocated(...) \\n                    instead of apisearch.query.create(...)\\n                \");\n                }\n                this.sort = _defineProperty({}, '_geo_distance', (_geo_distance = {}, _defineProperty(_geo_distance, 'coordinate', this.coordinate), _defineProperty(_geo_distance, 'order', sort._geo_distance.order), _defineProperty(_geo_distance, 'unit', sort._geo_distance.unit), _geo_distance));\n            } else {\n                Object.keys(sort).map(function (field) {\n                    var direction = sort[field].order;\n                    _this2.sort = _defineProperty({}, field, _defineProperty({}, 'order', direction));\n                });\n            }\n\n            return this;\n        }\n    }, {\n        key: \"aggregateBy\",\n        value: function aggregateBy(filterName, field, applicationType) {\n            var aggregationSort = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : AGGREGATION_SORT_BY_COUNT_DESC;\n            var limit = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : AGGREGATION_NO_LIMIT;\n\n            TypeChecker.isDefined(applicationType);\n            TypeChecker.isInteger(applicationType);\n\n            this.aggregations = _extends({}, this.aggregations, _defineProperty({}, filterName, new Aggregation(filterName, Filter.getFilterPathByField(field), applicationType, FILTER_TYPE_FIELD, [], aggregationSort, limit)));\n\n            return this;\n        }\n    }, {\n        key: \"aggregateByRange\",\n        value: function aggregateByRange(filterName, field, options, applicationType) {\n            var rangeType = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : FILTER_TYPE_RANGE;\n            var aggregationSort = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : AGGREGATION_SORT_BY_COUNT_DESC;\n            var limit = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : AGGREGATION_NO_LIMIT;\n\n            TypeChecker.isArray(options);\n\n            if (options.length === 0) {\n                return this;\n            }\n\n            this.aggregations = _extends({}, this.aggregations, _defineProperty({}, filterName, new Aggregation(filterName, Filter.getFilterPathByField(field), applicationType, rangeType, aggregationSort, limit)));\n\n            return this;\n        }\n    }, {\n        key: \"aggregateByDateRange\",\n        value: function aggregateByDateRange(filterName, field, options, applicationType) {\n            var aggregationSort = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : AGGREGATION_SORT_BY_COUNT_DESC;\n            var limit = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : AGGREGATION_NO_LIMIT;\n\n            TypeChecker.isArray(options);\n\n            if (options.length === 0) {\n                return this;\n            }\n\n            this.aggregations = _extends({}, this.aggregations, _defineProperty({}, filterName, new Aggregation(filterName, Filter.getFilterPathByField(field), applicationType, FILTER_TYPE_DATE_RANGE, aggregationSort, limit)));\n\n            return this;\n        }\n    }, {\n        key: \"enableAggregations\",\n        value: function enableAggregations() {\n            this.aggregations_enabled = true;\n            return this;\n        }\n    }, {\n        key: \"disableAggregations\",\n        value: function disableAggregations() {\n            this.aggregations_enabled = false;\n            return this;\n        }\n    }, {\n        key: \"enableSuggestions\",\n        value: function enableSuggestions() {\n            this.suggestions_enabled = true;\n            return this;\n        }\n    }, {\n        key: \"disableSuggestions\",\n        value: function disableSuggestions() {\n            this.suggestions_enabled = false;\n            return this;\n        }\n    }, {\n        key: \"enableHighlights\",\n        value: function enableHighlights() {\n            this.highlight_enabled = true;\n            return this;\n        }\n    }, {\n        key: \"disableHighlights\",\n        value: function disableHighlights() {\n            this.highlight_enabled = false;\n            return this;\n        }\n    }, {\n        key: \"promoteUUID\",\n        value: function promoteUUID(itemUUID) {\n            if (itemUUID instanceof ItemUUID === false) {\n                throw new Error(\"Excluded item must be type \\\"ItemUUID\\\", \\\"\" + itemUUID.constructor.name + \"\\\" given.\");\n            }\n            this.items_promoted = [].concat(_toConsumableArray(this.items_promoted), [itemUUID]);\n\n            return this;\n        }\n    }, {\n        key: \"promoteUUIDs\",\n        value: function promoteUUIDs() {\n            var _this3 = this;\n\n            for (var _len = arguments.length, uuids = Array(_len), _key = 0; _key < _len; _key++) {\n                uuids[_key] = arguments[_key];\n            }\n\n            uuids.forEach(function (uuid) {\n                return _this3.promoteUUID(uuid);\n            });\n\n            return this;\n        }\n    }, {\n        key: \"excludeUUID\",\n        value: function excludeUUID(itemUUID) {\n            TypeChecker.isObjectTypeOf(itemUUID, ItemUUID);\n            this.excludeUUIDs(itemUUID);\n\n            return this;\n        }\n    }, {\n        key: \"excludeUUIDs\",\n        value: function excludeUUIDs() {\n            for (var _len2 = arguments.length, uuids = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                uuids[_key2] = arguments[_key2];\n            }\n\n            this.filters = _extends({}, this.filters, _defineProperty({}, 'excluded_ids', new Filter('_id', uuids.map(function (uuid) {\n                return uuid.composedUUID();\n            }), FILTER_EXCLUDE, FILTER_TYPE_FIELD)));\n\n            return this;\n        }\n    }, {\n        key: \"byUser\",\n        value: function byUser(user) {\n            TypeChecker.isObjectTypeOf(user, User);\n            this.user = user;\n\n            return this;\n        }\n    }, {\n        key: \"anonymously\",\n        value: function anonymously() {\n            this.user = null;\n\n            return null;\n        }\n    }]);\n\n    return Query;\n}();\n\nmodule.exports = {\n    QUERY_DEFAULT_FROM: QUERY_DEFAULT_FROM,\n    QUERY_DEFAULT_PAGE: QUERY_DEFAULT_PAGE,\n    QUERY_DEFAULT_SIZE: QUERY_DEFAULT_SIZE,\n    QUERY_INFINITE_SIZE: QUERY_INFINITE_SIZE\n};\nmodule.exports.Query = Query;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Aggregation constants\n */\nvar AGGREGATION_SORT_BY_COUNT_ASC = ['_count', 'asc'];\nvar AGGREGATION_SORT_BY_COUNT_DESC = ['_count', 'desc'];\nvar AGGREGATION_SORT_BY_NAME_ASC = ['_term', 'asc'];\nvar AGGREGATION_SORT_BY_NAME_DESC = ['_term', 'desc'];\nvar AGGREGATION_NO_LIMIT = 0;\n\n/**\n * Aggregation class\n */\n\nvar Aggregation = function Aggregation(name, field, applicationType, filterType, subgroup, sort, limit) {\n    _classCallCheck(this, Aggregation);\n\n    this.name = name;\n    this.field = field;\n    this.applicationType = applicationType;\n    this.filterType = filterType;\n    this.subgroup = subgroup;\n    this.sort = sort || AGGREGATION_SORT_BY_COUNT_DESC;\n    this.limit = limit || AGGREGATION_NO_LIMIT;\n};\n\nmodule.exports = {\n    AGGREGATION_SORT_BY_COUNT_ASC: AGGREGATION_SORT_BY_COUNT_ASC,\n    AGGREGATION_SORT_BY_COUNT_DESC: AGGREGATION_SORT_BY_COUNT_DESC,\n    AGGREGATION_SORT_BY_NAME_ASC: AGGREGATION_SORT_BY_NAME_ASC,\n    AGGREGATION_SORT_BY_NAME_DESC: AGGREGATION_SORT_BY_NAME_DESC,\n    AGGREGATION_NO_LIMIT: AGGREGATION_NO_LIMIT\n};\nmodule.exports.Aggregation = Aggregation;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar HttpRepository = __webpack_require__(8);\nvar SecureObjectFactory = __webpack_require__(10).SecureObjectFactory;\nvar QueryFactory = __webpack_require__(14).QueryFactory;\n\n/**\n * Entry point for the Apisearch client\n *\n * @param apiKey\n * @param endpoint\n *\n * @returns {Apisearch}\n */\nmodule.exports = function (apiKey, endpoint) {\n    if (typeof apiKey === 'undefined') {\n        throw new TypeError(\"ApiKey parameter must be defined.\");\n    }\n\n    return new Apisearch('apisearch-app-id', apiKey, endpoint);\n};\n\n/**\n * Apisearch class\n */\n\nvar Apisearch = function () {\n    function Apisearch(appId, apiKey) {\n        var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n        _classCallCheck(this, Apisearch);\n\n        this.appId = appId;\n        this.apiKey = apiKey;\n        this.endpoint = options.endpoint || 'http://127.0.0.1:9002/app.php';\n\n        this.query = QueryFactory;\n        this.createObject = SecureObjectFactory;\n\n        this.repository = new HttpRepository(this.endpoint, this.apiKey, options.cache || true);\n    }\n\n    _createClass(Apisearch, [{\n        key: \"search\",\n        value: function search(query, callback) {\n            return this.repository.query(query).then(function (response) {\n                return callback(response, null);\n            }).catch(function (error) {\n                return callback(null, error);\n            });\n        }\n    }]);\n\n    return Apisearch;\n}();\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// const http = require('http');\nvar MemoryCache = __webpack_require__(9);\n\n/**\n * Repository class\n */\n\nvar HttpRepository = function () {\n    /**\n     * Constructor\n     * @param endpoint\n     * @param secret\n     * @param cache\n     */\n    function HttpRepository(endpoint, secret, cache) {\n        _classCallCheck(this, HttpRepository);\n\n        this.endpoint = endpoint;\n        this.secret = secret;\n        this.cache = cache ? new MemoryCache() : null;\n    }\n\n    /**\n     * Make query against the server\n     * @param query\n     * @returns {Promise}\n     */\n\n\n    _createClass(HttpRepository, [{\n        key: \"query\",\n        value: function query(_query) {\n            _query = encodeURI(JSON.stringify(_query));\n            var composedQuery = this.endpoint + \"?key=\" + this.secret + \"&query=\" + _query;\n\n            // check if query exists in cache store\n            // return promise with the cached value if key exists\n            // if not exists, fetch data with XMLHttpRequest\n            if (this.cache !== null) {\n                var cachedResponse = this.cache.get(composedQuery);\n                if (cachedResponse) {\n                    return new Promise(function (resolve) {\n                        return resolve(cachedResponse);\n                    });\n                }\n            }\n\n            return this.fetchData(composedQuery);\n        }\n    }, {\n        key: \"fetchData\",\n        value: function fetchData(composedQuery) {\n            var self = this;\n            return new Promise(function (resolve, reject) {\n                var xhr = new XMLHttpRequest();\n                xhr.onreadystatechange = function () {\n                    if (this.readyState === 4) {\n                        if (this.status === 200) {\n                            var parsedResponse = JSON.parse(this.responseText);\n\n                            // check if cache is enabled\n                            // set the composedQuery as a cache key\n                            // and the valid response as a cache value\n                            if (this.cache !== null) {\n                                self.cache.set(composedQuery, parsedResponse);\n                            }\n\n                            return resolve(parsedResponse);\n                        } else {\n                            return reject(\"Request error.\");\n                        }\n                    }\n                };\n\n                xhr.open(\"GET\", composedQuery, true);\n                xhr.send();\n            });\n        }\n    }]);\n\n    return HttpRepository;\n}();\n\nmodule.exports = HttpRepository;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Cache class\n */\nvar MemoryCache = function () {\n    function MemoryCache() {\n        _classCallCheck(this, MemoryCache);\n\n        this.cache = {};\n        this.size = 0;\n\n        return this;\n    }\n\n    _createClass(MemoryCache, [{\n        key: \"set\",\n        value: function set(key, value) {\n            this.cache = _extends({}, this.cache, _defineProperty({}, key, value));\n            this.size = this.size + 1;\n\n            return this;\n        }\n    }, {\n        key: \"get\",\n        value: function get(key) {\n            return this.cache[key];\n        }\n    }, {\n        key: \"clear\",\n        value: function clear() {\n            this.cache = {};\n            this.size = 0;\n        }\n    }]);\n\n    return MemoryCache;\n}();\n\nmodule.exports = MemoryCache;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ItemUUID = __webpack_require__(4).ItemUUID;\nvar Coordinate = __webpack_require__(0).Coordinate;\nvar CoordinateAndDistance = __webpack_require__(11).CoordinateAndDistance;\nvar Square = __webpack_require__(12).Square;\nvar Polygon = __webpack_require__(13).Polygon;\n\n/**\n * SecureObjectFactory class.\n */\n\nvar SecureObjectFactory = function () {\n    function SecureObjectFactory() {\n        _classCallCheck(this, SecureObjectFactory);\n    }\n\n    _createClass(SecureObjectFactory, null, [{\n        key: \"uuid\",\n        value: function uuid(id, type) {\n            return new ItemUUID(id, type);\n        }\n    }, {\n        key: \"coordinate\",\n        value: function coordinate(lat, lon) {\n            return new Coordinate(lat, lon);\n        }\n    }, {\n        key: \"coordinateAndDistance\",\n        value: function coordinateAndDistance(coordinate, distance) {\n            return new CoordinateAndDistance(coordinate, distance);\n        }\n    }, {\n        key: \"square\",\n        value: function square(topLeftCoordinate, bottomRightCoordinate) {\n            return new Square(topLeftCoordinate, bottomRightCoordinate);\n        }\n    }, {\n        key: \"polygon\",\n        value: function polygon() {\n            for (var _len = arguments.length, coordinates = Array(_len), _key = 0; _key < _len; _key++) {\n                coordinates[_key] = arguments[_key];\n            }\n\n            return new (Function.prototype.bind.apply(Polygon, [null].concat(coordinates)))();\n        }\n    }]);\n\n    return SecureObjectFactory;\n}();\n\nmodule.exports.SecureObjectFactory = SecureObjectFactory;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar AbstractLocationRange = __webpack_require__(1).AbstractLocationRange;\nvar Coordinate = __webpack_require__(0).Coordinate;\nvar TypeChecker = __webpack_require__(2).TypeChecker;\n\nvar CoordinateAndDistance = function (_AbstractLocationRang) {\n    _inherits(CoordinateAndDistance, _AbstractLocationRang);\n\n    function CoordinateAndDistance(coordinate, distance) {\n        var _ret;\n\n        _classCallCheck(this, CoordinateAndDistance);\n\n        var _this = _possibleConstructorReturn(this, (CoordinateAndDistance.__proto__ || Object.getPrototypeOf(CoordinateAndDistance)).call(this));\n\n        TypeChecker.isObjectTypeOf(coordinate, Coordinate);\n        TypeChecker.isString(distance);\n\n        _this.coordinate = coordinate;\n        _this.distance = distance;\n\n        return _ret = _this, _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(CoordinateAndDistance, [{\n        key: \"toFilterObject\",\n        value: function toFilterObject() {\n            return {\n                type: this.constructor.name,\n                data: {\n                    coordinate: this.coordinate,\n                    distance: this.distance\n                }\n            };\n        }\n    }]);\n\n    return CoordinateAndDistance;\n}(AbstractLocationRange);\n\nmodule.exports.CoordinateAndDistance = CoordinateAndDistance;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar AbstractLocationRange = __webpack_require__(1).AbstractLocationRange;\nvar Coordinate = __webpack_require__(0).Coordinate;\nvar TypeChecker = __webpack_require__(2).TypeChecker;\n\nvar Square = function (_AbstractLocationRang) {\n    _inherits(Square, _AbstractLocationRang);\n\n    function Square(topLeftCoordinate, bottomRightCoordinate) {\n        var _ret;\n\n        _classCallCheck(this, Square);\n\n        TypeChecker.isObjectTypeOf(topLeftCoordinate, Coordinate);\n        TypeChecker.isObjectTypeOf(bottomRightCoordinate, Coordinate);\n\n        var _this = _possibleConstructorReturn(this, (Square.__proto__ || Object.getPrototypeOf(Square)).call(this));\n\n        _this.topLeftCoordinate = topLeftCoordinate;\n        _this.bottomRightCoordinate = bottomRightCoordinate;\n\n        return _ret = _this, _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(Square, [{\n        key: \"toFilterObject\",\n        value: function toFilterObject() {\n            return {\n                type: this.constructor.name,\n                data: {\n                    0: this.topLeftCoordinate,\n                    1: this.bottomRightCoordinate\n                }\n            };\n        }\n    }]);\n\n    return Square;\n}(AbstractLocationRange);\n\nmodule.exports.Square = Square;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar AbstractLocationRange = __webpack_require__(1).AbstractLocationRange;\nvar Coordinate = __webpack_require__(0).Coordinate;\nvar TypeChecker = __webpack_require__(2).TypeChecker;\n\nvar Polygon = function (_AbstractLocationRang) {\n    _inherits(Polygon, _AbstractLocationRang);\n\n    function Polygon() {\n        var _ret;\n\n        _classCallCheck(this, Polygon);\n\n        var _this = _possibleConstructorReturn(this, (Polygon.__proto__ || Object.getPrototypeOf(Polygon)).call(this));\n\n        for (var _len = arguments.length, coordinates = Array(_len), _key = 0; _key < _len; _key++) {\n            coordinates[_key] = arguments[_key];\n        }\n\n        if (coordinates.length < 3) {\n            throw new Error(\"A polygon needs more than two coordinates.\");\n        }\n\n        _this.coordinates = coordinates.map(function (coordinate) {\n            TypeChecker.isObjectTypeOf(coordinate, Coordinate);\n\n            return coordinate;\n        });\n\n        return _ret = _this, _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(Polygon, [{\n        key: \"toFilterObject\",\n        value: function toFilterObject() {\n            return {\n                type: this.constructor.name,\n                data: this.coordinates\n            };\n        }\n    }]);\n\n    return Polygon;\n}(AbstractLocationRange);\n\nmodule.exports.Polygon = Polygon;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar _require = __webpack_require__(5),\n    QUERY_DEFAULT_PAGE = _require.QUERY_DEFAULT_PAGE,\n    QUERY_DEFAULT_SIZE = _require.QUERY_DEFAULT_SIZE,\n    QUERY_INFINITE_SIZE = _require.QUERY_INFINITE_SIZE;\n\nvar Query = __webpack_require__(5).Query;\n\nvar _require2 = __webpack_require__(3),\n    FILTER_AT_LEAST_ONE = _require2.FILTER_AT_LEAST_ONE,\n    FILTER_TYPE_FIELD = _require2.FILTER_TYPE_FIELD;\n\nvar Filter = __webpack_require__(3).Filter;\n\n/**\n * QueryFactory class\n */\n\nvar QueryFactory = function () {\n    function QueryFactory() {\n        _classCallCheck(this, QueryFactory);\n    }\n\n    _createClass(QueryFactory, null, [{\n        key: \"create\",\n        value: function create(q) {\n            var page = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : QUERY_DEFAULT_PAGE;\n            var size = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : QUERY_DEFAULT_SIZE;\n\n            return new Query({\n                q: q,\n                from: (page - 1) * size,\n                page: page,\n                size: size\n            });\n        }\n    }, {\n        key: \"createMatchAll\",\n        value: function createMatchAll() {\n            return new Query({\n                q: '',\n                page: QUERY_DEFAULT_PAGE,\n                size: QUERY_INFINITE_SIZE\n            });\n        }\n    }, {\n        key: \"createLocated\",\n        value: function createLocated(coordinate, queryText) {\n            var page = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : QUERY_DEFAULT_PAGE;\n            var size = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : QUERY_DEFAULT_SIZE;\n\n            return new Query({\n                coordinate: coordinate,\n                page: page,\n                size: size,\n                q: queryText\n            });\n        }\n    }, {\n        key: \"createByUUID\",\n        value: function createByUUID(uuid) {\n            return this.createByUUIDs(uuid);\n        }\n    }, {\n        key: \"createByUUIDs\",\n        value: function createByUUIDs() {\n            for (var _len = arguments.length, uuids = Array(_len), _key = 0; _key < _len; _key++) {\n                uuids[_key] = arguments[_key];\n            }\n\n            var ids = uuids.map(function (uuid) {\n                return uuid.composedUUID();\n            });\n            var query = new Query({\n                q: '',\n                page: QUERY_DEFAULT_PAGE,\n                size: QUERY_INFINITE_SIZE\n            });\n\n            query.disableAggregations().disableSuggestions();\n\n            query.filters = _extends({}, query.filters, _defineProperty({}, '_id', new Filter('_id', ids.filter(function (item, pos) {\n                return ids.indexOf(item) === pos;\n            }), FILTER_AT_LEAST_ONE, FILTER_TYPE_FIELD)));\n\n            return query;\n        }\n    }]);\n\n    return QueryFactory;\n}();\n\nmodule.exports.QueryFactory = QueryFactory;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * User class\n */\nvar User = function User(id) {\n    _classCallCheck(this, User);\n\n    this.id = id;\n};\n\nmodule.exports.User = User;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n export * Sort by constants\n */\n\nvar SORT_BY_SCORE = {\n    '_score': {\n        'order': 'asc'\n    }\n};\nvar SORT_BY_RANDOM = {\n    'random': {\n        'order': 'asc'\n    }\n};\nvar SORT_BY_ID_ASC = {\n    'uuid.id': {\n        'order': 'asc'\n    }\n};\nvar SORT_BY_ID_DESC = {\n    'uuid.id': {\n        'order': 'desc'\n    }\n};\nvar SORT_BY_TYPE_ASC = {\n    'uuid.type': {\n        'order': 'asc'\n    }\n};\nvar SORT_BY_TYPE_DESC = {\n    'uuid.type': {\n        'order': 'desc'\n    }\n};\nvar SORT_BY_LOCATION_KM_ASC = {\n    '_geo_distance': {\n        'order': 'asc',\n        'unit': 'km'\n    }\n};\nvar SORT_BY_LOCATION_MI_ASC = {\n    '_geo_distance': {\n        'order': 'asc',\n        'unit': 'mi'\n    }\n};\n\nmodule.exports = {\n    SORT_BY_SCORE: SORT_BY_SCORE,\n    SORT_BY_RANDOM: SORT_BY_RANDOM,\n    SORT_BY_ID_ASC: SORT_BY_ID_ASC,\n    SORT_BY_ID_DESC: SORT_BY_ID_DESC,\n    SORT_BY_TYPE_ASC: SORT_BY_TYPE_ASC,\n    SORT_BY_TYPE_DESC: SORT_BY_TYPE_DESC,\n    SORT_BY_LOCATION_KM_ASC: SORT_BY_LOCATION_KM_ASC,\n    SORT_BY_LOCATION_MI_ASC: SORT_BY_LOCATION_MI_ASC\n};\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// apisearch.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 830eaa5bbb4bc2934889","/**\n * Coordinate Type cast\n * @param coordinate\n */\nclass Coordinate {\n    constructor(latitude, longitude) {\n        if (\n            typeof latitude === 'undefined' ||\n            typeof latitude === 'undefined'\n        ) {\n            throw new Error(`Not valid coordinates object type given.`);\n        }\n\n        this.lat = latitude;\n        this.lon = longitude;\n    }\n}\n\nmodule.exports.Coordinate = Coordinate;\n\n\n// WEBPACK FOOTER //\n// ./src/Query/Coordinate.js","/**\n * Abstract Location Range class\n */\nclass AbstractLocationRange {\n    constructor() {\n        if (this.constructor.name === AbstractLocationRange) {\n            throw TypeError(`You can't instantiate an Abstract class`);\n        }\n\n        if (typeof this.toFilterObject === 'undefined') {\n            throw new TypeError(`toFilterObject() method must be implemented.`);\n        }\n    }\n}\n\nmodule.exports.AbstractLocationRange = AbstractLocationRange;\n\n\n// WEBPACK FOOTER //\n// ./src/Geo/AbstractLocationRange.js","/**\n * Typechecking\n */\nclass TypeChecker {\n    static isDefined(value) {\n        if (typeof value === 'undefined') {\n            throw new TypeError(`Method parameter must be defined.`);\n        }\n    }\n\n    static isInteger(integer) {\n        if (typeof integer !== 'number') {\n            throw new TypeError(`\n                \"${integer}\" must be type of Integer, \n                \"${integer.constructor.name}\" given.\n            `);\n        }\n    }\n\n    static isBool(bool) {\n        if (typeof bool !== 'boolean') {\n            throw new TypeError(`\n                \"${bool}\" must be type of Boolean, \n                \"${bool.constructor.name}\" given.\n            `);\n        }\n    }\n\n    static isString(string) {\n        if (typeof string !== 'string') {\n            throw new TypeError(`\n                \"${string}\" must be type of String, \n                \"${string.constructor.name}\" given.\n            `);\n        }\n    }\n\n    static isArray(array) {\n        if (array instanceof Array === false) {\n            throw new TypeError(`\n                \"${array}\" must be type of Array, \n                \"${array.constructor.name}\" given.\n            `);\n        }\n    }\n\n    static isObjectTypeOf(\n        givenObject,\n        mustBe\n    ) {\n        if (givenObject instanceof mustBe !== true) {\n            throw new TypeError(`\n                \"${givenObject.constructor.name}\" must be type ${mustBe.name}, \n                \"${givenObject.constructor.name}\" given.\n            `);\n        }\n    }\n}\n\nmodule.exports.TypeChecker = TypeChecker;\n\n\n// WEBPACK FOOTER //\n// ./src/TypeChecker.js","/**\n * filter constants\n */\nconst FILTER_IT_DOESNT_MATTER = 0;\nconst FILTER_MUST_ALL = 4;\nconst FILTER_MUST_ALL_WITH_LEVELS = 5;\nconst FILTER_AT_LEAST_ONE = 8;\nconst FILTER_EXCLUDE = 16;\nconst FILTER_PROMOTE = 32;\nconst FILTER_TYPE_FIELD = 'field';\nconst FILTER_TYPE_RANGE = 'range';\nconst FILTER_TYPE_DATE_RANGE = 'date_range';\nconst FILTER_TYPE_GEO = 'geo';\nconst FILTER_TYPE_QUERY = 'query';\n\n/**\n * Filter class\n */\nclass Filter {\n    constructor(\n        field,\n        values,\n        applicationType,\n        filterType,\n        filterTerms = []\n    ) {\n        this.field = field;\n        this.values = values;\n        this.application_type = applicationType;\n        this.filter_type = filterType;\n        this.filter_terms = filterTerms;\n\n        return this;\n    }\n\n    static getFilterPathByField(field) {\n        return (['id', 'type'].indexOf(field) > -1)\n            ? `uuid.${field}`\n            : `indexed_metadata.${field}`\n        ;\n    }\n}\n\nmodule.exports = {\n    FILTER_IT_DOESNT_MATTER,\n    FILTER_MUST_ALL,\n    FILTER_MUST_ALL_WITH_LEVELS,\n    FILTER_AT_LEAST_ONE,\n    FILTER_EXCLUDE,\n    FILTER_PROMOTE,\n    FILTER_TYPE_FIELD,\n    FILTER_TYPE_RANGE,\n    FILTER_TYPE_DATE_RANGE,\n    FILTER_TYPE_GEO,\n    FILTER_TYPE_QUERY\n};\nmodule.exports.Filter = Filter;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Query/Filter.js","/**\n * ItemUUID class\n */\nclass ItemUUID {\n    constructor(id, type) {\n        this.id = id;\n        this.type = type;\n    }\n\n    composedUUID() {\n        return `${this.type}~${this.id}`;\n    }\n}\n\nmodule.exports.ItemUUID = ItemUUID;\n\n\n// WEBPACK FOOTER //\n// ./src/Query/ItemUUID.js","const ItemUUID = require(\"./ItemUUID\").ItemUUID;\nconst Coordinate = require(\"./Coordinate\").Coordinate;\nconst TypeChecker = require(\"../TypeChecker\").TypeChecker;\nconst User = require(\"./User\").User;\nconst Aggregation = require(\"./Aggregation\").Aggregation;\nconst Filter = require('./Filter').Filter;\nconst AbstractLocationRange = require(\"../Geo/AbstractLocationRange\").AbstractLocationRange;\n\nconst SORT_BY_SCORE = require(\"./SortBy\").SORT_BY_SCORE;\nconst {\n    FILTER_AT_LEAST_ONE,\n    FILTER_EXCLUDE,\n    FILTER_TYPE_DATE_RANGE,\n    FILTER_TYPE_FIELD,\n    FILTER_TYPE_GEO,\n    FILTER_TYPE_RANGE\n} = require(\"./Filter\");\nconst {\n    AGGREGATION_NO_LIMIT,\n    AGGREGATION_SORT_BY_COUNT_DESC\n} = require(\"./Aggregation\");\n\n/**\n * Query constants\n */\nconst QUERY_DEFAULT_FROM = 0;\nconst QUERY_DEFAULT_PAGE = 1;\nconst QUERY_DEFAULT_SIZE = 10;\nconst QUERY_INFINITE_SIZE = 1000;\n\n/**\n * Query class\n */\nclass Query {\n    constructor(params) {\n        this.q = params.q;\n        this.universe_filters = params.universe_filters || [];\n        this.filters = params.filters || [];\n        this.items_promoted = params.items_promoted || [];\n        this.aggregations = params.aggregations || [];\n        this.page = params.aggregations || QUERY_DEFAULT_PAGE;\n        this.size = params.size || QUERY_DEFAULT_SIZE;\n        this.from = params.from || QUERY_DEFAULT_FROM;\n        this.aggregations_enabled = params.aggregations_enabled || true;\n        this.suggestions_enabled = params.suggestions_enabled || false;\n        this.highlight_enabled = params.highlight_enabled || false;\n        this.filter_fields = params.filter_fields || [];\n        this.user = params.user || null;\n        this.coordinate = (typeof params.coordinate !== 'undefined')\n            ? new Coordinate(\n                params.coordinate.lat,\n                params.coordinate.lon\n            ) : null\n        ;\n        this.sortBy(SORT_BY_SCORE);\n\n        return this;\n    }\n\n    filterBy(\n        filterName,\n        field,\n        values,\n        applicationType = FILTER_AT_LEAST_ONE,\n        aggregate = true,\n        aggregationSort = AGGREGATION_SORT_BY_COUNT_DESC\n    ) {\n        TypeChecker.isArray(values);\n        TypeChecker.isArray(aggregationSort);\n\n        let fieldPath = Filter.getFilterPathByField(field);\n        if (values.length !== 0) {\n            this.filters = {\n                ...this.filters,\n                [filterName]: new Filter(\n                    fieldPath,\n                    values,\n                    applicationType,\n                    FILTER_TYPE_FIELD\n                )\n            }\n        } else {\n            delete this.filters[field]\n        }\n\n        if (aggregate) {\n            this.aggregateBy(\n                filterName,\n                field,\n                applicationType,\n                aggregationSort\n            )\n        }\n\n        return this;\n    }\n\n    filterByTypes(\n        values,\n        aggregate = true,\n        aggregationSort = AGGREGATION_SORT_BY_COUNT_DESC\n    ) {\n        TypeChecker.isArray(values);\n\n        let fieldPath = Filter.getFilterPathByField('type');\n        if (values.length !== 0) {\n            this.filters = {\n                ...this.filters,\n                ['type']: new Filter(\n                    fieldPath,\n                    values,\n                    FILTER_AT_LEAST_ONE,\n                    FILTER_TYPE_FIELD\n                )\n            }\n        } else {\n            delete this.filters['type']\n        }\n\n        if (aggregate) {\n            this.aggregations = {\n                ...this.aggregations,\n                ['type']: new Aggregation(\n                    'type',\n                    fieldPath,\n                    FILTER_AT_LEAST_ONE,\n                    FILTER_TYPE_FIELD,\n                    [],\n                    aggregationSort\n                )\n            }\n        }\n\n        return this;\n    }\n\n    filterByIds(values) {\n        TypeChecker.isArray(values);\n\n        let fieldPath = Filter.getFilterPathByField('id');\n        if (values.length !== 0) {\n            this.filters = {\n                ...this.filters,\n                ['id']: new Filter(\n                    fieldPath,\n                    values,\n                    FILTER_AT_LEAST_ONE,\n                    FILTER_TYPE_FIELD\n                )\n            }\n        } else {\n            delete this.filters['id']\n        }\n\n        return this;\n    }\n\n    filterByRange(\n        filterName,\n        field,\n        options,\n        values,\n        applicationType = FILTER_AT_LEAST_ONE,\n        rangeType = FILTER_TYPE_RANGE,\n        aggregate = true,\n        aggregationSort = AGGREGATION_SORT_BY_COUNT_DESC\n    ) {\n        TypeChecker.isArray(options);\n        TypeChecker.isArray(values);\n\n        let fieldPath = Filter.getFilterPathByField(field);\n        if (values.length !== 0) {\n            this.filters = {\n                ...this.filters,\n                [filterName]: new Filter(\n                    fieldPath,\n                    values,\n                    applicationType,\n                    rangeType\n                )\n            }\n        } else {\n            delete this.filters[filterName]\n        }\n\n        if (aggregate) {\n            this.aggregateByRange(\n                filterName,\n                fieldPath,\n                options,\n                applicationType,\n                rangeType,\n                aggregationSort\n            )\n        }\n\n        return this;\n    }\n\n    filterByDateRange(\n        filterName,\n        field,\n        options,\n        values,\n        applicationType = FILTER_AT_LEAST_ONE,\n        aggregate = true,\n        aggregationSort = AGGREGATION_SORT_BY_COUNT_DESC\n    ) {\n        return this.filterByRange(\n            filterName,\n            field,\n            options,\n            values,\n            applicationType,\n            FILTER_TYPE_DATE_RANGE,\n            aggregate,\n            aggregationSort\n        );\n    }\n\n    filterUniverseBy(\n        field,\n        values,\n        applicationType = FILTER_AT_LEAST_ONE\n    ) {\n        TypeChecker.isArray(values);\n\n        let fieldPath = Filter.getFilterPathByField(field);\n        if (values.length !== 0) {\n            this.universe_filters = {\n                ...this.universe_filters,\n                [field]: new Filter(\n                    fieldPath,\n                    values,\n                    applicationType,\n                    FILTER_TYPE_FIELD\n                )\n            }\n        } else {\n            delete this.universe_filters[field]\n        }\n\n        return this;\n    }\n\n    filterUniverseByTypes(values) {\n        TypeChecker.isArray(values);\n\n        let fieldPath = Filter.getFilterPathByField('type');\n        if (values.length !== 0) {\n            this.universe_filters = {\n                ...this.universe_filters,\n                ['type']: new Filter(\n                    fieldPath,\n                    values,\n                    FILTER_AT_LEAST_ONE,\n                    FILTER_TYPE_FIELD\n                )\n            }\n        } else {\n            delete this.universe_filters['type']\n        }\n\n        return this;\n    }\n\n    filterUniverseByIds(values) {\n        TypeChecker.isArray(values);\n\n        let fieldPath = Filter.getFilterPathByField('id');\n        if (values.length !== 0) {\n            this.universe_filters = {\n                ...this.universe_filters,\n                ['id']: new Filter(\n                    fieldPath,\n                    values,\n                    FILTER_AT_LEAST_ONE,\n                    FILTER_TYPE_FIELD\n                )\n            }\n        } else {\n            delete this.universe_filters['id']\n        }\n\n        return this;\n    }\n\n    filterUniverseByRange(\n        field,\n        values,\n        applicationType = FILTER_AT_LEAST_ONE,\n        rangeType = FILTER_TYPE_RANGE\n    ) {\n        TypeChecker.isArray(values);\n\n        let fieldPath = Filter.getFilterPathByField(field);\n        if (values.length !== 0) {\n            this.universe_filters = {\n                ...this.universe_filters,\n                [field]: new Filter(\n                    fieldPath,\n                    values,\n                    applicationType,\n                    rangeType\n                )\n            }\n        } else {\n            delete this.universe_filters[field]\n        }\n\n        return this;\n    }\n\n    filterUniverseByDateRange(\n        field,\n        values,\n        applicationType = FILTER_AT_LEAST_ONE\n    ) {\n        return this.filterUniverseByRange(\n            field,\n            values,\n            applicationType,\n            FILTER_TYPE_DATE_RANGE\n        );\n    }\n\n    filterUniverseByLocation(locationRange) {\n        TypeChecker.isObjectTypeOf(locationRange, AbstractLocationRange);\n\n        this.universe_filters = {\n            ...this.universe_filters,\n            ['coordinate']: new Filter(\n                'coordinate',\n                locationRange.toFilterObject(),\n                FILTER_AT_LEAST_ONE,\n                FILTER_TYPE_GEO\n            )\n        };\n\n        return this;\n    }\n\n    setFilterFields(fields) {\n        TypeChecker.isArray(fields);\n\n        if (fields.length === 0) {\n            this.filter_fields = [...fields];\n\n            return this;\n        }\n\n        fields.map(field => {\n            this.filter_fields = [\n                ...this.filter_fields,\n                field\n            ]\n        });\n\n        return this;\n    }\n\n    sortBy(sort) {\n        TypeChecker.isDefined(sort);\n\n        if (typeof sort['_geo_distance'] !== 'undefined') {\n            if (this.coordinate instanceof Coordinate === false) {\n                throw new Error(`\n                    In order to be able to sort by coordinates, you need to \n                    create a Query by using apisearch.query.createLocated(...) \n                    instead of apisearch.query.create(...)\n                `);\n            }\n            this.sort = {\n                ['_geo_distance']: {\n                    ['coordinate']: this.coordinate,\n                    ['order']: sort._geo_distance.order,\n                    ['unit']: sort._geo_distance.unit\n                }\n            };\n        } else {\n            Object.keys(sort).map(field => {\n                let direction = sort[field].order;\n                this.sort = {\n                    [field]: {\n                        ['order']: direction\n                    }\n                };\n            });\n        }\n\n        return this;\n    }\n\n    aggregateBy(\n        filterName,\n        field,\n        applicationType,\n        aggregationSort = AGGREGATION_SORT_BY_COUNT_DESC,\n        limit = AGGREGATION_NO_LIMIT\n    ) {\n        TypeChecker.isDefined(applicationType);\n        TypeChecker.isInteger(applicationType);\n\n        this.aggregations = {\n            ...this.aggregations,\n            [filterName]: new Aggregation(\n                filterName,\n                Filter.getFilterPathByField(field),\n                applicationType,\n                FILTER_TYPE_FIELD,\n                [],\n                aggregationSort,\n                limit\n            )\n        };\n\n        return this;\n    }\n\n    aggregateByRange(\n        filterName,\n        field,\n        options,\n        applicationType,\n        rangeType = FILTER_TYPE_RANGE,\n        aggregationSort = AGGREGATION_SORT_BY_COUNT_DESC,\n        limit = AGGREGATION_NO_LIMIT\n    ) {\n        TypeChecker.isArray(options);\n\n        if (options.length === 0) {\n            return this;\n        }\n\n        this.aggregations = {\n            ...this.aggregations,\n            [filterName]: new Aggregation(\n                filterName,\n                Filter.getFilterPathByField(field),\n                applicationType,\n                rangeType,\n                aggregationSort,\n                limit\n            )\n        };\n\n        return this;\n    }\n\n    aggregateByDateRange(\n        filterName,\n        field,\n        options,\n        applicationType,\n        aggregationSort = AGGREGATION_SORT_BY_COUNT_DESC,\n        limit = AGGREGATION_NO_LIMIT\n    ) {\n        TypeChecker.isArray(options);\n\n        if (options.length === 0) {\n            return this;\n        }\n\n        this.aggregations = {\n            ...this.aggregations,\n            [filterName]: new Aggregation(\n                filterName,\n                Filter.getFilterPathByField(field),\n                applicationType,\n                FILTER_TYPE_DATE_RANGE,\n                aggregationSort,\n                limit\n            )\n        };\n\n        return this;\n    }\n\n    enableAggregations() {\n        this.aggregations_enabled = true;\n        return this;\n    }\n\n    disableAggregations() {\n        this.aggregations_enabled = false;\n        return this;\n    }\n\n    enableSuggestions() {\n        this.suggestions_enabled = true;\n        return this;\n    }\n\n    disableSuggestions() {\n        this.suggestions_enabled = false;\n        return this;\n    }\n\n    enableHighlights() {\n        this.highlight_enabled = true;\n        return this;\n    }\n\n    disableHighlights() {\n        this.highlight_enabled = false;\n        return this;\n    }\n\n    promoteUUID(itemUUID) {\n        if (itemUUID instanceof ItemUUID === false) {\n            throw new Error(`Excluded item must be type \"ItemUUID\", \"${itemUUID.constructor.name}\" given.`);\n        }\n        this.items_promoted = [\n            ...this.items_promoted,\n            itemUUID\n        ];\n\n        return this;\n    }\n\n    promoteUUIDs(...uuids) {\n        uuids.forEach(uuid => this.promoteUUID(uuid));\n\n        return this;\n    }\n\n    excludeUUID(itemUUID) {\n        TypeChecker.isObjectTypeOf(itemUUID, ItemUUID);\n        this.excludeUUIDs(itemUUID);\n\n        return this;\n    }\n\n    excludeUUIDs(...uuids) {\n        this.filters = {\n            ...this.filters,\n            ['excluded_ids']: new Filter(\n                '_id',\n                uuids.map(uuid => uuid.composedUUID()),\n                FILTER_EXCLUDE,\n                FILTER_TYPE_FIELD\n            )\n        };\n\n        return this;\n    }\n\n    byUser(user) {\n        TypeChecker.isObjectTypeOf(user, User);\n        this.user = user;\n\n        return this;\n    }\n\n    anonymously() {\n        this.user = null;\n\n        return null;\n    }\n}\n\nmodule.exports = {\n    QUERY_DEFAULT_FROM,\n    QUERY_DEFAULT_PAGE,\n    QUERY_DEFAULT_SIZE,\n    QUERY_INFINITE_SIZE\n};\nmodule.exports.Query = Query;\n\n\n// WEBPACK FOOTER //\n// ./src/Query/Query.js","/**\n * Aggregation constants\n */\nconst AGGREGATION_SORT_BY_COUNT_ASC = ['_count', 'asc'];\nconst AGGREGATION_SORT_BY_COUNT_DESC = ['_count', 'desc'];\nconst AGGREGATION_SORT_BY_NAME_ASC = ['_term', 'asc'];\nconst AGGREGATION_SORT_BY_NAME_DESC = ['_term', 'desc'];\nconst AGGREGATION_NO_LIMIT = 0;\n\n/**\n * Aggregation class\n */\nclass Aggregation {\n    constructor(\n        name,\n        field,\n        applicationType,\n        filterType,\n        subgroup,\n        sort,\n        limit\n    ) {\n        this.name = name;\n        this.field = field;\n        this.applicationType = applicationType;\n        this.filterType = filterType;\n        this.subgroup = subgroup;\n        this.sort = sort || AGGREGATION_SORT_BY_COUNT_DESC;\n        this.limit = limit || AGGREGATION_NO_LIMIT;\n    }\n}\n\nmodule.exports = {\n    AGGREGATION_SORT_BY_COUNT_ASC,\n    AGGREGATION_SORT_BY_COUNT_DESC,\n    AGGREGATION_SORT_BY_NAME_ASC,\n    AGGREGATION_SORT_BY_NAME_DESC,\n    AGGREGATION_NO_LIMIT\n};\nmodule.exports.Aggregation = Aggregation;\n\n\n\n// WEBPACK FOOTER //\n// ./src/Query/Aggregation.js","const HttpRepository = require(\"./Repository/HttpRepository\");\nconst SecureObjectFactory = require(\"./Factory/SecureObjectFactory\").SecureObjectFactory;\nconst QueryFactory = require(\"./Factory/QueryFactory\").QueryFactory;\n\n/**\n * Entry point for the Apisearch client\n *\n * @param apiKey\n * @param endpoint\n *\n * @returns {Apisearch}\n */\nmodule.exports = function(apiKey, endpoint) {\n    if (typeof apiKey === 'undefined') {\n       throw new TypeError(`ApiKey parameter must be defined.`)\n    }\n\n    return new Apisearch(\n        'apisearch-app-id',\n        apiKey,\n        endpoint\n    );\n};\n\n/**\n * Apisearch class\n */\nclass Apisearch {\n    constructor(appId, apiKey, options = {}) {\n        this.appId = appId;\n        this.apiKey = apiKey;\n        this.endpoint = options.endpoint || 'http://127.0.0.1:9002/app.php';\n\n        this.query = QueryFactory;\n        this.createObject = SecureObjectFactory;\n\n        this.repository = new HttpRepository(\n            this.endpoint,\n            this.apiKey,\n            options.cache || true\n        );\n    }\n\n    search(query, callback) {\n        return this.repository\n            .query(query)\n            .then(\n                response => callback(response, null)\n            )\n            .catch(\n                error => callback(null, error)\n            )\n        ;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/apisearch.js","// const http = require('http');\nconst MemoryCache = require(\"../Cache/MemoryCache\");\n\n/**\n * Repository class\n */\nclass HttpRepository {\n    /**\n     * Constructor\n     * @param endpoint\n     * @param secret\n     * @param cache\n     */\n    constructor(endpoint, secret, cache) {\n        this.endpoint = endpoint;\n        this.secret = secret;\n        this.cache = cache ? new MemoryCache() : null;\n    }\n\n    /**\n     * Make query against the server\n     * @param query\n     * @returns {Promise}\n     */\n    query(query) {\n        query = encodeURI(\n            JSON.stringify(query)\n        );\n        let composedQuery = `${this.endpoint}?key=${this.secret}&query=${query}`;\n\n        // check if query exists in cache store\n        // return promise with the cached value if key exists\n        // if not exists, fetch data with XMLHttpRequest\n        if (this.cache !== null) {\n            let cachedResponse = this.cache.get(composedQuery);\n            if (cachedResponse) {\n                return new Promise(resolve => resolve(cachedResponse));\n            }\n        }\n\n        return this.fetchData(composedQuery);\n    }\n\n    fetchData(composedQuery) {\n        let self = this;\n        return new Promise((resolve, reject) => {\n                let xhr = new XMLHttpRequest();\n                xhr.onreadystatechange = function () {\n                    if (this.readyState === 4) {\n                        if (this.status === 200) {\n                            let parsedResponse = JSON.parse(this.responseText);\n\n                            // check if cache is enabled\n                            // set the composedQuery as a cache key\n                            // and the valid response as a cache value\n                            if (this.cache !== null) {\n                                self.cache.set(\n                                    composedQuery,\n                                    parsedResponse\n                                );\n                            }\n\n                            return resolve(parsedResponse);\n                        } else {\n                            return reject(`Request error.`)\n                        }\n                    }\n                };\n\n                xhr.open(\"GET\", composedQuery, true);\n                xhr.send();\n            }\n        );\n    }\n}\n\nmodule.exports = HttpRepository;\n\n\n// WEBPACK FOOTER //\n// ./src/Repository/HttpRepository.js","/**\n * Cache class\n */\nclass MemoryCache {\n    constructor() {\n        this.cache = {};\n        this.size = 0;\n\n        return this;\n    }\n\n    set(key, value) {\n        this.cache = {\n            ...this.cache,\n            [key]: value\n        };\n        this.size = this.size + 1;\n\n        return this;\n    }\n\n    get(key) {\n        return this.cache[key];\n    }\n\n    clear() {\n        this.cache = {};\n        this.size = 0;\n    }\n}\n\nmodule.exports = MemoryCache;\n\n\n// WEBPACK FOOTER //\n// ./src/Cache/MemoryCache.js","const ItemUUID = require(\"../Query/ItemUUID\").ItemUUID;\nconst Coordinate = require(\"../Query/Coordinate\").Coordinate;\nconst CoordinateAndDistance = require(\"../Geo/CoordinateAndDistance\").CoordinateAndDistance;\nconst Square = require(\"../Geo/Square\").Square;\nconst Polygon = require(\"../Geo/Polygon\").Polygon;\n\n/**\n * SecureObjectFactory class.\n */\nclass SecureObjectFactory {\n    static uuid(id, type) {\n        return new ItemUUID(\n            id,\n            type\n        );\n    };\n\n    static coordinate(lat, lon) {\n        return new Coordinate(\n            lat,\n            lon\n        )\n    }\n\n    static coordinateAndDistance(\n        coordinate,\n        distance\n    ) {\n        return new CoordinateAndDistance(\n            coordinate,\n            distance\n        )\n    }\n\n    static square(\n        topLeftCoordinate,\n        bottomRightCoordinate\n    ) {\n        return new Square(\n            topLeftCoordinate,\n            bottomRightCoordinate\n        )\n    }\n\n    static polygon(...coordinates) {\n        return new Polygon(...coordinates);\n    }\n}\n\nmodule.exports.SecureObjectFactory = SecureObjectFactory;\n\n\n// WEBPACK FOOTER //\n// ./src/Factory/SecureObjectFactory.js","const AbstractLocationRange = require(\"./AbstractLocationRange\").AbstractLocationRange;\nconst Coordinate = require(\"../Query/Coordinate\").Coordinate;\nconst TypeChecker = require(\"../TypeChecker\").TypeChecker;\n\nclass CoordinateAndDistance extends AbstractLocationRange {\n    constructor(\n        coordinate,\n        distance\n    ) {\n        super();\n\n        TypeChecker.isObjectTypeOf(coordinate, Coordinate);\n        TypeChecker.isString(distance);\n\n        this.coordinate = coordinate;\n        this.distance = distance;\n\n        return this;\n    }\n\n    toFilterObject() {\n        return {\n            type: this.constructor.name,\n            data: {\n                coordinate: this.coordinate,\n                distance: this.distance\n            }\n        }\n    }\n}\n\nmodule.exports.CoordinateAndDistance = CoordinateAndDistance;\n\n\n// WEBPACK FOOTER //\n// ./src/Geo/CoordinateAndDistance.js","const AbstractLocationRange = require(\"./AbstractLocationRange\").AbstractLocationRange;\nconst Coordinate = require(\"../Query/Coordinate\").Coordinate;\nconst TypeChecker = require(\"../TypeChecker\").TypeChecker;\n\nclass Square extends AbstractLocationRange {\n    constructor(\n        topLeftCoordinate,\n        bottomRightCoordinate\n    ) {\n        TypeChecker.isObjectTypeOf(topLeftCoordinate, Coordinate);\n        TypeChecker.isObjectTypeOf(bottomRightCoordinate, Coordinate);\n\n        super();\n\n        this.topLeftCoordinate = topLeftCoordinate;\n        this.bottomRightCoordinate = bottomRightCoordinate;\n\n        return this;\n    }\n\n    toFilterObject() {\n        return {\n            type: this.constructor.name,\n            data: {\n                0: this.topLeftCoordinate,\n                1: this.bottomRightCoordinate\n            }\n        }\n    }\n}\n\nmodule.exports.Square = Square;\n\n\n// WEBPACK FOOTER //\n// ./src/Geo/Square.js","const AbstractLocationRange = require(\"./AbstractLocationRange\").AbstractLocationRange;\nconst Coordinate = require(\"../Query/Coordinate\").Coordinate;\nconst TypeChecker = require(\"../TypeChecker\").TypeChecker;\n\nclass Polygon extends AbstractLocationRange {\n    constructor(...coordinates) {\n        super();\n\n        if (coordinates.length < 3) {\n            throw new Error(`A polygon needs more than two coordinates.`);\n        }\n\n        this.coordinates = coordinates.map(coordinate => {\n            TypeChecker.isObjectTypeOf(coordinate, Coordinate);\n\n            return coordinate;\n        });\n\n        return this;\n    }\n\n    toFilterObject() {\n        return {\n            type: this.constructor.name,\n            data: this.coordinates\n        }\n    }\n}\n\nmodule.exports.Polygon = Polygon;\n\n\n// WEBPACK FOOTER //\n// ./src/Geo/Polygon.js","const {\n    QUERY_DEFAULT_PAGE,\n    QUERY_DEFAULT_SIZE,\n    QUERY_INFINITE_SIZE\n} = require(\"../Query/Query\");\nconst Query = require(\"../Query/Query\").Query;\n\nconst {\n    FILTER_AT_LEAST_ONE,\n    FILTER_TYPE_FIELD\n} = require(\"../Query/Filter\");\nconst Filter = require(\"../Query/Filter\").Filter;\n\n\n/**\n * QueryFactory class\n */\nclass QueryFactory {\n    static create(\n        q,\n        page = QUERY_DEFAULT_PAGE,\n        size = QUERY_DEFAULT_SIZE\n    ) {\n        return new Query({\n            q,\n            from: (page - 1) * size,\n            page,\n            size\n        });\n    }\n\n    static createMatchAll() {\n        return new Query({\n            q: '',\n            page: QUERY_DEFAULT_PAGE,\n            size: QUERY_INFINITE_SIZE\n        });\n    }\n\n    static createLocated(\n        coordinate,\n        queryText,\n        page = QUERY_DEFAULT_PAGE,\n        size = QUERY_DEFAULT_SIZE\n    ) {\n        return new Query({\n            coordinate,\n            page,\n            size,\n            q: queryText\n        });\n    }\n\n    static createByUUID(uuid) {\n        return this.createByUUIDs(uuid);\n    }\n\n    static createByUUIDs(...uuids) {\n        let ids = uuids.map(uuid => uuid.composedUUID());\n        let query = new Query({\n            q: '',\n            page: QUERY_DEFAULT_PAGE,\n            size: QUERY_INFINITE_SIZE\n        });\n\n        query\n            .disableAggregations()\n            .disableSuggestions();\n\n        query.filters = {\n            ...query.filters,\n            ['_id']: new Filter(\n                '_id',\n                ids.filter(\n                    (item, pos) => ids.indexOf(item) === pos\n                ),\n                FILTER_AT_LEAST_ONE,\n                FILTER_TYPE_FIELD\n            )\n        };\n\n        return query;\n    }\n}\n\nmodule.exports.QueryFactory = QueryFactory;\n\n\n// WEBPACK FOOTER //\n// ./src/Factory/QueryFactory.js","/**\n * User class\n */\nclass User {\n    constructor(id) {\n        this.id = id;\n    }\n}\n\nmodule.exports.User = User;\n\n\n// WEBPACK FOOTER //\n// ./src/Query/User.js","/**\n export * Sort by constants\n */\n\nconst SORT_BY_SCORE = {\n    '_score': {\n        'order': 'asc'\n    }\n};\nconst SORT_BY_RANDOM = {\n    'random': {\n        'order': 'asc'\n    }\n};\nconst SORT_BY_ID_ASC = {\n    'uuid.id': {\n        'order': 'asc'\n    }\n};\nconst SORT_BY_ID_DESC = {\n    'uuid.id': {\n        'order': 'desc'\n    }\n};\nconst SORT_BY_TYPE_ASC = {\n    'uuid.type': {\n        'order': 'asc'\n    }\n};\nconst SORT_BY_TYPE_DESC = {\n    'uuid.type': {\n        'order': 'desc'\n    }\n};\nconst SORT_BY_LOCATION_KM_ASC = {\n    '_geo_distance': {\n        'order': 'asc',\n        'unit': 'km'\n    }\n};\nconst SORT_BY_LOCATION_MI_ASC = {\n    '_geo_distance': {\n        'order': 'asc',\n        'unit': 'mi'\n    }\n};\n\nmodule.exports = {\n    SORT_BY_SCORE,\n    SORT_BY_RANDOM,\n    SORT_BY_ID_ASC,\n    SORT_BY_ID_DESC,\n    SORT_BY_TYPE_ASC,\n    SORT_BY_TYPE_DESC,\n    SORT_BY_LOCATION_KM_ASC,\n    SORT_BY_LOCATION_MI_ASC\n};\n\n\n// WEBPACK FOOTER //\n// ./src/Query/SortBy.js"],"sourceRoot":""}