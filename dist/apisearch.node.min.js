!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.apisearch=e():t.apisearch=e()}(window,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=57)}([function(t,e,r){"use strict";var n=r(17),i=r(51),o=Object.prototype.toString;function a(t){return"[object Array]"===o.call(t)}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===o.call(t)}function c(t,e){if(null!==t&&void 0!==t)if("object"!=typeof t&&(t=[t]),a(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:i,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function r(r,n){"object"==typeof e[n]&&"object"==typeof r?e[n]=t(e[n],r):e[n]=r}for(var n=0,i=arguments.length;n<i;n++)c(arguments[n],r);return e},extend:function(t,e,r){return c(e,function(e,i){t[i]=r&&"function"==typeof e?n(e,r):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,r){"use strict";e.__esModule=!0,e.FILTER_MUST_ALL=4,e.FILTER_MUST_ALL_WITH_LEVELS=5,e.FILTER_AT_LEAST_ONE=8,e.FILTER_EXCLUDE=16,e.FILTER_PROMOTE=32,e.FILTER_TYPE_FIELD="field",e.FILTER_TYPE_RANGE="range",e.FILTER_TYPE_DATE_RANGE="date_range",e.FILTER_TYPE_GEO="geo",e.FILTER_TYPE_QUERY="query";var n=function(){function t(t,e,r,n,i){this.field=t,this.values=e,this.applicationType=r,this.filterType=n,this.filterTerms=i}return t.prototype.getField=function(){return this.field},t.prototype.getValues=function(){return this.values},t.prototype.hasValue=function(t){return void 0===this.values[t]},t.prototype.getApplicationType=function(){return this.applicationType},t.prototype.getFilterType=function(){return this.filterType},t.prototype.getFilterTerms=function(){return this.filterTerms},t.create=function(e,r,n,i,o){return void 0===o&&(o=[]),new t(e,r,n,i,o)},t.prototype.toArray=function(){var t={};return"uuid.type"!=this.field&&(t.field=this.field),(this.values.length>0||Object.keys(this.values).length>0)&&(t.values=this.values),this.applicationType!=e.FILTER_AT_LEAST_ONE&&(t.application_type=this.applicationType),this.filterType!=e.FILTER_TYPE_FIELD&&(t.filter_type=this.filterType),this.filterTerms.length>0&&(t.filter_terms=this.filterTerms),t},t.createFromArray=function(r){return void 0===(r=JSON.parse(JSON.stringify(r))).field&&(r.field="uuid.type"),void 0===r.values&&(r.values=[]),void 0===r.application_type&&(r.application_type=e.FILTER_AT_LEAST_ONE),void 0===r.filter_type&&(r.filter_type=e.FILTER_TYPE_FIELD),void 0===r.filter_terms&&(r.filter_terms=[]),t.create(r.field,r.values,r.application_type,r.filter_type,r.filter_terms)},t.getFilterPathByField=function(t){return["id","type"].indexOf(t)>-1?"uuid."+t:"indexed_metadata."+t},t}();e.default=n},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();e.__esModule=!0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.getTransportableHTTPError=function(){return 400},e.itemRepresentationNotValid=function(){return new e("Item representation not valid. Expecting Item array serialized but found malformed data")},e.itemUUIDRepresentationNotValid=function(){return new e("Item UUID representation not valid. Expecting UUID array serialized but found malformed data")},e.composedItemUUIDNotValid=function(){return new e("A composed UUID should always follow this format: {id}~{type}.")},e.querySortedByDistanceWithoutCoordinate=function(){return new e("In order to be able to sort by coordinates, you need to create a Query by using Query::createLocated() instead of Query::create()")},e.queryFormatNotValid=function(){return new e("Query Format not valid. Expecting a Query serialized but found malformed data")},e.coordinateFormatNotValid=function(){return new e("A Coordinate should always contain a lat (Latitude) and a lon (Longitude)")},e.configFormatNotValid=function(){return new e("Config Format not valid. Expecting a Config serialized but found malformed data")},e.tokenFormatNotValid=function(){return new e("Token Format not valid. Expecting a Token serialized but found malformed data")},e.campaignFormatNotValid=function(){return new e("Campaign Format not valid. Expecting a Campaign serialized but found malformed data")},e.changesFormatNotValid=function(){return new e("Changes Format not valid. Expecting a Changes serialized but found malformed data")},e.boostClauseFormatNotValid=function(){return new e("Boost clause Format not valid. Expecting a Boost clause serialized but found malformed data")},e.tokenUUIDFormatNotValid=function(){return new e("Token UUID Format not valid. Expecting a TokenUUID serialized but found malformed data")},e.userFormatNotValid=function(){return new e("User Format not valid. Expecting a User serialized but found malformed data")},e}(r(3).default);e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){return function(t){this.message=t}}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=r(2),i=function(){function t(t,e){this.id=t,this.type=e}return t.createByComposedUUID=function(e){var r=e.split("~");if(2!=r.length)throw n.default.composedItemUUIDNotValid();return new t(r[0],r[1])},t.prototype.getId=function(){return this.id},t.prototype.getType=function(){return this.type},t.prototype.toArray=function(){return{id:this.id,type:this.type}},t.createFromArray=function(e){return new t((e=JSON.parse(JSON.stringify(e))).id,e.type)},t.prototype.composedUUID=function(){return this.id+"~"+this.type},t}();e.default=i},function(t,e,r){"use strict";var n=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};e.__esModule=!0;var i=r(7),o=r(4),a=r(29),s=r(12),u=r(1),c=r(1),f=r(12),l=r(2),p=r(1),d=r(28),h=r(11);e.QUERY_DEFAULT_FROM=0,e.QUERY_DEFAULT_PAGE=1,e.QUERY_DEFAULT_SIZE=10,e.QUERY_INFINITE_SIZE=1e3;var y=function(){function t(t){this.universeFilters={},this.filters={},this.itemsPromoted=[],this.aggregations={},this.filterFields=[],this.sortByInstance=h.default.create(),this.filters._query=u.default.create("",[t],0,p.FILTER_TYPE_QUERY)}return t.createLocated=function(r,n,i,o){void 0===i&&(i=e.QUERY_DEFAULT_PAGE),void 0===o&&(o=e.QUERY_DEFAULT_SIZE);var a=t.create(n,i,o);return a.coordinate=r,a},t.create=function(r,n,i){void 0===n&&(n=e.QUERY_DEFAULT_PAGE),void 0===i&&(i=e.QUERY_DEFAULT_SIZE),n=Math.max(1,n);var o=new t(r);return o.from=(n-1)*i,o.size=i,o.page=n,o},t.createMatchAll=function(){return t.create("",e.QUERY_DEFAULT_PAGE,e.QUERY_DEFAULT_SIZE)},t.createByUUID=function(e){return t.createByUUIDs(e)},t.createByUUIDs=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=[];for(var o in r)i.push(r[o].composedUUID());var a=t.create("",e.QUERY_DEFAULT_PAGE,i.length).disableAggregations().disableSuggestions();return a.filters._id=u.default.create("_id",i,c.FILTER_AT_LEAST_ONE,c.FILTER_TYPE_FIELD),a},t.prototype.filterUniverseByTypes=function(t){var e,r=u.default.getFilterPathByField("type");return t.length>0?this.universeFilters=n({},this.universeFilters,((e={}).type=u.default.create(r,t,c.FILTER_AT_LEAST_ONE,c.FILTER_TYPE_FIELD),e)):delete this.universeFilters.type,this},t.prototype.filterByTypes=function(t,e,r){var i,o;void 0===e&&(e=!0),void 0===r&&(r=f.AGGREGATION_SORT_BY_COUNT_DESC);var a=u.default.getFilterPathByField("type");return t.length>0?this.filters=n({},this.filters,((i={}).type=u.default.create(a,t,c.FILTER_AT_LEAST_ONE,c.FILTER_TYPE_FIELD),i)):delete this.filters.type,e&&(this.aggregations=n({},this.aggregations,((o={}).type=s.default.create("type",a,c.FILTER_AT_LEAST_ONE,c.FILTER_TYPE_FIELD,[],r),o))),this},t.prototype.filterUniverseByIds=function(t){var e,r=u.default.getFilterPathByField("id");return t.length>0?this.universeFilters=n({},this.universeFilters,((e={}).id=u.default.create(r,t,c.FILTER_AT_LEAST_ONE,c.FILTER_TYPE_FIELD),e)):delete this.universeFilters.id,this},t.prototype.filterByIds=function(t){var e,r=u.default.getFilterPathByField("id");return t.length>0?this.filters=n({},this.filters,((e={}).id=u.default.create(r,t,c.FILTER_AT_LEAST_ONE,c.FILTER_TYPE_FIELD),e)):delete this.filters.id,this},t.prototype.filterUniverseBy=function(t,e,r){var i;void 0===r&&(r=c.FILTER_AT_LEAST_ONE);var o=u.default.getFilterPathByField(t);return e.length>0?this.universeFilters=n({},this.universeFilters,((i={})[t]=u.default.create(o,e,r,c.FILTER_TYPE_FIELD),i)):delete this.universeFilters[t],this},t.prototype.filterBy=function(t,e,r,i,o,a){var s;void 0===i&&(i=c.FILTER_AT_LEAST_ONE),void 0===o&&(o=!0),void 0===a&&(a=f.AGGREGATION_SORT_BY_COUNT_DESC);var l=u.default.getFilterPathByField(e);return r.length>0?this.filters=n({},this.filters,((s={})[t]=u.default.create(l,r,i,c.FILTER_TYPE_FIELD),s)):delete this.filters[t],o&&this.aggregateBy(t,e,i,a),this},t.prototype.filterUniverseByRange=function(t,e,r,i){var o;void 0===r&&(r=c.FILTER_AT_LEAST_ONE),void 0===i&&(i=c.FILTER_TYPE_RANGE);var a=u.default.getFilterPathByField(t);return e.length>0?this.universeFilters=n({},this.universeFilters,((o={})[t]=u.default.create(a,e,r,i),o)):delete this.universeFilters[t],this},t.prototype.filterUniverseByDateRange=function(t,e,r){return void 0===r&&(r=c.FILTER_AT_LEAST_ONE),this.filterUniverseByRange(t,e,r,c.FILTER_TYPE_DATE_RANGE)},t.prototype.filterByRange=function(t,e,r,i,o,a,s,l){var p;void 0===o&&(o=c.FILTER_AT_LEAST_ONE),void 0===a&&(a=c.FILTER_TYPE_RANGE),void 0===s&&(s=!0),void 0===l&&(l=f.AGGREGATION_SORT_BY_COUNT_DESC);var d=u.default.getFilterPathByField(e);return 0!==i.length?this.filters=n({},this.filters,((p={})[t]=u.default.create(d,i,o,a),p)):delete this.filters[t],s&&this.aggregateByRange(t,d,r,o,a,l),this},t.prototype.filterByDateRange=function(t,e,r,n,i,o,a){return void 0===i&&(i=c.FILTER_AT_LEAST_ONE),void 0===o&&(o=!0),void 0===a&&(a=f.AGGREGATION_SORT_BY_COUNT_DESC),this.filterByRange(t,e,r,n,i,c.FILTER_TYPE_DATE_RANGE,o,a)},t.prototype.filterUniverseByLocation=function(t){var e;return this.universeFilters=n({},this.universeFilters,((e={}).coordinate=u.default.create("coordinate",t.toArray(),c.FILTER_AT_LEAST_ONE,c.FILTER_TYPE_GEO),e)),this},t.prototype.setFilterFields=function(t){return this.filterFields=t,this},t.prototype.getFilterFields=function(){return this.filterFields},t.prototype.sortBy=function(t){if(t.isSortedByGeoDistance()){if(!(this.coordinate instanceof i.default))throw l.default.querySortedByDistanceWithoutCoordinate();t.setCoordinate(this.coordinate)}return this.sortByInstance=t,this},t.prototype.aggregateBy=function(t,e,r,i,o){var a;return void 0===i&&(i=f.AGGREGATION_SORT_BY_COUNT_DESC),void 0===o&&(o=f.AGGREGATION_NO_LIMIT),this.aggregations=n({},this.aggregations,((a={})[t]=s.default.create(t,u.default.getFilterPathByField(e),r,c.FILTER_TYPE_FIELD,[],i,o),a)),this},t.prototype.aggregateByRange=function(t,e,r,i,o,a,l){var p;return void 0===o&&(o=c.FILTER_TYPE_RANGE),void 0===a&&(a=f.AGGREGATION_SORT_BY_COUNT_DESC),void 0===l&&(l=f.AGGREGATION_NO_LIMIT),0===r.length?this:(this.aggregations=n({},this.aggregations,((p={})[t]=s.default.create(t,u.default.getFilterPathByField(e),i,o,r,a,l),p)),this)},t.prototype.aggregateByDateRange=function(t,e,r,n,i,o){return void 0===i&&(i=f.AGGREGATION_SORT_BY_COUNT_DESC),void 0===o&&(o=f.AGGREGATION_NO_LIMIT),this.aggregateByRange(t,e,r,n,c.FILTER_TYPE_DATE_RANGE,i,o)},t.prototype.getAggregations=function(){return this.aggregations},t.prototype.getAggregation=function(t){return this.aggregations[t]instanceof s.default?this.aggregations[t]:null},t.prototype.getQueryText=function(){var t=this.filters._query;return t instanceof u.default?t.getValues()[0]:""},t.prototype.getUniverseFilters=function(){return this.universeFilters},t.prototype.getUniverseFilter=function(t){return this.universeFilters[t]instanceof u.default?this.universeFilters[t]:null},t.prototype.getFilters=function(){return this.filters},t.prototype.getFilter=function(t){return this.filters[t]instanceof u.default?this.filters[t]:null},t.prototype.getFilterByField=function(t){var e=u.default.getFilterPathByField(t);for(var r in this.filters)if(this.filters[r].getField()==e)return this.filters[r];return null},t.prototype.getSortBy=function(){return this.sortByInstance},t.prototype.getFrom=function(){return this.from},t.prototype.getSize=function(){return this.size},t.prototype.getPage=function(){return this.page},t.prototype.enableResults=function(){return this.resultsEnabled=!0,this},t.prototype.disableResults=function(){return this.resultsEnabled=!1,this},t.prototype.areResultsEnabled=function(){return this.resultsEnabled},t.prototype.enableAggregations=function(){return this.aggregationsEnabled=!0,this},t.prototype.disableAggregations=function(){return this.aggregationsEnabled=!1,this},t.prototype.areAggregationsEnabled=function(){return this.aggregationsEnabled},t.prototype.enableSuggestions=function(){return this.suggestionsEnabled=!0,this},t.prototype.disableSuggestions=function(){return this.suggestionsEnabled=!1,this},t.prototype.areSuggestionsEnabled=function(){return this.suggestionsEnabled},t.prototype.enableHighlights=function(){return this.highlightsEnabled=!0,this},t.prototype.disableHighlights=function(){return this.highlightsEnabled=!1,this},t.prototype.areHighlightsEnabled=function(){return this.highlightsEnabled},t.prototype.promoteUUID=function(t){return this.itemsPromoted.push(t),this},t.prototype.promoteUUIDs=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.itemsPromoted=t,this},t.prototype.getItemsPromoted=function(){return this.itemsPromoted},t.prototype.excludeUUID=function(t){return this.excludeUUIDs(t),this},t.prototype.excludeUUIDs=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return this.filters=n({},this.filters,((t={}).excluded_ids=u.default.create("_id",e.map(function(t){return t.composedUUID()}),c.FILTER_EXCLUDE,c.FILTER_TYPE_FIELD),t)),this},t.prototype.getScoreStrategy=function(){return this.scoreStrategy},t.prototype.setScoreStrategy=function(t){return this.scoreStrategy=t,this},t.prototype.byUser=function(t){return this.user=t,this},t.prototype.anonymously=function(){return this.user=null,null},t.prototype.getUser=function(){return this.user},t.prototype.toArray=function(){var t={};if(""!==this.getQueryText()&&(t.q=this.getQueryText()),this.coordinate instanceof i.default&&(t.coordinate=this.coordinate.toArray()),Object.keys(this.universeFilters).length)for(var r in t.universe_filters={},this.universeFilters){var n=this.universeFilters[r];t.universe_filters[r]=n.toArray()}if(this.filters instanceof Object&&Object.keys(this.filters).length)for(var r in t.filters={},this.filters){var o=this.filters[r];o.getFilterType()!==p.FILTER_TYPE_QUERY&&(t.filters[r]=o.toArray())}if(this.aggregations instanceof Object&&Object.keys(this.aggregations).length)for(var r in t.aggregations={},this.aggregations){var s=this.aggregations[r];t.aggregations[r]=s.toArray()}var u=this.sortByInstance.toArray();Object.keys(u).length&&(t.sort=u);var c=this.page;c!==e.QUERY_DEFAULT_PAGE&&(t.page=c);var f=this.size;if(f!==e.QUERY_DEFAULT_SIZE&&(t.size=f),!1===this.resultsEnabled&&(t.results_enabled=!1),!0===this.suggestionsEnabled&&(t.suggestions_enabled=!0),!0===this.highlightsEnabled&&(t.highlights_enabled=!0),!1===this.aggregationsEnabled&&(t.aggregations_enabled=!1),this.filterFields instanceof Array&&this.filterFields.length>0&&(t.filter_fields=this.filterFields),this.scoreStrategy instanceof d.default){var l=this.scoreStrategy.toArray();Object.keys(l).length>0&&(t.score_strategy=l)}if(this.user instanceof a.default){var h=this.user.toArray();Object.keys(h).length>0&&(t.user=h)}if(this.itemsPromoted.length>0)for(var r in t.items_promoted=[],this.itemsPromoted)t.items_promoted.push(this.itemsPromoted[r].toArray);return t},t.createFromArray=function(r){var n=r.coordinate instanceof Object?t.createLocated(i.default.createFromArray(r.coordinate),r.q?r.q:"",r.page?r.page:e.QUERY_DEFAULT_PAGE,r.size?r.size:e.QUERY_DEFAULT_SIZE):t.create(r.q?r.q:"",r.page?r.page:e.QUERY_DEFAULT_PAGE,r.size?r.size:e.QUERY_DEFAULT_SIZE),c=typeof r.aggregations==typeof{}?r.aggregations:{};for(var f in c)n.aggregations[f]=s.default.createFromArray(c[f]);var l=typeof r.sort==typeof{}?r.sort:{};Object.keys(l).length>0&&(n.sortByInstance=h.default.createFromArray(l));var p=typeof r.filters==typeof{}?r.filters:{};for(var f in p)n.filters[f]=u.default.createFromArray(p[f]);var y=typeof r.universe_filters==typeof{}?r.universe_filters:{};for(var f in y)n.universeFilters[f]=u.default.createFromArray(y[f]);n.resultsEnabled="boolean"!=typeof r.results_enabled||r.results_enabled,n.suggestionsEnabled="boolean"==typeof r.suggestions_enabled&&r.suggestions_enabled,n.aggregationsEnabled="boolean"!=typeof r.aggregations_enabled||r.aggregations_enabled,n.highlightsEnabled="boolean"==typeof r.highlights_enabled&&r.highlights_enabled;var g=typeof r.items_promoted==typeof{}?r.items_promoted:{};for(var f in g)n.itemsPromoted.push(o.default.createFromArray(g[f]));return n.filterFields=r.filter_fields instanceof Array?r.filter_fields:[],n.scoreStrategy=r.score_strategy instanceof Object?d.default.createFromArray(r.score_stategy):null,n.user=r.user instanceof Object?a.default.createFromArray(r.user):null,n},t}();e.default=y},function(t,e,r){"use strict";var n=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};e.__esModule=!0;var i=r(2),o=r(7),a=r(4),s=function(){function t(t,e,r,n,i,o,a){this.metadata={},this.indexedMetadata={},this.searchableMetadata={},this.exactMatchingMetadata=[],this.suggest=[],this.highlights={},this.promoted=!1,this.uuid=t,this.coordinate=e,this.metadata=r,this.indexedMetadata=n,this.searchableMetadata=i,this.exactMatchingMetadata=o,this.suggest=a}return t.create=function(e,r,n,i,o,a){return void 0===r&&(r={}),void 0===n&&(n={}),void 0===i&&(i={}),void 0===o&&(o=[]),void 0===a&&(a=[]),new t(e,null,r,n,i,o,a)},t.createLocated=function(e,r,n,i,o,a,s){return void 0===n&&(n={}),void 0===i&&(i={}),void 0===o&&(o={}),void 0===a&&(a=[]),void 0===s&&(s=[]),new t(e,r,n,i,o,a,s)},t.prototype.getUUID=function(){return this.uuid},t.prototype.getId=function(){return this.uuid.getId()},t.prototype.getType=function(){return this.uuid.getType()},t.prototype.getCoordinate=function(){return this.coordinate},t.prototype.getDistance=function(){return this.distance},t.prototype.getMetadata=function(){return this.metadata},t.prototype.setMetadata=function(t){this.metadata=t},t.prototype.addMetadata=function(t,e){this.metadata[t]=e},t.prototype.getIndexedMetadata=function(){return this.indexedMetadata},t.prototype.setIndexedMetadata=function(t){this.indexedMetadata=t},t.prototype.addIndexedMetadata=function(t,e){this.indexedMetadata[t]=e},t.prototype.getSearchableMetadata=function(){return this.searchableMetadata},t.prototype.setSearchableMetadata=function(t){this.searchableMetadata=t},t.prototype.addSearchableMetadata=function(t,e){this.searchableMetadata[t]=e},t.prototype.getExactMatchingMetadata=function(){return this.exactMatchingMetadata},t.prototype.setExactMatchingMetadata=function(t){this.exactMatchingMetadata=t},t.prototype.addExactMatchingMetadata=function(t){this.exactMatchingMetadata.push(t)},t.prototype.getAllMetadata=function(){return n({},this.metadata,this.indexedMetadata)},t.prototype.get=function(t){var e=this.getAllMetadata();return void 0!==e[t]?e[t]:null},t.prototype.getSuggest=function(){return this.suggest},t.prototype.getHighlights=function(){return this.highlights},t.prototype.getHighlight=function(t){return void 0!==this.highlights[t]?this.highlights[t]:null},t.prototype.isPromoted=function(){return this.promoted},t.prototype.toArray=function(){var t={uuid:this.uuid.toArray()};return this.coordinate instanceof o.default&&(t.coordinate=this.coordinate.toArray()),Object.keys(this.metadata).length>0&&(t.metadata=this.metadata),Object.keys(this.indexedMetadata).length>0&&(t.indexed_metadata=this.indexedMetadata),Object.keys(this.searchableMetadata).length>0&&(t.searchable_metadata=this.searchableMetadata),this.exactMatchingMetadata.length>0&&(t.exact_matching_metadata=this.exactMatchingMetadata),this.suggest.length>0&&(t.suggest=this.suggest),Object.keys(this.highlights).length>0&&(t.highlights=this.highlights),this.isPromoted()&&(t.is_promoted=!0),void 0!==this.distance&&(t.distance=this.distance),t},t.createFromArray=function(e){if("object"!=typeof(e=JSON.parse(JSON.stringify(e))).uuid)throw i.default.itemUUIDRepresentationNotValid();if(void 0!==e.coordinate&&"object"!=typeof e.coordinate)throw i.default.coordinateFormatNotValid();var r="object"==typeof e.coordinate&&null!=e.coordinate?t.createLocated(a.default.createFromArray(e.uuid),o.default.createFromArray(e.coordinate),void 0===e.metadata?{}:e.metadata,void 0===e.indexed_metadata?{}:e.indexed_metadata,void 0===e.searchable_metadata?{}:e.searchable_metadata,void 0===e.exact_matching_metadata?[]:e.exact_matching_metadata,void 0===e.suggest?[]:e.suggest):t.create(a.default.createFromArray(e.uuid),void 0===e.metadata?{}:e.metadata,void 0===e.indexed_metadata?{}:e.indexed_metadata,void 0===e.searchable_metadata?{}:e.searchable_metadata,void 0===e.exact_matching_metadata?[]:e.exact_matching_metadata,void 0===e.suggest?[]:e.suggest);return void 0!==e.distance&&null!=e.distance&&(r.distance=e.distance),"object"==typeof e.highlights&&null!=e.distance&&(r.highlights=e.highlights),e.is_promoted&&(r.promoted=!0),r},t.prototype.composeUUID=function(){return this.uuid.composedUUID()},t}();e.default=s},function(t,e,r){"use strict";e.__esModule=!0;var n=r(2),i=function(){function t(t,e){this.lat=t,this.lon=e}return t.prototype.getLatitude=function(){return this.lat},t.prototype.getLongitude=function(){return this.lon},t.prototype.toArray=function(){return{lat:this.lat,lon:this.lon}},t.createFromArray=function(e){if(void 0===e.lat||void 0===e.lon)throw n.default.coordinateFormatNotValid();return new t(e.lat,e.lon)},t}();e.default=i},function(t,e,r){"use strict";(function(e){var n=r(0),i=r(48),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s={adapter:function(){var t;return"undefined"!=typeof XMLHttpRequest?t=r(16):void 0!==e&&(t=r(16)),t}(),transformRequest:[function(t,e){return i(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(t){s.headers[t]={}}),n.forEach(["post","put","patch"],function(t){s.headers[t]=n.merge(o)}),t.exports=s}).call(this,r(49))},function(t,e,r){"use strict";e.__esModule=!0;var n=r(22),i=function(){function t(t){this.aggregations={},this.totalElements=t}return t.prototype.addAggregation=function(t,e){this.aggregations[t]=e},t.prototype.getAggregations=function(){return this.aggregations},t.prototype.getAggregation=function(t){return this.aggregations[t]instanceof n.default?this.aggregations[t]:null},t.prototype.hasNotEmptyAggregation=function(t){var e=this.getAggregation(t);return e instanceof n.default&&!e.isEmpty()},t.prototype.getTotalElements=function(){return this.totalElements},t.prototype.toArray=function(){var t={};for(var e in this.aggregations)t[e]=this.aggregations[e].toArray();var r={};return this.totalElements>0&&(r.total_elements=this.totalElements),Object.keys(t).length>0&&(r.aggregations=t),r},t.createFromArray=function(e){var r=new t("number"==typeof e.total_elements?e.total_elements:0);if(typeof e.aggregations==typeof{})for(var i in e.aggregations)r.addAggregation(i,n.default.createFromArray(e.aggregations[i]));return r},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n=r(6),i=r(5),o=r(9),a=function(){function t(t,e,r){this.items=[],this.suggests=[],this.query=t,this.totalItems=e,this.totalHits=r}return t.create=function(e,r,n,i,o,a){var s=new t(e,r,n);return s.aggregations=i,s.suggests=o,s.items=a,s},t.prototype.addItem=function(t){this.items.push(t)},t.prototype.getItems=function(){return this.items},t.prototype.getItemsGroupedByTypes=function(){if(this.itemsGroupedByTypeCache instanceof Object&&Object.keys(this.itemsGroupedByTypeCache).length>0)return this.itemsGroupedByTypeCache;var t={};for(var e in this.items){var r=this.items[e];t[r.getType()]instanceof Array||(t[r.getType()]=[]),t[r.getType()].push(r)}return this.itemsGroupedByTypeCache=t,t},t.prototype.getItemsByType=function(t){var e=this.getItemsGroupedByTypes();return null==e[t]?[]:e[t]},t.prototype.getItemsByTypes=function(t){return this.items.filter(function(e){return t.indexOf(e.getType())>=0})},t.prototype.getFirstItem=function(){return this.items.length>0?this.items[0]:null},t.prototype.setAggregations=function(t){this.aggregations=t},t.prototype.getAggregations=function(){return this.aggregations instanceof o.default?this.aggregations:null},t.prototype.getAggregation=function(t){return null==this.aggregations?null:this.aggregations.getAggregation(t)},t.prototype.hasNotEmptyAggregation=function(t){return null!=this.aggregations&&this.aggregations.hasNotEmptyAggregation(t)},t.prototype.addSuggest=function(t){this.suggests.push(t)},t.prototype.getSuggests=function(){return this.suggests},t.prototype.getQuery=function(){return this.query},t.prototype.getTotalItems=function(){return this.totalItems},t.prototype.getTotalHits=function(){return this.totalHits},t.prototype.toArray=function(){return{query:this.query.toArray(),total_items:this.totalItems,total_hits:this.totalHits,items:this.items.map(function(t){return t.toArray()}),aggregations:null==this.aggregations?null:this.aggregations.toArray(),suggests:this.suggests}},t.createFromArray=function(e){return t.create(i.default.createFromArray(e.query),e.total_items?e.total_items:0,e.total_hits?e.total_hits:0,e.aggregations instanceof Object?o.default.createFromArray(e.aggregations):null,e.suggests?e.suggests:null,e.items instanceof Array?e.items.map(function(t){return n.default.createFromArray(t)}):[])},t}();e.default=a},function(t,e,r){"use strict";e.__esModule=!0,e.SORT_BY_TYPE_FIELD=1,e.SORT_BY_TYPE_NESTED=2,e.SORT_BY_ASC="asc",e.SORT_BY_DESC="desc",e.SORT_BY_MODE_AVG="avg",e.SORT_BY_MODE_SUM="sum",e.SORT_BY_MODE_MIN="min",e.SORT_BY_MODE_MAX="max",e.SORT_BY_MODE_MEDIAN="median",e.SORT_BY_SCORE={_score:{order:e.SORT_BY_ASC}},e.SORT_BY_RANDOM={random:{order:e.SORT_BY_ASC}},e.SORT_BY_AL_TUN_TUN=e.SORT_BY_RANDOM,e.SORT_BY_ID_ASC={"uuid.id":{order:e.SORT_BY_ASC}},e.SORT_BY_ID_DESC={"uuid.id":{order:e.SORT_BY_DESC}},e.SORT_BY_TYPE_ASC={"uuid.type":{order:e.SORT_BY_ASC}},e.SORT_BY_TYPE_DESC={"uuid.type":{order:e.SORT_BY_DESC}},e.SORT_BY_LOCATION_KM_ASC={_geo_distance:{order:e.SORT_BY_ASC,unit:"km"}},e.SORT_BY_LOCATION_MI_ASC={_geo_distance:{order:e.SORT_BY_DESC,unit:"mi"}};var n=r(7),i=r(1),o=function(){function t(){this.sortsBy=[]}return t.create=function(){return new t},t.byFieldsValues=function(e){var r=t.create();for(var n in e)r.byFieldValue(n,e[n]);return r},t.prototype.all=function(){return this.sortsBy.length>0?this.sortsBy:[e.SORT_BY_SCORE]},t.prototype.byValue=function(t){return e.SORT_BY_SCORE!=t&&e.SORT_BY_RANDOM!=t&&void 0===t.type&&(t.type=e.SORT_BY_TYPE_FIELD),e.SORT_BY_SCORE!=t&&this.sortsBy.push(t),this},t.prototype.byFieldValue=function(t,r){var n={type:e.SORT_BY_TYPE_FIELD};return n["indexed_metadata."+t]={order:r},this.sortsBy.push(n),this},t.prototype.byNestedField=function(t,r,n){void 0===n&&(n=e.SORT_BY_MODE_AVG);var i={type:e.SORT_BY_TYPE_NESTED,mode:n};return i["indexed_metadata."+t]={order:r},this.sortsBy.push(i),this},t.prototype.byNestedFieldAndFilter=function(t,r,n,o){void 0===o&&(o=e.SORT_BY_MODE_AVG);var a=i.default.getFilterPathByField(n.getField()),s=n.toArray();s.field=a,n=i.default.createFromArray(s);var u={type:e.SORT_BY_TYPE_NESTED,mode:o,filter:n};return u["indexed_metadata."+t]={order:r},this.sortsBy.push(u),this},t.prototype.isSortedByGeoDistance=function(){for(var t in this.sortsBy)if(typeof this.sortsBy[t]._geo_distance==typeof{})return!0;return!1},t.prototype.setCoordinate=function(t){for(var e in this.sortsBy)typeof this.sortsBy[e]._geo_distance==typeof{}&&(this.sortsBy[e]._geo_distance.coordinate=t);return this},t.prototype.hasRandomSort=function(){for(var t in this.sortsBy)if(JSON.stringify(this.sortsBy[t])===JSON.stringify(e.SORT_BY_RANDOM))return!0;return!1},t.prototype.toArray=function(){var t=this.copy().sortsBy;for(var r in t)t[r].type==e.SORT_BY_TYPE_FIELD&&delete t[r].type,typeof t[r].filter==typeof{}&&null!=t[r].filter&&(t[r].filter=t[r].filter.toArray()),typeof t[r]._geo_distance==typeof{}&&null!==t[r]._geo_distance&&t[r]._geo_distance.coordinate instanceof n.default&&(t[r]._geo_distance.coordinate=t[r]._geo_distance.coordinate.toArray());return t},t.createFromArray=function(r){var o=JSON.parse(JSON.stringify(r)),a=t.create();for(var s in o){var u=o[s];JSON.stringify(u)!==JSON.stringify(e.SORT_BY_RANDOM)&&JSON.stringify(u)!==JSON.stringify(e.SORT_BY_SCORE)&&void 0===u.type&&(u.type=e.SORT_BY_TYPE_FIELD),typeof u.filter==typeof{}&&null!=u.filter&&(u.filter=i.default.createFromArray(u.filter)),typeof u._geo_distance==typeof{}&&null!=u._geo_distance&&typeof u._geo_distance.coordinate==typeof{}&&(u._geo_distance.coordinate=n.default.createFromArray(u._geo_distance.coordinate)),a.sortsBy.push(u)}return a},t.prototype.copy=function(){var e=t.create();for(var r in this.sortsBy){var o=this.sortsBy[r],a=JSON.parse(JSON.stringify(o));typeof o.filter==typeof{}&&null!=o.filter&&(a.filter=i.default.createFromArray(o.filter.toArray())),typeof o._geo_distance==typeof{}&&null!=o._geo_distance&&typeof o._geo_distance.coordinate==typeof{}&&(a._geo_distance.coordinate=n.default.createFromArray(o._geo_distance.coordinate.toArray())),e.sortsBy.push(a)}return e},t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=r(1);e.AGGREGATION_SORT_BY_COUNT_ASC=["_count","asc"],e.AGGREGATION_SORT_BY_COUNT_DESC=["_count","desc"],e.AGGREGATION_SORT_BY_NAME_ASC=["_term","asc"],e.AGGREGATION_SORT_BY_NAME_DESC=["_term","desc"],e.AGGREGATION_NO_LIMIT=0;var i=function(){function t(t,e,r,n,i,o,a){this.subgroup=[],this.name=t,this.field=e,this.applicationType=r,this.filterType=n,this.subgroup=i,this.sort=o,this.limit=a}return t.prototype.getName=function(){return this.name},t.prototype.getField=function(){return this.field},t.prototype.getApplicationType=function(){return this.applicationType},t.prototype.getFilterType=function(){return this.filterType},t.prototype.getSubgroup=function(){return this.subgroup},t.prototype.getSort=function(){return this.sort},t.prototype.getLimit=function(){return this.limit},t.create=function(r,n,i,o,a,s,u){return void 0===a&&(a=[]),void 0===s&&(s=e.AGGREGATION_SORT_BY_COUNT_DESC),void 0===u&&(u=e.AGGREGATION_NO_LIMIT),new t(r,n,i,o,a,s,u)},t.prototype.toArray=function(){var t={name:this.name};return"uuid.type"!=this.field&&(t.field=this.field),this.applicationType!=n.FILTER_AT_LEAST_ONE&&(t.application_type=this.applicationType),this.filterType!=n.FILTER_TYPE_FIELD&&(t.filter_type=this.filterType),this.subgroup.length>0&&(t.subgroup=this.subgroup),JSON.stringify(this.sort)!==JSON.stringify(e.AGGREGATION_SORT_BY_COUNT_DESC)&&(t.sort=this.sort),this.limit!=e.AGGREGATION_NO_LIMIT&&(t.limit=this.limit),t},t.createFromArray=function(r){return void 0===(r=JSON.parse(JSON.stringify(r))).field&&(r.field="uuid.type"),void 0===r.application_type&&(r.application_type=n.FILTER_AT_LEAST_ONE),void 0===r.filter_type&&(r.filter_type=n.FILTER_TYPE_FIELD),void 0===r.subgroup&&(r.subgroup=[]),void 0===r.sort&&(r.sort=e.AGGREGATION_SORT_BY_COUNT_DESC),void 0===r.limit&&(r.limit=e.AGGREGATION_NO_LIMIT),t.create(r.name,r.field,r.application_type,r.filter_type,r.subgroup,r.sort,r.limit)},t}();e.default=i},function(t,e,r){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,r){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,r){"use strict";var n=r(46);t.exports=function(t,e,r,i,o){var a=new Error(t);return n(a,e,r,i,o)}},function(t,e,r){"use strict";var n=r(0),i=r(47),o=r(45),a=r(44),s=r(43),u=r(15),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(42);t.exports=function(t){return new Promise(function(e,f){var l=t.data,p=t.headers;n.isFormData(l)&&delete p["Content-Type"];var d=new XMLHttpRequest,h="onreadystatechange",y=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||s(t.url)||(d=new window.XDomainRequest,h="onload",y=!0,d.onprogress=function(){},d.ontimeout=function(){}),t.auth){var g=t.auth.username||"",_=t.auth.password||"";p.Authorization="Basic "+c(g+":"+_)}if(d.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d[h]=function(){if(d&&(4===d.readyState||y)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:r,config:t,request:d};i(e,f,n),d=null}},d.onerror=function(){f(u("Network Error",t,null,d)),d=null},d.ontimeout=function(){f(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var v=r(41),m=(t.withCredentials||s(t.url))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;m&&(p[t.xsrfHeaderName]=m)}if("setRequestHeader"in d&&n.forEach(p,function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete p[e]:d.setRequestHeader(e,t)}),t.withCredentials&&(d.withCredentials=!0),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){d&&(d.abort(),f(t),d=null)}),void 0===l&&(l=null),d.send(l)})}},function(t,e,r){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(6),i=r(4),o=function(){function t(){this.readTransformers=[],this.writeTransformers=[]}return t.prototype.addReadTransformer=function(t){this.readTransformers.push(t)},t.prototype.addWriteTransformer=function(t){this.writeTransformers.push(t)},t.prototype.fromItems=function(t){var e=[];for(var r in t)e.push(this.fromItem(t[r]));return e},t.prototype.fromItem=function(t){for(var e in this.readTransformers){var r=this.readTransformers[e];if(r.isValidItem(t))return r.fromItem(t)}return t},t.prototype.toItems=function(t){var e=[];for(var r in t){var i=this.toItem(t[r]);i instanceof n.default&&e.push(i)}return e},t.prototype.toItem=function(t){for(var e in this.writeTransformers){var r=this.writeTransformers[e];if(r.isValidObject(t))return r.toItem(t)}return t},t.prototype.toItemUUIDs=function(t){var e=[];for(var r in t){var n=this.toItemUUID(t[r]);n instanceof i.default&&e.push(n)}return e},t.prototype.toItemUUID=function(t){for(var e in this.writeTransformers){var r=this.writeTransformers[e];if(r.isValidObject(t))return r.toItemUUID(t)}return t},t}();e.default=o},function(t,e,r){"use strict";var n=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(a,s)}u((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};e.__esModule=!0;var o=function(){function t(t,e,r){this.itemsToUpdate=[],this.itemsToDelete=[],this.appId=t,this.indexId=e,this.token=r}return t.prototype.resetCachedElements=function(){this.itemsToUpdate=[],this.itemsToDelete=[]},t.prototype.addItem=function(t){this.itemsToUpdate.push(t)},t.prototype.addItems=function(t){for(var e in t)this.addItem(t[e])},t.prototype.deleteItem=function(t){this.itemsToDelete.push(t)},t.prototype.deleteItems=function(t){for(var e in t)this.deleteItem(t[e])},t.prototype.flush=function(t,e){return n(this,void 0,void 0,function(){var r,n,o;return i(this,function(i){switch(i.label){case 0:if(t||(t=500),e||(e=!1),e&&this.itemsToUpdate.length<t)return[2,new Promise(function(t){return t()})];r=0,n=[],i.label=1;case 1:i.trys.push([1,6,,7]),i.label=2;case 2:return 0===(n=this.itemsToUpdate.slice(r,r+t)).length?[3,4]:[4,this.flushItems(n,[])];case 3:return i.sent(),r+=t,[3,2];case 4:return[4,this.flushItems([],this.itemsToDelete)];case 5:return i.sent(),[3,7];case 6:throw o=i.sent(),this.resetCachedElements(),o;case 7:return this.resetCachedElements(),[2,new Promise(function(t){return t()})]}})})},t}();e.default=o},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(){}return t.toMetadata=function(t){t=JSON.parse(JSON.stringify(t));var e=[];for(var r in t)e.push(r+"##"+t[r]);return e.join("~~")},t.fromMetadata=function(t){var e={},r=t.split("~~"),n=0,i=0,o=null;for(var a in r){var s=r[a],u=s.split("##");u.length>1?(o=u[1],e[u[0]]=o):(o=s,e[n++]=o),i++}return 1==i&&(e={id:o,name:o}),void 0===e.id?null:e},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=r(20),i=function(){function t(t,e,r){this.values=t,this.used=e,this.n=r}return t.prototype.getId=function(){return"string"==typeof this.values.id?this.values.id:null},t.prototype.getName=function(){return"string"==typeof this.values.name?this.values.name:null},t.prototype.getSlug=function(){return"string"==typeof this.values.slug?this.values.slug:null},t.prototype.getLevel=function(){return"number"==typeof this.values.level?this.values.level:0},t.prototype.getValues=function(){return this.values},t.prototype.isUsed=function(){return this.used},t.prototype.getN=function(){return this.n},t.createByActiveElements=function(e,r,i){var o=n.default.fromMetadata(e);if(null==o)return null;for(var a=i.length,s=!1;a--;)i[a]==o.id&&(s=!0);return new t(o,s,r)},t.prototype.toArray=function(){var t={values:this.values,n:this.n};return!0===this.used&&(t.used=!0),t},t.createFromArray=function(e){return new t((e=JSON.parse(JSON.stringify(e))).values,"boolean"==typeof e.used&&e.used,e.n)},t}();e.default=i},function(t,e,r){"use strict";var n=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};e.__esModule=!0;var i=r(1),o=r(21),a=function(){function t(t,e,r,n){for(var i in this.counters={},this.highestActiveElement=0,this.name=t,this.applicationType=e,this.totalElements=r,this.activeElements={},n){var o=n[i];this.activeElements[o]=o}}return t.prototype.addCounter=function(t,e){if(0!=e){var r=o.default.createByActiveElements(t,e,Object.keys(this.activeElements));if(r instanceof o.default)return this.applicationType&i.FILTER_MUST_ALL_WITH_LEVELS&&this.applicationType&~i.FILTER_MUST_ALL&&r.isUsed()?(this.activeElements[r.getId()]=r,void(this.highestActiveElement=Math.max(r.getLevel(),this.highestActiveElement))):void(this.counters[r.getId()]=r)}},t.prototype.getName=function(){return this.name},t.prototype.getCounters=function(){return this.counters},t.prototype.isFilter=function(){return(this.applicationType&i.FILTER_MUST_ALL)>0},t.prototype.hasLevels=function(){return(this.applicationType&i.FILTER_MUST_ALL_WITH_LEVELS)>0},t.prototype.getCounter=function(t){return this.counters[t]instanceof o.default?this.counters[t]:null},t.prototype.getAllElements=function(){return n({},this.activeElements,this.counters)},t.prototype.getTotalElements=function(){return this.totalElements},t.prototype.getActiveElements=function(){if(0===Object.keys(this.activeElements).length)return{};if(this.applicationType===i.FILTER_MUST_ALL_WITH_LEVELS){var t=null;for(var e in this.activeElements){var r=this.activeElements[e];r instanceof o.default&&(null==t&&(t=r),t=t.getLevel()>r.getLevel()?t:r)}return t instanceof o.default?{0:t}:null}return this.activeElements},t.prototype.cleanCountersByLevel=function(){for(var t in this.counters){this.counters[t].getLevel()!==this.highestActiveElement+1&&delete this.counters[t]}},t.prototype.isEmpty=function(){return 0==Object.keys(this.activeElements).length&&0==Object.keys(this.counters).length},t.prototype.toArray=function(){var t={name:this.name,counters:[],active_elements:[]};for(var e in this.counters)t.counters.push(this.counters[e].toArray());for(var e in this.applicationType!==i.FILTER_AT_LEAST_ONE&&(t.application_type=this.applicationType),this.totalElements>0&&(t.total_elements=this.totalElements),this.activeElements){var r=this.activeElements[e];t.active_elements.push(r instanceof o.default?r.toArray():r)}return this.highestActiveElement>0&&(t.highest_active_level=this.highestActiveElement),0===t.counters.length&&delete t.counters,0===t.active_elements.length&&delete t.active_elements,t},t.createFromArray=function(e){var r=[],n=e.active_elements;for(var a in n=typeof n==typeof[]?n:[]){var s=n[a];r.push(typeof s==typeof{}?o.default.createFromArray(s):s)}var u=new t(e.name,parseInt(e.application_type?e.application_type:i.FILTER_AT_LEAST_ONE),parseInt(e.total_elements?e.total_elements:0),[]);u.activeElements=r;var c=typeof e.counters==typeof[]?e.counters:[];for(var a in c){var f=c[a],l=o.default.createFromArray(f);u.counters[l.getId()]=l}return u.highestActiveElement="number"==typeof e.highest_active_level?e.highest_active_level:0,u},t}();e.default=a},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();e.__esModule=!0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.getTransportableHTTPError=function(){return 404},e.indexNotAvailable=function(t){return new e("Index not available - "+t)},e.eventsIndexNotAvailable=function(t){return new e("Events not available - "+t)},e.logsIndexNotAvailable=function(t){return new e("Logs not available - "+t)},e.engineNotAvailable=function(t){return new e("Engine not available - "+t)},e}(r(3).default);e.default=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();e.__esModule=!0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.getTransportableHTTPError=function(){return 409},e.indexAvailable=function(){return new e("Index exists and cannot be created again")},e.eventsIndexAvailable=function(){return new e("Events index exists and cannot be created again")},e.logsIndexAvailable=function(){return new e("Logs index exists and cannot be created again")},e}(r(3).default);e.default=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();e.__esModule=!0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.getTransportableHTTPError=function(){return 401},e.createInvalidTokenPermissions=function(t){return new e("Token "+t+"not valid")},e.createInvalidTokenMaxHitsPerQuery=function(t,r){return new e("Token "+t+"not valid. Max "+r+" hits allowed")},e}(r(3).default);e.default=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();e.__esModule=!0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.getTransportableHTTPError=function(){return 500},e}(r(3).default);e.default=i},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(a,s)}u((n=n.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};e.__esModule=!0;var a=r(26),s=r(2),u=r(25),c=r(24),f=r(23),l=r(6),p=r(4),d=r(10),h=function(t){function e(e,r,n,i,o){var a=t.call(this,r,n,i)||this;return a.httpClient=e,a.transformer=o,a}return n(e,t),e.prototype.getTransformer=function(){return this.transformer},e.prototype.addObject=function(t){var e=this.transformer.toItem(t);e instanceof l.default&&this.addItem(e)},e.prototype.deleteObject=function(t){var e=this.transformer.toItemUUID(t);e instanceof p.default&&this.deleteItem(e)},e.prototype.flushItems=function(t,e){return i(this,void 0,void 0,function(){var r,n,i;return o(this,function(o){switch(o.label){case 0:return n=(r=Promise).all,[4,this.flushUpdateItems(t)];case 1:return i=[o.sent()],[4,this.flushDeleteItems(e)];case 2:return[4,n.apply(r,[i.concat([o.sent()])]).then(function(t){})];case 3:return o.sent(),[2,new Promise(function(t){return t()})]}})})},e.prototype.flushUpdateItems=function(t){return i(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return[4,t.length>0];case 1:return[2,r.sent()?this.httpClient.get("/items","post",this.getCredentials(),{},{items:t.map(function(t){return t.toArray()})}).then(function(t){e.throwTransportableExceptionIfNeeded(t)}):new Promise(function(t){return t()})]}})})},e.prototype.flushDeleteItems=function(t){return i(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return[4,t.length>0];case 1:return[2,r.sent()?this.httpClient.get("/items","delete",this.getCredentials(),{},{items:t.map(function(t){return t.toArray()})}).then(function(t){e.throwTransportableExceptionIfNeeded(t)}):new Promise(function(t){return t()})]}})})},e.prototype.query=function(t){return i(this,void 0,void 0,function(){var r;return o(this,function(n){switch(n.label){case 0:return r=this,[4,this.httpClient.get("/","get",this.getCredentials(),{query:JSON.stringify(t.toArray())},{}).then(function(t){e.throwTransportableExceptionIfNeeded(t);var n=d.default.createFromArray(t.getBody());return d.default.create(n.getQuery(),n.getTotalItems(),n.getTotalHits(),n.getAggregations(),n.getSuggests(),r.transformer.fromItems(n.getItems()))})];case 1:return[2,n.sent()]}})})},e.prototype.updateItems=function(t,r){return i(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,this.httpClient.get("/items","put",this.getCredentials(),{},{query:t.toArray(),changes:r.toArray()}).then(function(t){e.throwTransportableExceptionIfNeeded(t)})];case 1:return[2,n.sent()]}})})},e.prototype.createIndex=function(t){return i(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return[4,this.httpClient.get("/index","post",this.getCredentials(),{},{config:t.toArray()}).then(function(t){e.throwTransportableExceptionIfNeeded(t)})];case 1:return[2,r.sent()]}})})},e.prototype.deleteIndex=function(){return i(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this.httpClient.get("/index","delete",this.getCredentials(),{},{}).then(function(t){e.throwTransportableExceptionIfNeeded(t)})];case 1:return[2,t.sent()]}})})},e.prototype.resetIndex=function(){return i(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this.httpClient.get("/index/reset","post",this.getCredentials(),{},{}).then(function(t){e.throwTransportableExceptionIfNeeded(t)})];case 1:return[2,t.sent()]}})})},e.prototype.checkIndex=function(){return i(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this.httpClient.get("/index","head",this.getCredentials(),{},{}).then(function(t){return e.throwTransportableExceptionIfNeeded(t),200===t.getCode()})];case 1:return[2,t.sent()]}})})},e.prototype.configureIndex=function(t){return i(this,void 0,void 0,function(){return o(this,function(r){switch(r.label){case 0:return[4,this.httpClient.get("/index/config","post",this.getCredentials(),{},{config:t.toArray()}).then(function(t){e.throwTransportableExceptionIfNeeded(t)})];case 1:return[2,r.sent()]}})})},e.prototype.getCredentials=function(){return{app_id:this.appId,index:this.indexId,token:this.token}},e.throwTransportableExceptionIfNeeded=function(t){if(void 0!==t.getCode())switch(t.getCode()){case f.default.getTransportableHTTPError():throw new f.default(t.getBody().message);case u.default.getTransportableHTTPError():throw new u.default(t.getBody().message);case s.default.getTransportableHTTPError():throw new s.default(t.getBody().message);case c.default.getTransportableHTTPError():throw new c.default(t.getBody().message);case a.default.getTransportableHTTPError():throw new a.default(t.getBody().message)}},e}(r(19).default);e.default=h},function(t,e,r){"use strict";e.__esModule=!0,e.SCORE_STRATEGY_DEFAULT=0,e.SCORE_STRATEGY_BOOSTING_RELEVANCE_FIELD=1,e.SCORE_STRATEGY_BOOSTING_CUSTOM_FUNCTION=2;var n=function(){function t(){this.type=e.SCORE_STRATEGY_DEFAULT,this.innerFunction=null}return t.prototype.getType=function(){return this.type},t.prototype.getFunction=function(){return this.innerFunction},t.createDefault=function(){return new t},t.createRelevanceBoosting=function(){var r=t.createDefault();return r.type=e.SCORE_STRATEGY_BOOSTING_RELEVANCE_FIELD,r},t.createCustomFunction=function(r){var n=t.createDefault();return n.type=e.SCORE_STRATEGY_BOOSTING_CUSTOM_FUNCTION,n.innerFunction=r,n},t.prototype.toArray=function(){return{type:this.type,function:this.innerFunction}},t.createFromArray=function(r){r=JSON.parse(JSON.stringify(r));var n=t.createDefault();return void 0===r.type&&(r.type=e.SCORE_STRATEGY_DEFAULT),void 0===r.function&&(r.innerFunction=null),n.type=r.type,n.innerFunction=r.function,n},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=r(2),i=function(){function t(t,e){void 0===e&&(e={}),this.id=t,this.attributes=e}return t.prototype.getId=function(){return this.id},t.prototype.getAttributes=function(){return this.attributes},t.prototype.toArray=function(){var t={id:this.id};return Object.keys(this.attributes).length>0&&(t.attributes=this.attributes),t},t.createFromArray=function(e){if(null==e||void 0===e.id||null==e.id)throw n.default.userFormatNotValid();var r=typeof e.attributes==typeof{}?e.attributes:{};return new t(e.id,r)},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0,e.DEFAULT_MICROSECONDS_BETWEEN_RETRIES=1e3;var n=function(){function t(t,e,r,n){this.url=t,this.method=e,this.retries=r,this.microsecondsBetweenRetries=n}return t.createFromArray=function(r){return new t(r.url?r.url:"*",r.method?r.method:"*",r.retries?r.retries:0,r.microseconds_between_retries?r.microseconds_between_retries:e.DEFAULT_MICROSECONDS_BETWEEN_RETRIES)},t.prototype.getUrl=function(){return this.url},t.prototype.getMethod=function(){return this.method},t.prototype.getRetries=function(){return this.retries},t.prototype.getMicrosecondsBetweenRetries=function(){return this.microsecondsBetweenRetries},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=r(30),i=function(){function t(){this.retries={}}return t.prototype.addRetry=function(t){this.retries[t.getUrl()+"~~"+t.getMethod()]=t},t.createFromArray=function(e){var r=new t;return r.retries=e.map(function(t){return n.default.createFromArray(t)}),r},t.prototype.getRetry=function(t,e){return this.retries[t+"~~"+e]instanceof n.default?this.retries[t+"~~"+e]:this.retries["*~~"+e]instanceof n.default?this.retries["*~~"+e]:this.retries[t+"~~*"]instanceof n.default?this.retries[t+"~~*"]:this.retries["*~~*"]instanceof n.default?this.retries["*~~*"]:null},t}();e.default=i},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){this.code=t,this.body=e}return t.prototype.getCode=function(){return this.code},t.prototype.getBody=function(){return this.body},t}();e.default=n},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(t,e){this.retryMap=e,this.version=t.replace(/^\/*|\/*$/g,"")}return t.objectToUrlParameters=function(t){var e=[];for(var r in t)e.push(r+"="+t[r]);return e.join("&")},t}();e.default=n},function(t,e,r){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,r){"use strict";var n=r(13);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var r=this;t(function(t){r.reason||(r.reason=new n(t),e(r.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},function(t,e,r){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,r){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,r){"use strict";var n=r(0);t.exports=function(t,e,r){return n.forEach(r,function(r){t=r(t,e)}),t}},function(t,e,r){"use strict";var n=r(0),i=r(38),o=r(14),a=r(8),s=r(37),u=r(36);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return c(t),e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return o(e)||(c(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,r){"use strict";var n=r(0);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){n.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=i},function(t,e,r){"use strict";var n=r(0);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,r,o=String(t),a="",s=0,u=n;o.charAt(0|s)||(u="=",s%1);a+=u.charAt(63&e>>8-s%1*8)){if((r=o.charCodeAt(s+=.75))>255)throw new i;e=e<<8|r}return a}},function(t,e,r){"use strict";var n=r(0);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=i(window.location.href),function(e){var r=n.isString(e)?i(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},function(t,e,r){"use strict";var n=r(0),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,o,a={};return t?(n.forEach(t.split("\n"),function(t){if(o=t.indexOf(":"),e=n.trim(t.substr(0,o)).toLowerCase(),r=n.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([r]):a[e]?a[e]+", "+r:r}}),a):a}},function(t,e,r){"use strict";var n=r(0);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var o;if(r)o=r(e);else if(n.isURLSearchParams(e))o=e.toString();else{var a=[];n.forEach(e,function(t,e){null!==t&&void 0!==t&&(n.isArray(t)&&(e+="[]"),n.isArray(t)||(t=[t]),n.forEach(t,function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))}))}),o=a.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t}},function(t,e,r){"use strict";var n=r(15);t.exports=function(t,e,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},function(t,e,r){"use strict";var n=r(0);t.exports=function(t,e){n.forEach(t,function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])})}},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var u,c=[],f=!1,l=-1;function p(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&d())}function d(){if(!f){var t=s(p);f=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,f=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new h(t,e)),1!==c.length||f||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){"use strict";var n=r(8),i=r(0),o=r(40),a=r(39);function s(t){this.defaults=t,this.interceptors={request:new o,response:new o}}s.prototype.request=function(t){"string"==typeof t&&(t=i.merge({url:arguments[0]},arguments[1])),(t=i.merge(n,this.defaults,{method:"get"},t)).method=t.method.toLowerCase();var e=[a,void 0],r=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)r=r.then(e.shift(),e.shift());return r},i.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(e,r){return this.request(i.merge(r||{},{method:t,url:e}))}}),i.forEach(["post","put","patch"],function(t){s.prototype[t]=function(e,r,n){return this.request(i.merge(n||{},{method:t,url:e,data:r}))}}),t.exports=s},function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,r){"use strict";var n=r(0),i=r(17),o=r(50),a=r(8);function s(t){var e=new o(t),r=i(o.prototype.request,e);return n.extend(r,o.prototype,e),n.extend(r,e),r}var u=s(a);u.Axios=o,u.create=function(t){return s(n.merge(a,t))},u.Cancel=r(13),u.CancelToken=r(35),u.isCancel=r(14),u.all=function(t){return Promise.all(t)},u.spread=r(34),t.exports=u,t.exports.default=u},function(t,e,r){t.exports=r(52)},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(a,s)}u((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};e.__esModule=!0;var s=r(53),u=r(33),c=r(32),f=function(t){function e(e,r,n,i,o,a){var u=t.call(this,r,i)||this;return u.host=e,u.timeout=n,u.cache=a,u.overrideQueries=o,u.cancelToken=s.default.CancelToken.source(),u}return n(e,t),e.prototype.get=function(t,e,r,n,f){return void 0===n&&(n={}),void 0===f&&(f={}),o(this,void 0,void 0,function(){var o,l=this;return a(this,function(a){return o=this,t=t.replace(/^\/*|\/*$/g,""),t="/"+(this.version+"/"+t).replace(/^\/*|\/*$/g,""),"get"===(e=e.toLowerCase())&&this.overrideQueries&&this.abort(),[2,new Promise(function(a,p){var d="get"==e?{}:{"Content-Encoding":"gzip","Content-Type":"application/json"};s.default.request({url:t+"?"+u.default.objectToUrlParameters(i({},r,n)),data:f,headers:d,method:e,baseURL:o.host.replace(/\/*$/g,""),timeout:o.timeout,cancelToken:l.cancelToken.token,transformRequest:[function(t){return JSON.stringify(t)}]}).then(function(t){var e=new c.default(t.status,t.data);return a(e)}).catch(function(t){return p(t)})})]})})},e.prototype.abort=function(){this.cancelToken.cancel(),this.cancelToken=s.default.CancelToken.source()},e}(u.default);e.default=f},function(t,e,r){"use strict";e.__esModule=!0;var n=function(){function t(){}return t.prototype.set=function(t,e){},t.prototype.get=function(t){},t.prototype.del=function(t){},t.prototype.clear=function(){},t}();e.default=n},function(t,e,r){"use strict";var n=this&&this.__assign||Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};e.__esModule=!0;var i=r(55),o=r(54),a=r(31),s=r(5),u=r(5),c=r(5),f=r(11),l=r(27),p=r(9),d=r(10),h=r(18),y=function(){function t(){}return t.createRepository=function(t){t.options=n({api_version:"v1",cache:new i.default,timeout:1e4,override_queries:!0},t.options);var e=new o.default(t.options.endpoint,t.options.api_version,t.options.timeout,new a.default,t.options.override_queries,t.options.cache);return new l.default(e,t.app_id,t.index_id,t.token,new h.default)},t.createQueryLocated=function(t,e,r,n){return void 0===r&&(r=u.QUERY_DEFAULT_PAGE),void 0===n&&(n=c.QUERY_DEFAULT_SIZE),s.default.createLocated(t,e,r,n)},t.createQuery=function(t,e,r){return void 0===e&&(e=u.QUERY_DEFAULT_PAGE),void 0===r&&(r=c.QUERY_DEFAULT_SIZE),s.default.create(t,e,r)},t.createQueryMatchAll=function(){return s.default.createMatchAll()},t.createQueryByUUID=function(t){return s.default.createByUUID(t)},t.createQueryByUUIDs=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s.default.createByUUIDs.apply(s.default,t)},t.createEmptyResult=function(){return d.default.create(t.createQueryMatchAll(),0,0,new p.default(0),[],[])},t.createEmptySortBy=function(){return f.default.create()},t}();e.default=y},function(t,e,r){"use strict";e.__esModule=!0;var n=r(56);e.default=n.default}]).default});
//# sourceMappingURL=apisearch.node.min.js.map