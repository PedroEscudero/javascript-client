var apisearch=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n(1),o=r(i),u=n(5),a=r(u),s=function(e,t,n){this.repository=e,this.endpoint=t,this.secret=n},l=function(e,t){return new a.default(this.endpoint,this.secret).query(e).then(function(e){return t(e)})},f={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.QUERY_DEFAULT_PAGE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.QUERY_DEFAULT_SIZE;return new o.default({q:e,from:(t-1)*n,page:t,size:n})},createMatchAll:function(){return new o.default({q:"",page:i.QUERY_DEFAULT_PAGE,size:i.QUERY_INFINITE_SIZE})},createLocated:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.QUERY_DEFAULT_PAGE,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i.QUERY_DEFAULT_SIZE;return new o.default({coordinate:e,page:n,size:r,q:t})}},c=function(e,t){return{id:e,type:t}};e.exports={client:s,search:l,query:f,createUUID:c}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.QUERY_INFINITE_SIZE=t.QUERY_DEFAULT_SIZE=t.QUERY_DEFAULT_PAGE=t.QUERY_DEFAULT_FROM=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(2),c=r(f),d=n(3),h=r(d),_=n(4),g=t.QUERY_DEFAULT_FROM=0,E=t.QUERY_DEFAULT_PAGE=1,y=t.QUERY_DEFAULT_SIZE=10,v=(t.QUERY_INFINITE_SIZE=1e3,function(){function e(t){return u(this,e),this.q=t.q,this.universe_filters=t.universe_filters||[],this.filters=t.filters||[],this.items_promoted=t.items_promoted||[],this.aggregations=t.aggregations||[],this.page=t.aggregations||E,this.size=t.size||y,this.from=t.from||g,this.aggregations_enabled=t.aggregations_enabled||!0,this.suggestions_enabled=t.suggestions_enabled||!1,this.highlight_enabled=t.highlight_enabled||!1,this.filter_fields=t.filter_fields||[],this.user=t.user,this.coordinate=(0,_.checkCoordinateTypes)(t.coordinate),this.coordinate=t.coordinate,this}return l(e,[{key:"filterBy",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.FILTER_AT_LEAST_ONE,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:f.AGGREGATION_SORT_BY_COUNT_DESC;if("object"!==(void 0===n?"undefined":s(n)))throw new Error('values must be type of "array", "'+(void 0===n?"undefined":s(n))+'" given.');if("object"!==(void 0===u?"undefined":s(u)))throw new Error('values must be type of "array", "'+(void 0===u?"undefined":s(u))+'" given.');var l=h.default.getFilterPathByField(t);return 0!==n.length?this.filters=a({},this.filters,o({},e,new h.default(l,n,r,d.FILTER_TYPE_FIELD))):delete this.filters[t],i&&this.aggregateBy(e,t,r,u),this}},{key:"filterUniverseBy",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.FILTER_AT_LEAST_ONE;if("object"!==(void 0===t?"undefined":s(t)))throw new Error('values must be type of "array", "'+(void 0===t?"undefined":s(t))+'" given.');var r=h.default.getFilterPathByField(e);return 0!==t.length?this.universe_filters=a({},this.universe_filters,o({},e,new h.default(r,t,n,d.FILTER_TYPE_FIELD))):delete this.universe_filters[e],this}},{key:"aggregateBy",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f.AGGREGATION_SORT_BY_COUNT_DESC,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:f.AGGREGATION_NO_LIMIT;return this.aggregations=a({},this.aggregations,o({},e,new c.default(e,h.default.getFilterPathByField(t),n,d.FILTER_TYPE_FIELD,[],r,i))),this}},{key:"enableAggregations",value:function(){return this.aggregations_enabled=!0,this}},{key:"disableAggregations",value:function(){return this.aggregations_enabled=!1,this}},{key:"enableSuggestions",value:function(){return this.suggestions_enabled=!0,this}},{key:"disableSuggestions",value:function(){return this.suggestions_enabled=!1,this}},{key:"enableHighlights",value:function(){return this.highlight_enabled=!0,this}},{key:"disableHighlights",value:function(){return this.highlight_enabled=!1,this}},{key:"promoteUUID",value:function(e){if("object"!==(void 0===e?"undefined":s(e)))throw new Error('values must be type of "object", "'+("undefined"==typeof values?"undefined":s(values))+'" given.');return this.items_promoted=[].concat(i(this.items_promoted),[e]),this}},{key:"promoteUUIDs",value:function(e){var t=this;return e.forEach(function(e){return t.promoteUUID(e)}),this}}]),e}());t.default=v},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=(t.AGGREGATION_SORT_BY_COUNT_ASC=["_count","asc"],t.AGGREGATION_SORT_BY_COUNT_DESC=["_count","desc"]),o=(t.AGGREGATION_SORT_BY_NAME_ASC=["_term","asc"],t.AGGREGATION_SORT_BY_NAME_DESC=["_term","desc"],t.AGGREGATION_NO_LIMIT=0),u=function e(t,n,u,a,s){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:i,f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:o;r(this,e),this.name=t,this.field=n,this.applicationType=u,this.filterType=a,this.subgroup=s,this.sort=l,this.limit=f};t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=(t.FILTER_MUST_ALL=4,t.FILTER_MUST_ALL_WITH_LEVELS=5,t.FILTER_AT_LEAST_ONE=8,t.FILTER_EXCLUDE=16,t.FILTER_PROMOTE=32,t.FILTER_TYPE_FIELD="field",t.FILTER_TYPE_RANGE="range",t.FILTER_TYPE_DATE_RANGE="date_range",t.FILTER_TYPE_GEO="geo",t.FILTER_TYPE_QUERY="query",function(){function e(t,n,i,o){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return r(this,e),this.field=t,this.values=n,this.application_type=i,this.filter_type=o,this.filter_terms=u,this}return i(e,null,[{key:"getFilterPathByField",value:function(e){return["id","type"].indexOf(e)>-1?"uuid."+e:"indexed_metadata."+e}}]),e}());t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.checkCoordinateTypes=function(e){if(void 0===e)return e;if("object"!==(void 0===e?"undefined":r(e)))throw new Error('Coordinates must be typo of object, "'+(void 0===e?"undefined":r(e))+'" given.');if(void 0!==e.lat&&void 0!==e.lon)return e;throw new Error("Not valid coordinates object type given.")}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(t,n){r(this,e),this.endpoint=t,this.secret=n}return i(e,[{key:"query",value:function(e){e=JSON.stringify(e);var t=this.endpoint+"?key="+this.secret+"&query="+e;return this.fetchData(t)}},{key:"fetchData",value:function(e){return new Promise(function(t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===this.readyState&&200===this.status)return t(JSON.parse(this.responseText))},n.open("GET",e,!0),n.send()})}}]),e}();t.default=o}]);